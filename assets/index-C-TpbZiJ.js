(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();var Pd={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function Vb(){if(V_)return El;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return El.Fragment=e,El.jsx=n,El.jsxs=n,El}var U_;function Ub(){return U_||(U_=1,Pd.exports=Vb()),Pd.exports}var x=Ub(),Vd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function Lb(){if(L_)return Re;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,W={};function G(D,J,ae){this.props=D,this.context=J,this.refs=W,this.updater=ae||H}G.prototype.isReactComponent={},G.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function le(){}le.prototype=G.prototype;function se(D,J,ae){this.props=D,this.context=J,this.refs=W,this.updater=ae||H}var oe=se.prototype=new le;oe.constructor=se,j(oe,G.prototype),oe.isPureReactComponent=!0;var ne=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},ye=Object.prototype.hasOwnProperty;function N(D,J,ae,ee,me,xe){return ae=xe.ref,{$$typeof:r,type:D,key:J,ref:ae!==void 0?ae:null,props:xe}}function S(D,J){return N(D.type,J,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return J[ae]})}var k=/\/+/g;function V(D,J){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):J.toString(36)}function b(){}function Ce(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(b,b):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function we(D,J,ae,ee,me){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(xe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case T:return Ae=D._init,we(Ae(D._payload),J,ae,ee,me)}}if(Ae)return me=me(D),Ae=ee===""?"."+V(D,0):ee,ne(me)?(ae="",Ae!=null&&(ae=Ae.replace(k,"$&/")+"/"),we(me,J,ae,"",function(Hn){return Hn})):me!=null&&(R(me)&&(me=S(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(k,"$&/")+"/")+Ae)),J.push(me)),1;Ae=0;var xt=ee===""?".":ee+":";if(ne(D))for(var et=0;et<D.length;et++)ee=D[et],xe=xt+V(ee,et),Ae+=we(ee,J,ae,xe,me);else if(et=C(D),typeof et=="function")for(D=et.call(D),et=0;!(ee=D.next()).done;)ee=ee.value,xe=xt+V(ee,et++),Ae+=we(ee,J,ae,xe,me);else if(xe==="object"){if(typeof D.then=="function")return we(Ce(D),J,ae,ee,me);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Q(D,J,ae){if(D==null)return D;var ee=[],me=0;return we(D,ee,"","",function(xe){return J.call(ae,xe,me++)}),ee}function re(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var fe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function je(){}return Re.Children={map:Q,forEach:function(D,J,ae){Q(D,function(){J.apply(this,arguments)},ae)},count:function(D){var J=0;return Q(D,function(){J++}),J},toArray:function(D){return Q(D,function(J){return J})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=G,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return te.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,J,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var ee=j({},D.props),me=D.key,xe=void 0;if(J!=null)for(Ae in J.ref!==void 0&&(xe=void 0),J.key!==void 0&&(me=""+J.key),J)!ye.call(J,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&J.ref===void 0||(ee[Ae]=J[Ae]);var Ae=arguments.length-2;if(Ae===1)ee.children=ae;else if(1<Ae){for(var xt=Array(Ae),et=0;et<Ae;et++)xt[et]=arguments[et+2];ee.children=xt}return N(D.type,me,void 0,void 0,xe,ee)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Re.createElement=function(D,J,ae){var ee,me={},xe=null;if(J!=null)for(ee in J.key!==void 0&&(xe=""+J.key),J)ye.call(J,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(me[ee]=J[ee]);var Ae=arguments.length-2;if(Ae===1)me.children=ae;else if(1<Ae){for(var xt=Array(Ae),et=0;et<Ae;et++)xt[et]=arguments[et+2];me.children=xt}if(D&&D.defaultProps)for(ee in Ae=D.defaultProps,Ae)me[ee]===void 0&&(me[ee]=Ae[ee]);return N(D,xe,void 0,void 0,null,me)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:p,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:re}},Re.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},Re.startTransition=function(D){var J=te.T,ae={};te.T=ae;try{var ee=D(),me=te.S;me!==null&&me(ae,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(je,fe)}catch(xe){fe(xe)}finally{te.T=J}},Re.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Re.use=function(D){return te.H.use(D)},Re.useActionState=function(D,J,ae){return te.H.useActionState(D,J,ae)},Re.useCallback=function(D,J){return te.H.useCallback(D,J)},Re.useContext=function(D){return te.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,J){return te.H.useDeferredValue(D,J)},Re.useEffect=function(D,J,ae){var ee=te.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(D,J)},Re.useId=function(){return te.H.useId()},Re.useImperativeHandle=function(D,J,ae){return te.H.useImperativeHandle(D,J,ae)},Re.useInsertionEffect=function(D,J){return te.H.useInsertionEffect(D,J)},Re.useLayoutEffect=function(D,J){return te.H.useLayoutEffect(D,J)},Re.useMemo=function(D,J){return te.H.useMemo(D,J)},Re.useOptimistic=function(D,J){return te.H.useOptimistic(D,J)},Re.useReducer=function(D,J,ae){return te.H.useReducer(D,J,ae)},Re.useRef=function(D){return te.H.useRef(D)},Re.useState=function(D){return te.H.useState(D)},Re.useSyncExternalStore=function(D,J,ae){return te.H.useSyncExternalStore(D,J,ae)},Re.useTransition=function(){return te.H.useTransition()},Re.version="19.1.1",Re}var z_;function xp(){return z_||(z_=1,Vd.exports=Lb()),Vd.exports}var He=xp(),Ud={exports:{}},Al={},Ld={exports:{}},zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function zb(){return j_||(j_=1,function(r){function e(Q,re){var fe=Q.length;Q.push(re);e:for(;0<fe;){var je=fe-1>>>1,D=Q[je];if(0<o(D,re))Q[je]=re,Q[fe]=D,fe=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var re=Q[0],fe=Q.pop();if(fe!==re){Q[0]=fe;e:for(var je=0,D=Q.length,J=D>>>1;je<J;){var ae=2*(je+1)-1,ee=Q[ae],me=ae+1,xe=Q[me];if(0>o(ee,fe))me<D&&0>o(xe,ee)?(Q[je]=xe,Q[me]=fe,je=me):(Q[je]=ee,Q[ae]=fe,je=ae);else if(me<D&&0>o(xe,fe))Q[je]=xe,Q[me]=fe,je=me;else break e}}return re}function o(Q,re){var fe=Q.sortIndex-re.sortIndex;return fe!==0?fe:Q.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,w=null,C=3,H=!1,j=!1,W=!1,G=!1,le=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ne(Q){for(var re=n(y);re!==null;){if(re.callback===null)s(y);else if(re.startTime<=Q)s(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function te(Q){if(W=!1,ne(Q),!j)if(n(g)!==null)j=!0,ye||(ye=!0,V());else{var re=n(y);re!==null&&we(te,re.startTime-Q)}}var ye=!1,N=-1,S=5,R=-1;function M(){return G?!0:!(r.unstable_now()-R<S)}function k(){if(G=!1,ye){var Q=r.unstable_now();R=Q;var re=!0;try{e:{j=!1,W&&(W=!1,se(N),N=-1),H=!0;var fe=C;try{t:{for(ne(Q),w=n(g);w!==null&&!(w.expirationTime>Q&&M());){var je=w.callback;if(typeof je=="function"){w.callback=null,C=w.priorityLevel;var D=je(w.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){w.callback=D,ne(Q),re=!0;break t}w===n(g)&&s(g),ne(Q)}else s(g);w=n(g)}if(w!==null)re=!0;else{var J=n(y);J!==null&&we(te,J.startTime-Q),re=!1}}break e}finally{w=null,C=fe,H=!1}re=void 0}}finally{re?V():ye=!1}}}var V;if(typeof oe=="function")V=function(){oe(k)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Ce=b.port2;b.port1.onmessage=k,V=function(){Ce.postMessage(null)}}else V=function(){le(k,0)};function we(Q,re){N=le(function(){Q(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function(Q){switch(C){case 1:case 2:case 3:var re=3;break;default:re=C}var fe=C;C=re;try{return Q()}finally{C=fe}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,re){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=C;C=Q;try{return re()}finally{C=fe}},r.unstable_scheduleCallback=function(Q,re,fe){var je=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?je+fe:je):fe=je,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=fe+D,Q={id:T++,callback:re,priorityLevel:Q,startTime:fe,expirationTime:D,sortIndex:-1},fe>je?(Q.sortIndex=fe,e(y,Q),n(g)===null&&Q===n(y)&&(W?(se(N),N=-1):W=!0,we(te,fe-je))):(Q.sortIndex=D,e(g,Q),j||H||(j=!0,ye||(ye=!0,V()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var re=C;return function(){var fe=C;C=re;try{return Q.apply(this,arguments)}finally{C=fe}}}}(zd)),zd}var q_;function jb(){return q_||(q_=1,Ld.exports=zb()),Ld.exports}var jd={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function qb(){if(B_)return Wt;B_=1;var r=xp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},Wt.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:H}):T==="script"&&s.d.X(g,{crossOrigin:w,integrity:C,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=p(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var H_;function Bb(){if(H_)return jd.exports;H_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jd.exports=qb(),jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function Hb(){if(F_)return Al;F_=1;var r=jb(),e=xp(),n=Bb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var b=Symbol.for("react.client.reference");function Ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===b?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case G:return"Profiler";case W:return"StrictMode";case te:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case H:return"Portal";case oe:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case ne:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ce(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return Ce(t(i))}catch{}}return null}var we=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},je=[],D=-1;function J(t){return{current:t}}function ae(t){0>D||(t.current=je[D],je[D]=null,D--)}function ee(t,i){D++,je[D]=t.current,t.current=i}var me=J(null),xe=J(null),Ae=J(null),xt=J(null);function et(t,i){switch(ee(Ae,i),ee(xe,t),ee(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?c_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=c_(i),t=h_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(me),ee(me,t)}function Hn(){ae(me),ae(xe),ae(Ae)}function ir(t){t.memoizedState!==null&&ee(xt,t);var i=me.current,a=h_(i,t.type);i!==a&&(ee(xe,t),ee(me,a))}function vi(t){xe.current===t&&(ae(me),ae(xe)),xt.current===t&&(ae(xt),gl._currentValue=fe)}var $r=Object.prototype.hasOwnProperty,Zr=r.unstable_scheduleCallback,Jr=r.unstable_cancelCallback,fo=r.unstable_shouldYield,ru=r.unstable_requestPaint,yn=r.unstable_now,kh=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,$s=r.unstable_UserBlockingPriority,es=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,Zs=r.unstable_IdlePriority,mo=r.log,su=r.unstable_setDisableYieldValue,lt=null,Qe=null;function on(t){if(typeof mo=="function"&&su(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(lt,t)}catch{}}var Gt=Math.clz32?Math.clz32:ts,au=Math.log,Vh=Math.LN2;function ts(t){return t>>>=0,t===0?32:31-(au(t)/Vh|0)|0}var ns=256,is=4194304;function Nn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Js(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=Nn(l):(v&=E,v!==0?h=Nn(v):a||(a=E&~t,a!==0&&(h=Nn(a))))):(E=l&~d,E!==0?h=Nn(E):v!==0?h=Nn(v):a||(a=l&~t,a!==0&&(h=Nn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function rs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function go(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yo(){var t=ns;return ns<<=1,(ns&4194048)===0&&(ns=256),t}function _o(){var t=is;return is<<=1,(is&62914560)===0&&(is=4194304),t}function Ti(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ei(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vo(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Gt(a),$=1<<K;E[K]=0,I[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var B=q[K];B!==null&&(B.lane&=-536870913)}a&=~$}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function To(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ea(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sr(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function ou(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var rt=Math.random().toString(36).slice(2),bt="__reactFiber$"+rt,mt="__reactProps$"+rt,_n="__reactContainer$"+rt,Eo="__reactEvents$"+rt,Uh="__reactListeners$"+rt,ar="__reactHandles$"+rt,lu="__reactResources$"+rt,ss="__reactMarker$"+rt;function or(t){delete t[bt],delete t[mt],delete t[Eo],delete t[Uh],delete t[ar]}function Ai(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_n]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[bt])return a;t=m_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[bt]||t[_n]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Qn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Zt(t){var i=t[lu];return i||(i=t[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(t){t[ss]=!0}var Ao=new Set,ta={};function Mn(t,i){bi(t,i),bi(t+"Capture",i)}function bi(t,i){for(ta[t]=i,t=0;t<i.length;t++)Ao.add(i[t])}var uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cu={},as={};function hu(t){return $r.call(as,t)?!0:$r.call(cu,t)?!1:uu.test(t)?as[t]=!0:(cu[t]=!0,!1)}function lr(t,i,a){if(hu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Vt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var os,fu;function Si(t){if(os===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);os=i&&i[1]||"",fu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+os+t+fu}var na=!1;function ia(t,i){if(!t||na)return"";na=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(B){var q=B}Reflect.construct(t,[],$)}else{try{$.call()}catch(B){q=B}t.call($.prototype)}}else{try{throw Error()}catch(B){q=B}($=t())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(B){if(B&&q&&typeof B.stack=="string")return[B.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var I=v.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var K=`
`+I[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{na=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Si(a):""}function bo(t){switch(t.tag){case 26:case 27:case 5:return Si(t.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return ia(t.type,!1);case 11:return ia(t.type.render,!1);case 1:return ia(t.type,!0);case 31:return Si("Activity");default:return""}}function ra(t){try{var i="";do i+=bo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function So(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Lh(t){var i=So(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function sa(t){t._valueTracker||(t._valueTracker=Lh(t))}function wo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=So(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ls(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zh=/[\n"\\]/g;function gt(t){return t.replace(zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ur(t,v,Jt(i)):a!=null?ur(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Jt(E):t.removeAttribute("name")}function us(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ur(t,i,a){i==="number"&&ls(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ye(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(we(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function vn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||hs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ro(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&du(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&du(t,d,i[d])}function Io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(t){return qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ri=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Ci=null;function Co(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+gt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&wo(l)}break e;case"textarea":Ye(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wi(t,!!a.multiple,i,!1)}}}var Kn=!1;function pu(t,i,a){if(Kn)return t(i,a);Kn=!0;try{var l=t(i);return l}finally{if(Kn=!1,(Ii!==null||Ci!==null)&&(oc(),Ii&&(i=Ii,t=Ci,Ci=Ii=null,Co(i),t)))for(i=0;i<t.length;i++)Co(t[i])}}function fs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),En=!1;if(kn)try{var ds={};Object.defineProperty(ds,"passive",{get:function(){En=!0}}),window.addEventListener("test",ds,ds),window.removeEventListener("test",ds,ds)}catch{En=!1}var Yn=null,cr=null,xi=null;function xo(){if(xi)return xi;var t,i=cr,a=i.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return xi=h.slice(t,1<l?1-l:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $n(){return!0}function Do(){return!1}function Dt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?$n:Do,this.isPropagationStopped=Do,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Dt(Fe),ps=T({},Fe,{view:0,detail:0}),mu=Dt(ps),la,ua,Zn,ms=T({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(la=t.screenX-Zn.screenX,ua=t.screenY-Zn.screenY):ua=la=0,Zn=t),la)},movementY:function(t){return"movementY"in t?t.movementY:ua}}),An=Dt(ms),gu=T({},ms,{dataTransfer:0}),Bh=Dt(gu),gs=T({},ps,{relatedTarget:0}),ca=Dt(gs),Oo=T({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),ha=Dt(Oo),yu=T({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fa=Dt(yu),Hh=T({},Fe,{data:0}),No=Dt(Hh),ys={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vu[t])?!!i[t]:!1}function _s(){return Mo}var Tu=T({},ps,{key:function(t){if(t.key){var i=ys[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),da=Dt(Tu),Eu=T({},ms,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=Dt(Eu),Di=T({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),Au=Dt(Di),bu=T({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Su=Dt(bu),wu=T({},ms,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=Dt(wu),en=T({},Fe,{newState:0,oldState:0}),Ru=Dt(en),Iu=[9,13,27,32],Jn=kn&&"CompositionEvent"in window,u=null;kn&&"documentMode"in document&&(u=document.documentMode);var m=kn&&"TextEvent"in window&&!u,_=kn&&(!Jn||u&&8<u&&11>=u),A=" ",U=!1;function F(t,i){switch(t){case"keyup":return Iu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function St(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Ue(t,i){if(Ve)return t==="compositionend"||!Jn&&F(t,i)?(t=xo(),xi=cr=Yn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Ot[t.type]:i==="textarea"}function Oi(t,i,a,l){Ii?Ci?Ci.push(l):Ci=[l]:Ii=l,i=dc(i,"onChange"),0<i.length&&(a=new oa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ei=null;function Po(t){s_(t,0)}function Cu(t){var i=Qn(t);if(wo(i))return t}function Rm(t,i){if(t==="change")return i}var Im=!1;if(kn){var Fh;if(kn){var Gh="oninput"in document;if(!Gh){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),Gh=typeof Cm.oninput=="function"}Fh=Gh}else Fh=!1;Im=Fh&&(!document.documentMode||9<document.documentMode)}function xm(){Ut&&(Ut.detachEvent("onpropertychange",Dm),ei=Ut=null)}function Dm(t){if(t.propertyName==="value"&&Cu(ei)){var i=[];Oi(i,ei,t,Tn(t)),pu(Po,i)}}function fA(t,i,a){t==="focusin"?(xm(),Ut=i,ei=a,Ut.attachEvent("onpropertychange",Dm)):t==="focusout"&&xm()}function dA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cu(ei)}function pA(t,i){if(t==="click")return Cu(i)}function mA(t,i){if(t==="input"||t==="change")return Cu(i)}function gA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:gA;function Vo(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!$r.call(i,h)||!un(t[h],i[h]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nm(t,i){var a=Om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Mm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Mm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function km(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ls(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ls(t.document)}return i}function Qh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yA=kn&&"documentMode"in document&&11>=document.documentMode,ma=null,Wh=null,Uo=null,Kh=!1;function Pm(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||ma==null||ma!==ls(l)||(l=ma,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&Vo(Uo,l)||(Uo=l,l=dc(Wh,"onSelect"),0<l.length&&(i=new oa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ma)))}function vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ga={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},Yh={},Vm={};kn&&(Vm=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ts(t){if(Yh[t])return Yh[t];if(!ga[t])return t;var i=ga[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vm)return Yh[t]=i[a];return t}var Um=Ts("animationend"),Lm=Ts("animationiteration"),zm=Ts("animationstart"),_A=Ts("transitionrun"),vA=Ts("transitionstart"),TA=Ts("transitioncancel"),jm=Ts("transitionend"),qm=new Map,Xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xh.push("scrollEnd");function Pn(t,i){qm.set(t,i),Mn(i,[t])}var Bm=new WeakMap;function bn(t,i){if(typeof t=="object"&&t!==null){var a=Bm.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ra(i)},Bm.set(t,i),i)}return{value:t,source:i,stack:ra(i)}}var Sn=[],ya=0,$h=0;function xu(){for(var t=ya,i=$h=ya=0;i<t;){var a=Sn[i];Sn[i++]=null;var l=Sn[i];Sn[i++]=null;var h=Sn[i];Sn[i++]=null;var d=Sn[i];if(Sn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Hm(a,h,d)}}function Du(t,i,a,l){Sn[ya++]=t,Sn[ya++]=i,Sn[ya++]=a,Sn[ya++]=l,$h|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zh(t,i,a,l){return Du(t,i,a,l),Ou(t)}function _a(t,i){return Du(t,null,null,i),Ou(t)}function Hm(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Ou(t){if(50<ll)throw ll=0,sd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var va={};function EA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,i,a,l){return new EA(t,i,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ni(t,i){var a=t.alternate;return a===null?(a=cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Fm(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Nu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")Jh(t)&&(v=1);else if(typeof t=="string")v=bb(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=cn(31,a,i,h),t.elementType=R,t.lanes=d,t;case j:return Es(a.children,h,d,i);case W:v=8,h|=24;break;case G:return t=cn(12,a,i,h|2),t.elementType=G,t.lanes=d,t;case te:return t=cn(13,a,i,h),t.elementType=te,t.lanes=d,t;case ye:return t=cn(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:case oe:v=10;break e;case se:v=9;break e;case ne:v=11;break e;case N:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=cn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Es(t,i,a,l){return t=cn(7,t,l,i),t.lanes=a,t}function ef(t,i,a){return t=cn(6,t,null,i),t.lanes=a,t}function tf(t,i,a){return i=cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ta=[],Ea=0,Mu=null,ku=0,wn=[],Rn=0,As=null,Mi=1,ki="";function bs(t,i){Ta[Ea++]=ku,Ta[Ea++]=Mu,Mu=t,ku=i}function Gm(t,i,a){wn[Rn++]=Mi,wn[Rn++]=ki,wn[Rn++]=As,As=t;var l=Mi;t=ki;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-Gt(i)+h|a<<h|l,ki=d+t}else Mi=1<<d|a<<h|l,ki=t}function nf(t){t.return!==null&&(bs(t,1),Gm(t,1,0))}function rf(t){for(;t===Mu;)Mu=Ta[--Ea],Ta[Ea]=null,ku=Ta[--Ea],Ta[Ea]=null;for(;t===As;)As=wn[--Rn],wn[Rn]=null,ki=wn[--Rn],wn[Rn]=null,Mi=wn[--Rn],wn[Rn]=null}var tn=null,ut=null,Be=!1,Ss=null,ti=!1,sf=Error(s(519));function ws(t){var i=Error(s(418,""));throw jo(bn(i,t)),sf}function Qm(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[mt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ne(cl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),us(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),sa(i);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),cs(i,l.value,l.defaultValue,l.children),sa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=pc),i=!0):i=!1,i||ws(t)}function Wm(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:tn=tn.return}}function Lo(t){if(t!==tn)return!1;if(!Be)return Wm(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ed(t.type,t.memoizedProps)),a=!a),a&&ut&&ws(t),Wm(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ut=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ut=null}}else i===27?(i=ut,Rr(t.type)?(t=wd,wd=null,ut=t):ut=i):ut=tn?Un(t.stateNode.nextSibling):null;return!0}function zo(){ut=tn=null,Be=!1}function Km(){var t=Ss;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),Ss=null),t}function jo(t){Ss===null?Ss=[t]:Ss.push(t)}var af=J(null),Rs=null,Pi=null;function hr(t,i,a){ee(af,i._currentValue),i._currentValue=a}function Vi(t){t._currentValue=af.current,ae(af)}function of(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function lf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var I=0;I<i.length;I++)if(E.context===i[I]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),of(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),of(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function qo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;un(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===xt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(gl):t=[gl])}h=h.return}t!==null&&lf(i,t,a,l),i.flags|=262144}function Pu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Is(t){Rs=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return Ym(Rs,t)}function Vu(t,i){return Rs===null&&Is(t),Ym(t,i)}function Ym(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Pi===null){if(t===null)throw Error(s(308));Pi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Pi=Pi.next=i;return a}var AA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},bA=r.unstable_scheduleCallback,SA=r.unstable_NormalPriority,Rt={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uf(){return{controller:new AA,data:new Map,refCount:0}}function Bo(t){t.refCount--,t.refCount===0&&bA(SA,function(){t.controller.abort()})}var Ho=null,cf=0,Aa=0,ba=null;function wA(t,i){if(Ho===null){var a=Ho=[];cf=0,Aa=fd(),ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cf++,i.then(Xm,Xm),i}function Xm(){if(--cf===0&&Ho!==null){ba!==null&&(ba.status="fulfilled");var t=Ho;Ho=null,Aa=0,ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $m=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wA(t,i),$m!==null&&$m(t,i)};var Cs=J(null);function hf(){var t=Cs.current;return t!==null?t:tt.pooledCache}function Uu(t,i){i===null?ee(Cs,Cs.current):ee(Cs,i.pool)}function Zm(){var t=hf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Fo=Error(s(460)),Jm=Error(s(474)),Lu=Error(s(542)),ff={then:function(){}};function eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zu(){}function tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(zu,zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ig(t),t;default:if(typeof i.status=="string")i.then(zu,zu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ig(t),t}throw Go=i,Fo}}var Go=null;function ng(){if(Go===null)throw Error(s(459));var t=Go;return Go=null,t}function ig(t){if(t===Fo||t===Lu)throw Error(s(483))}var fr=!1;function df(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(We&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ou(t),Hm(t,null,a),i}return Du(t,l,i,a),Ou(t)}function Qo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}function mf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var gf=!1;function Wo(){if(gf){var t=ba;if(t!==null)throw t}}function Ko(t,i,a,l){gf=!1;var h=t.updateQueue;fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,v===null?d=z:v.next=z,v=I;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=z:E.next=z,K.lastBaseUpdate=I))}if(d!==null){var $=h.baseState;v=0,K=z=I=null,E=d;do{var q=E.lane&-536870913,B=q!==E.lane;if(B?(Le&q)===q:(l&q)===q){q!==0&&q===Aa&&(gf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Ee=t,ge=E;q=i;var Ze=a;switch(ge.tag){case 1:if(Ee=ge.payload,typeof Ee=="function"){$=Ee.call(Ze,$,q);break e}$=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ge.payload,q=typeof Ee=="function"?Ee.call(Ze,$,q):Ee,q==null)break e;$=T({},$,q);break e;case 2:fr=!0}}q=E.callback,q!==null&&(t.flags|=64,B&&(t.flags|=8192),B=h.callbacks,B===null?h.callbacks=[q]:B.push(q))}else B={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(z=K=B,I=$):K=K.next=B,v|=q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);K===null&&(I=$),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Ar|=v,t.lanes=v,t.memoizedState=$}}function rg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function sg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)rg(a[t],i)}var Sa=J(null),ju=J(0);function ag(t,i){t=Hi,ee(ju,t),ee(Sa,i),Hi=t|i.baseLanes}function yf(){ee(ju,Hi),ee(Sa,Sa.current)}function _f(){Hi=ju.current,ae(Sa),ae(ju)}var mr=0,Ie=null,Xe=null,yt=null,qu=!1,wa=!1,xs=!1,Bu=0,Yo=0,Ra=null,IA=0;function ft(){throw Error(s(321))}function vf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function Tf(t,i,a,l,h,d){return mr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Hg:Fg,xs=!1,d=a(l,h),xs=!1,wa&&(d=lg(i,a,l,h)),og(t),d}function og(t){Q.H=Ku;var i=Xe!==null&&Xe.next!==null;if(mr=0,yt=Xe=Ie=null,qu=!1,Yo=0,Ra=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Pu(t)&&(Nt=!0))}function lg(t,i,a,l){Ie=t;var h=0;do{if(wa&&(Ra=null),Yo=0,wa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=kA,d=i(a,l)}while(wa);return d}function CA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?Xo(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Ef(){var t=Bu!==0;return Bu=0,t}function Af(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function bf(t){if(qu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}qu=!1}mr=0,yt=Xe=Ie=null,wa=!1,Yo=Bu=0,Ra=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if(Xe===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}function Sf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(t){var i=Yo;return Yo+=1,Ra===null&&(Ra=[]),t=tg(Ra,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Hg:Fg),t}function Hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xo(t);if(t.$$typeof===oe)return Qt(t)}throw Error(s(438,String(t)))}function wf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Sf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Ui(t,i){return typeof i=="function"?i(t):i}function Fu(t){var i=_t();return Rf(i,Xe,t)}function Rf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,I=null,z=i,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Le&$)===$:(mr&$)===$){var q=z.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Aa&&(K=!0);else if((mr&q)===q){z=z.next,q===Aa&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=$,v=d):I=I.next=$,Ie.lanes|=q,Ar|=q;$=z.action,xs&&a(d,$),d=z.hasEagerState?z.eagerState:a(d,$)}else q={lane:$,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=q,v=d):I=I.next=q,Ie.lanes|=$,Ar|=$;z=z.next}while(z!==null&&z!==i);if(I===null?v=d:I.next=E,!un(d,t.memoizedState)&&(Nt=!0,K&&(a=ba,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function If(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);un(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ug(t,i,a){var l=Ie,h=_t(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!un((Xe||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var E=fg.bind(null,l,h,t);if($o(2048,8,E,[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ia(9,Gu(),hg.bind(null,l,h,a,i),null),tt===null)throw Error(s(349));d||(mr&124)!==0||cg(l,i,a)}return a}function cg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Sf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hg(t,i,a,l){i.value=a,i.getSnapshot=l,dg(i)&&pg(t)}function fg(t,i,a){return a(function(){dg(i)&&pg(t)})}function dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function pg(t){var i=_a(t,2);i!==null&&mn(i,t,2)}function Cf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),xs){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},i}function mg(t,i,a,l){return t.baseState=a,Rf(t,Xe,typeof l=="function"?l:Ui)}function xA(t,i,a,l,h){if(Wu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var E=a(h,l),I=Q.S;I!==null&&I(v,E),yg(t,i,E)}catch(z){xf(t,i,z)}finally{Q.T=d}}else try{d=a(h,l),yg(t,i,d)}catch(z){xf(t,i,z)}}function yg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_g(t,i,l)},function(l){return xf(t,i,l)}):_g(t,i,a)}function _g(t,i,a){i.status="fulfilled",i.value=a,vg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gg(t,a)))}function xf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vg(i),i=i.next;while(i!==l)}t.action=null}function vg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Tg(t,i){return i}function Eg(t,i){if(Be){var a=tt.formState;if(a!==null){e:{var l=Ie;if(Be){if(ut){t:{for(var h=ut,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ut=Un(h.nextSibling),l=h.data==="F!";break e}}ws(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tg,lastRenderedState:i},a.queue=l,a=jg.bind(null,Ie,l),l.dispatch=a,l=Cf(!1),d=kf.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=xA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ag(t){var i=_t();return bg(i,Xe,t)}function bg(t,i,a){if(i=Rf(t,i,Tg)[0],t=Fu(Ui)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Xo(i)}catch(v){throw v===Fo?Lu:v}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ia(9,Gu(),DA.bind(null,h,a),null)),[l,d,t]}function DA(t,i){t.action=i}function Sg(t){var i=_t(),a=Xe;if(a!==null)return bg(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ia(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Sf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function wg(){return _t().memoizedState}function Qu(t,i,a,l){var h=nn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ia(1|i,Gu(),a,l)}function $o(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&vf(l,Xe.memoizedState.deps)?h.memoizedState=Ia(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ia(1|i,d,a,l))}function Rg(t,i){Qu(8390656,8,t,i)}function Ig(t,i){$o(2048,8,t,i)}function Cg(t,i){return $o(4,2,t,i)}function xg(t,i){return $o(4,4,t,i)}function Dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Og(t,i,a){a=a!=null?a.concat([t]):null,$o(4,4,Dg.bind(null,i,t),a)}function Df(){}function Ng(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Mg(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vf(i,l[1]))return l[0];if(l=t(),xs){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Of(t,i,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Vy(),Ie.lanes|=t,Ar|=t,a)}function kg(t,i,a,l){return un(a,i)?a:Sa.current!==null?(t=Of(t,a,l),un(t,i)||(Nt=!0),t):(mr&42)===0?(Nt=!0,t.memoizedState=a):(t=Vy(),Ie.lanes|=t,Ar|=t,i)}function Pg(t,i,a,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=Q.T,E={};Q.T=E,kf(t,!1,i,a);try{var I=h(),z=Q.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var K=RA(I,l);Zo(t,i,K,pn(t))}else Zo(t,i,l,pn(t))}catch($){Zo(t,i,{then:function(){},status:"rejected",reason:$},pn())}finally{re.p=d,Q.T=v}}function OA(){}function Nf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Vg(t).queue;Pg(t,h,i,fe,a===null?OA:function(){return Ug(t),a(l)})}function Vg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ug(t){var i=Vg(t).next.queue;Zo(t,i,{},pn())}function Mf(){return Qt(gl)}function Lg(){return _t().memoizedState}function zg(){return _t().memoizedState}function NA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=pn();t=dr(a);var l=pr(i,t,a);l!==null&&(mn(l,i,a),Qo(l,i,a)),i={cache:uf()},t.payload=i;return}i=i.return}}function MA(t,i,a){var l=pn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Wu(t)?qg(i,a):(a=Zh(t,i,a,l),a!==null&&(mn(a,t,l),Bg(a,i,l)))}function jg(t,i,a){var l=pn();Zo(t,i,a,l)}function Zo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wu(t))qg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,un(E,v))return Du(t,i,h,0),tt===null&&xu(),!1}catch{}finally{}if(a=Zh(t,i,h,l),a!==null)return mn(a,t,l),Bg(a,i,l),!0}return!1}function kf(t,i,a,l){if(l={lane:2,revertLane:fd(),action:l,hasEagerState:!1,eagerState:null,next:null},Wu(t)){if(i)throw Error(s(479))}else i=Zh(t,a,l,2),i!==null&&mn(i,t,2)}function Wu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function qg(t,i){wa=qu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Bg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,To(t,a)}}var Ku={readContext:Qt,use:Hu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft},Hg={readContext:Qt,use:Hu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Rg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Qu(4194308,4,Dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Qu(4194308,4,t,i)},useInsertionEffect:function(t,i){Qu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(xs){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(xs){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=MA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=Cf(t);var i=t.queue,a=jg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Df,useDeferredValue:function(t,i){var a=nn();return Of(a,t,i)},useTransition:function(){var t=Cf(!1);return t=Pg.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),tt===null)throw Error(s(349));(Le&124)!==0||cg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Rg(fg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,Gu(),hg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=tt.identifierPrefix;if(Be){var a=ki,l=Mi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=IA++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Mf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=kf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:wf,useCacheRefresh:function(){return nn().memoizedState=NA.bind(null,Ie)}},Fg={readContext:Qt,use:Hu,useCallback:Ng,useContext:Qt,useEffect:Ig,useImperativeHandle:Og,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Mg,useReducer:Fu,useRef:wg,useState:function(){return Fu(Ui)},useDebugValue:Df,useDeferredValue:function(t,i){var a=_t();return kg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Fu(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Mf,useFormState:Ag,useActionState:Ag,useOptimistic:function(t,i){var a=_t();return mg(a,Xe,t,i)},useMemoCache:wf,useCacheRefresh:zg},kA={readContext:Qt,use:Hu,useCallback:Ng,useContext:Qt,useEffect:Ig,useImperativeHandle:Og,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Mg,useReducer:If,useRef:wg,useState:function(){return If(Ui)},useDebugValue:Df,useDeferredValue:function(t,i){var a=_t();return Xe===null?Of(a,t,i):kg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=If(Ui)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Xo(t),i]},useSyncExternalStore:ug,useId:Lg,useHostTransitionStatus:Mf,useFormState:Sg,useActionState:Sg,useOptimistic:function(t,i){var a=_t();return Xe!==null?mg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:zg},Ca=null,Jo=0;function Yu(t){var i=Jo;return Jo+=1,Ca===null&&(Ca=[]),tg(Ca,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Gg(t){var i=t._init;return i(t._payload)}function Qg(t){function i(P,O){if(t){var L=P.deletions;L===null?(P.deletions=[O],P.flags|=16):L.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Ni(P,O),P.index=0,P.sibling=null,P}function d(P,O,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<O?(P.flags|=67108866,O):L):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function E(P,O,L,Y){return O===null||O.tag!==6?(O=ef(L,P.mode,Y),O.return=P,O):(O=h(O,L),O.return=P,O)}function I(P,O,L,Y){var he=L.type;return he===j?K(P,O,L.props.children,Y,L.key):O!==null&&(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Gg(he)===O.type)?(O=h(O,L.props),el(O,L),O.return=P,O):(O=Nu(L.type,L.key,L.props,null,P.mode,Y),el(O,L),O.return=P,O)}function z(P,O,L,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=tf(L,P.mode,Y),O.return=P,O):(O=h(O,L.children||[]),O.return=P,O)}function K(P,O,L,Y,he){return O===null||O.tag!==7?(O=Es(L,P.mode,Y,he),O.return=P,O):(O=h(O,L),O.return=P,O)}function $(P,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,P.mode,L),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case C:return L=Nu(O.type,O.key,O.props,null,P.mode,L),el(L,O),L.return=P,L;case H:return O=tf(O,P.mode,L),O.return=P,O;case S:var Y=O._init;return O=Y(O._payload),$(P,O,L)}if(we(O)||V(O))return O=Es(O,P.mode,L,null),O.return=P,O;if(typeof O.then=="function")return $(P,Yu(O),L);if(O.$$typeof===oe)return $(P,Vu(P,O),L);Xu(P,O)}return null}function q(P,O,L,Y){var he=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return he!==null?null:E(P,O,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===he?I(P,O,L,Y):null;case H:return L.key===he?z(P,O,L,Y):null;case S:return he=L._init,L=he(L._payload),q(P,O,L,Y)}if(we(L)||V(L))return he!==null?null:K(P,O,L,Y,null);if(typeof L.then=="function")return q(P,O,Yu(L),Y);if(L.$$typeof===oe)return q(P,O,Vu(P,L),Y);Xu(P,L)}return null}function B(P,O,L,Y,he){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return P=P.get(L)||null,E(O,P,""+Y,he);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case C:return P=P.get(Y.key===null?L:Y.key)||null,I(O,P,Y,he);case H:return P=P.get(Y.key===null?L:Y.key)||null,z(O,P,Y,he);case S:var De=Y._init;return Y=De(Y._payload),B(P,O,L,Y,he)}if(we(Y)||V(Y))return P=P.get(L)||null,K(O,P,Y,he,null);if(typeof Y.then=="function")return B(P,O,L,Yu(Y),he);if(Y.$$typeof===oe)return B(P,O,L,Vu(O,Y),he);Xu(O,Y)}return null}function Ee(P,O,L,Y){for(var he=null,De=null,de=O,_e=O=0,kt=null;de!==null&&_e<L.length;_e++){de.index>_e?(kt=de,de=null):kt=de.sibling;var qe=q(P,de,L[_e],Y);if(qe===null){de===null&&(de=kt);break}t&&de&&qe.alternate===null&&i(P,de),O=d(qe,O,_e),De===null?he=qe:De.sibling=qe,De=qe,de=kt}if(_e===L.length)return a(P,de),Be&&bs(P,_e),he;if(de===null){for(;_e<L.length;_e++)de=$(P,L[_e],Y),de!==null&&(O=d(de,O,_e),De===null?he=de:De.sibling=de,De=de);return Be&&bs(P,_e),he}for(de=l(de);_e<L.length;_e++)kt=B(de,P,_e,L[_e],Y),kt!==null&&(t&&kt.alternate!==null&&de.delete(kt.key===null?_e:kt.key),O=d(kt,O,_e),De===null?he=kt:De.sibling=kt,De=kt);return t&&de.forEach(function(Or){return i(P,Or)}),Be&&bs(P,_e),he}function ge(P,O,L,Y){if(L==null)throw Error(s(151));for(var he=null,De=null,de=O,_e=O=0,kt=null,qe=L.next();de!==null&&!qe.done;_e++,qe=L.next()){de.index>_e?(kt=de,de=null):kt=de.sibling;var Or=q(P,de,qe.value,Y);if(Or===null){de===null&&(de=kt);break}t&&de&&Or.alternate===null&&i(P,de),O=d(Or,O,_e),De===null?he=Or:De.sibling=Or,De=Or,de=kt}if(qe.done)return a(P,de),Be&&bs(P,_e),he;if(de===null){for(;!qe.done;_e++,qe=L.next())qe=$(P,qe.value,Y),qe!==null&&(O=d(qe,O,_e),De===null?he=qe:De.sibling=qe,De=qe);return Be&&bs(P,_e),he}for(de=l(de);!qe.done;_e++,qe=L.next())qe=B(de,P,_e,qe.value,Y),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?_e:qe.key),O=d(qe,O,_e),De===null?he=qe:De.sibling=qe,De=qe);return t&&de.forEach(function(Pb){return i(P,Pb)}),Be&&bs(P,_e),he}function Ze(P,O,L,Y){if(typeof L=="object"&&L!==null&&L.type===j&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var he=L.key;O!==null;){if(O.key===he){if(he=L.type,he===j){if(O.tag===7){a(P,O.sibling),Y=h(O,L.props.children),Y.return=P,P=Y;break e}}else if(O.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===S&&Gg(he)===O.type){a(P,O.sibling),Y=h(O,L.props),el(Y,L),Y.return=P,P=Y;break e}a(P,O);break}else i(P,O);O=O.sibling}L.type===j?(Y=Es(L.props.children,P.mode,Y,L.key),Y.return=P,P=Y):(Y=Nu(L.type,L.key,L.props,null,P.mode,Y),el(Y,L),Y.return=P,P=Y)}return v(P);case H:e:{for(he=L.key;O!==null;){if(O.key===he)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){a(P,O.sibling),Y=h(O,L.children||[]),Y.return=P,P=Y;break e}else{a(P,O);break}else i(P,O);O=O.sibling}Y=tf(L,P.mode,Y),Y.return=P,P=Y}return v(P);case S:return he=L._init,L=he(L._payload),Ze(P,O,L,Y)}if(we(L))return Ee(P,O,L,Y);if(V(L)){if(he=V(L),typeof he!="function")throw Error(s(150));return L=he.call(L),ge(P,O,L,Y)}if(typeof L.then=="function")return Ze(P,O,Yu(L),Y);if(L.$$typeof===oe)return Ze(P,O,Vu(P,L),Y);Xu(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(a(P,O.sibling),Y=h(O,L),Y.return=P,P=Y):(a(P,O),Y=ef(L,P.mode,Y),Y.return=P,P=Y),v(P)):a(P,O)}return function(P,O,L,Y){try{Jo=0;var he=Ze(P,O,L,Y);return Ca=null,he}catch(de){if(de===Fo||de===Lu)throw de;var De=cn(29,de,null,P.mode);return De.lanes=Y,De.return=P,De}finally{}}}var xa=Qg(!0),Wg=Qg(!1),In=J(null),ni=null;function gr(t){var i=t.alternate;ee(It,It.current&1),ee(In,t),ni===null&&(i===null||Sa.current!==null||i.memoizedState!==null)&&(ni=t)}function Kg(t){if(t.tag===22){if(ee(It,It.current),ee(In,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else yr()}function yr(){ee(It,It.current),ee(In,In.current)}function Li(t){ae(In),ni===t&&(ni=null),ae(It)}var It=J(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Sd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Pf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=pn(),h=dr(l);h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(mn(i,t,l),Qo(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=pn(),h=dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=pr(t,h,l),i!==null&&(mn(i,t,l),Qo(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=pn(),l=dr(a);l.tag=2,i!=null&&(l.callback=i),i=pr(t,l,a),i!==null&&(mn(i,t,a),Qo(i,t,a))}};function Yg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Vo(a,l)||!Vo(h,d):!0}function Xg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Vf.enqueueReplaceState(i,i.state,null)}function Ds(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $g(t){Zu(t)}function Zg(t){console.error(t)}function Jg(t){Zu(t)}function Ju(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ey(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Uf(t,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ju(t,i)},a}function ty(t){return t=dr(t),t.tag=3,t}function ny(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ey(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){ey(i,a,l),typeof h!="function"&&(br===null?br=new Set([this]):br.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function PA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ni===null?od():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),ud(t,l,h)),!1;case 22:return a.flags|=65536,l===ff?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),ud(t,l,h)),!1}throw Error(s(435,a.tag))}return ud(t,l,h),od(),!1}if(Be)return i=In.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==sf&&(t=Error(s(422),{cause:l}),jo(bn(t,a)))):(l!==sf&&(i=Error(s(423),{cause:l}),jo(bn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=bn(l,a),h=Uf(t.stateNode,l,h),mf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=bn(d,a),ol===null?ol=[d]:ol.push(d),ct!==4&&(ct=2),i===null)return!0;l=bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Uf(a.stateNode,l,t),mf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(br===null||!br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ny(h,t,a,l),mf(a,h),!1}a=a.return}while(a!==null);return!1}var iy=Error(s(461)),Nt=!1;function Lt(t,i,a,l){i.child=t===null?Wg(i,null,a,l):xa(i,t.child,a,l)}function ry(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Is(i),l=Tf(t,i,a,v,d,h),E=Ef(),t!==null&&!Nt?(Af(t,i,h),zi(t,i,h)):(Be&&E&&nf(i),i.flags|=1,Lt(t,i,l,h),i.child)}function sy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Jh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ay(t,i,d,l,h)):(t=Nu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Gf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Vo,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Ni(d,l),t.ref=i.ref,t.return=i,i.child=t}function ay(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Vo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Gf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Lf(t,i,a,l,h)}function oy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ly(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Uu(i,d!==null?d.cachePool:null),d!==null?ag(i,d):yf(),Kg(i);else return i.lanes=i.childLanes=536870912,ly(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Uu(i,d.cachePool),ag(i,d),yr(),i.memoizedState=null):(t!==null&&Uu(i,null),yf(),yr());return Lt(t,i,h,a),i.child}function ly(t,i,a,l){var h=hf();return h=h===null?null:{parent:Rt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Uu(i,null),yf(),Kg(i),t!==null&&qo(t,i,l,!0),null}function ec(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Lf(t,i,a,l,h){return Is(i),a=Tf(t,i,a,l,void 0,h),l=Ef(),t!==null&&!Nt?(Af(t,i,h),zi(t,i,h)):(Be&&l&&nf(i),i.flags|=1,Lt(t,i,a,h),i.child)}function uy(t,i,a,l,h,d){return Is(i),i.updateQueue=null,a=lg(i,l,a,h),og(t),l=Ef(),t!==null&&!Nt?(Af(t,i,d),zi(t,i,d)):(Be&&l&&nf(i),i.flags|=1,Lt(t,i,a,d),i.child)}function cy(t,i,a,l,h){if(Is(i),i.stateNode===null){var d=va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},df(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Vf.enqueueReplaceState(d,d.state,null),Ko(i,l,d,h),Wo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,I=Ds(a,E);d.props=I;var z=d.context,K=a.contextType;v=va,typeof K=="object"&&K!==null&&(v=Qt(K));var $=a.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||z!==v)&&Xg(i,d,l,v),fr=!1;var q=i.memoizedState;d.state=q,Ko(i,l,d,h),Wo(),z=i.memoizedState,E||q!==z||fr?(typeof $=="function"&&(Pf(i,a,$,l),z=i.memoizedState),(I=fr||Yg(i,a,I,l,q,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,pf(t,i),v=i.memoizedProps,K=Ds(a,v),d.props=K,$=i.pendingProps,q=d.context,z=a.contextType,I=va,typeof z=="object"&&z!==null&&(I=Qt(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==$||q!==I)&&Xg(i,d,l,I),fr=!1,q=i.memoizedState,d.state=q,Ko(i,l,d,h),Wo();var B=i.memoizedState;v!==$||q!==B||fr||t!==null&&t.dependencies!==null&&Pu(t.dependencies)?(typeof E=="function"&&(Pf(i,a,E,l),B=i.memoizedState),(K=fr||Yg(i,a,K,l,q,B,I)||t!==null&&t.dependencies!==null&&Pu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,B,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,B,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=I,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ec(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xa(i,t.child,null,h),i.child=xa(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function hy(t,i,a,l){return zo(),i.flags|=256,Lt(t,i,a,l),i.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jf(t){return{baseLanes:t,cachePool:Zm()}}function qf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Cn),t}function fy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?gr(i):yr(),Be){var E=ut,I;if(I=E){e:{for(I=E,E=ti;I.nodeType!==8;){if(!E){E=null;break e}if(I=Un(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(i.memoizedState={dehydrated:E,treeContext:As!==null?{id:Mi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},I=cn(18,null,null,0),I.stateNode=E,I.return=i,i.child=I,tn=i,ut=null,I=!0):I=!1}I||ws(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Sd(E)?i.lanes=32:i.lanes=536870912,null;Li(i)}return E=l.children,l=l.fallback,h?(yr(),h=i.mode,E=tc({mode:"hidden",children:E},h),l=Es(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,h=i.child,h.memoizedState=jf(a),h.childLanes=qf(t,v,a),i.memoizedState=zf,l):(gr(i),Bf(i,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(d)i.flags&256?(gr(i),i.flags&=-257,i=Hf(t,i,a)):i.memoizedState!==null?(yr(),i.child=t.child,i.flags|=128,i=null):(yr(),h=l.fallback,E=i.mode,l=tc({mode:"visible",children:l.children},E),h=Es(h,E,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xa(i,t.child,null,a),l=i.child,l.memoizedState=jf(a),l.childLanes=qf(t,v,a),i.memoizedState=zf,i=h);else if(gr(i),Sd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,jo({value:l,source:null,stack:null}),i=Hf(t,i,a)}else if(Nt||qo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:rr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,_a(t,l),mn(v,t,l),iy;E.data==="$?"||od(),i=Hf(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ut=Un(E.nextSibling),tn=i,Be=!0,Ss=null,ti=!1,t!==null&&(wn[Rn++]=Mi,wn[Rn++]=ki,wn[Rn++]=As,Mi=t.id,ki=t.overflow,As=i),i=Bf(i,l.children),i.flags|=4096);return i}return h?(yr(),h=l.fallback,E=i.mode,I=t.child,z=I.sibling,l=Ni(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?h=Ni(z,h):(h=Es(h,E,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,E=t.child.memoizedState,E===null?E=jf(a):(I=E.cachePool,I!==null?(z=Rt._currentValue,I=I.parent!==z?{parent:z,pool:z}:I):I=Zm(),E={baseLanes:E.baseLanes|a,cachePool:I}),h.memoizedState=E,h.childLanes=qf(t,v,a),i.memoizedState=zf,l):(gr(i),a=t.child,t=a.sibling,a=Ni(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Bf(t,i){return i=tc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function tc(t,i){return t=cn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Hf(t,i,a){return xa(i,t.child,null,a),t=Bf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function dy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),of(t.return,i,a)}function Ff(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function py(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dy(t,a,i);else if(t.tag===19)dy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ee(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Ff(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ff(i,!0,a,null,d);break;case"together":Ff(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ar|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ni(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ni(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Pu(t)))}function VA(t,i,a){switch(i.tag){case 3:et(i,i.stateNode.containerInfo),hr(i,Rt,t.memoizedState.cache),zo();break;case 27:case 5:ir(i);break;case 4:et(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?fy(t,i,a):(gr(i),t=zi(t,i,a),t!==null?t.sibling:null);gr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return py(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ee(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,oy(t,i,a);case 24:hr(i,Rt,t.memoizedState.cache)}return zi(t,i,a)}function my(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Gf(t,a)&&(i.flags&128)===0)return Nt=!1,VA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Gm(i,ku,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Jh(l)?(t=Ds(l,t),i.tag=1,i=cy(null,i,l,t,a)):(i.tag=0,i=Lf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ne){i.tag=11,i=ry(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=sy(null,i,l,t,a);break e}}throw i=Ce(l)||l,Error(s(306,i,""))}}return i;case 0:return Lf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ds(l,i.pendingProps),cy(t,i,l,h,a);case 3:e:{if(et(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,pf(t,i),Ko(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hr(i,Rt,l),l!==d.cache&&lf(i,[Rt],a,!0),Wo(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=hy(t,i,l,a);break e}else if(l!==h){h=bn(Error(s(424)),i),jo(h),i=hy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ut=Un(t.firstChild),tn=i,Be=!0,Ss=null,ti=!0,a=Wg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),l===h){i=zi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return ec(t,i),t===null?(a=v_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=mc(Ae.current).createElement(a),l[bt]=i,l[mt]=t,jt(l,a,t),ht(l),i.stateNode=l):i.memoizedState=v_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ir(i),t===null&&Be&&(l=i.stateNode=g_(i.type,i.pendingProps,Ae.current),tn=i,ti=!0,h=ut,Rr(i.type)?(wd=h,ut=Un(l.firstChild)):ut=h),Lt(t,i,i.pendingProps.children,a),ec(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ut)&&(l=cb(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,tn=i,ut=Un(l.firstChild),ti=!1,h=!0):h=!1),h||ws(i)),ir(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ed(h,d)?l=null:v!==null&&Ed(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Tf(t,i,CA,null,null,a),gl._currentValue=h),ec(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ut)&&(a=hb(a,i.pendingProps,ti),a!==null?(i.stateNode=a,tn=i,ut=null,t=!0):t=!1),t||ws(i)),null;case 13:return fy(t,i,a);case 4:return et(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xa(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return ry(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hr(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Is(i),h=Qt(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return sy(t,i,i.type,i.pendingProps,a);case 15:return ay(t,i,i.type,i.pendingProps,a);case 19:return py(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=tc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ni(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return oy(t,i,a);case 24:return Is(i),l=Qt(Rt),t===null?(h=hf(),h===null&&(h=tt,d=uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},df(i),hr(i,Rt,h)):((t.lanes&a)!==0&&(pf(t,i),Ko(i,null,null,a),Wo()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,Rt,l)):(l=d.cache,hr(i,Rt,l),l!==h.cache&&lf(i,[Rt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ji(t){t.flags|=4}function gy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(i)){if(i=In.current,i!==null&&((Le&4194048)===Le?ni!==null:(Le&62914560)!==Le&&(Le&536870912)===0||i!==ni))throw Go=ff,Jm;t.flags|=8192}}function nc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_o():536870912,t.lanes|=i,Ma|=i)}function tl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function UA(t,i,a){var l=i.pendingProps;switch(rf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Vi(Rt),Hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Lo(i)?ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Km())),at(i),null;case 26:return a=i.memoizedState,t===null?(ji(i),a!==null?(at(i),gy(i,a)):(at(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ji(i),at(i),gy(i,a)):(at(i),i.flags&=-16777217):(t.memoizedProps!==l&&ji(i),at(i),i.flags&=-16777217),null;case 27:vi(i),a=Ae.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=me.current,Lo(i)?Qm(i):(t=g_(h,l,a),i.stateNode=t,ji(i))}return at(i),null;case 5:if(vi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(t=me.current,Lo(i))Qm(i);else{switch(h=mc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[bt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ji(i)}}return at(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ae.current,Lo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(t.nodeValue,a)),t||ws(i)}else t=mc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Lo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Li(i),i):(Li(i),null)}if(Li(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),at(i),null;case 4:return Hn(),t===null&&gd(i.stateNode.containerInfo),at(i),null;case 10:return Vi(i.type),at(i),null;case 19:if(ae(It),h=i.memoizedState,h===null)return at(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)tl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=$u(t),d!==null){for(i.flags|=128,tl(h,!1),t=d.updateQueue,i.updateQueue=t,nc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Fm(a,t),a=a.sibling;return ee(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&yn()>sc&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=$u(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,nc(i,t),tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*yn()-h.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,l=!0,tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=yn(),i.sibling=null,t=It.current,ee(It,l?t&1|2:t&1),i):(at(i),null);case 22:case 23:return Li(i),_f(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Cs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Vi(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function LA(t,i){switch(rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Vi(Rt),Hn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return vi(i),null;case 13:if(Li(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(It),null;case 4:return Hn(),null;case 10:return Vi(i.type),null;case 22:case 23:return Li(i),_f(),t!==null&&ae(Cs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Vi(Rt),null;case 25:return null;default:return null}}function yy(t,i){switch(rf(i),i.tag){case 3:Vi(Rt),Hn();break;case 26:case 27:case 5:vi(i);break;case 4:Hn();break;case 13:Li(i);break;case 19:ae(It);break;case 10:Vi(i.type);break;case 22:case 23:Li(i),_f(),t!==null&&ae(Cs);break;case 24:Vi(Rt)}}function nl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){Je(i,i.return,E)}}function _r(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var I=a,z=E;try{z()}catch(K){Je(h,I,K)}}}l=l.next}while(l!==d)}}catch(K){Je(i,i.return,K)}}function _y(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sg(i,a)}catch(l){Je(t,t.return,l)}}}function vy(t,i,a){a.props=Ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function il(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Ty(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function Qf(t,i,a){try{var l=t.stateNode;sb(l,t.type,a,i),l[mt]=i}catch(h){Je(t,t.return,h)}}function Ey(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rr(t.type)||t.tag===4}function Wf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ey(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=pc));else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Kf(t,i,a),t=t.sibling;t!==null;)Kf(t,i,a),t=t.sibling}function ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,i,a),t=t.sibling;t!==null;)ic(t,i,a),t=t.sibling}function Ay(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[bt]=t,i[mt]=a}catch(d){Je(t,t.return,d)}}var qi=!1,dt=!1,Yf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function zA(t,i){if(t=t.containerInfo,vd=Ec,t=km(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,I=-1,z=0,K=0,$=t,q=null;t:for(;;){for(var B;$!==a||h!==0&&$.nodeType!==3||(E=v+h),$!==d||l!==0&&$.nodeType!==3||(I=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(B=$.firstChild)!==null;)q=$,$=B;for(;;){if($===t)break t;if(q===a&&++z===h&&(E=v),q===d&&++K===l&&(I=v),(B=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=B}a=E===-1||I===-1?null:{start:E,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Td={focusedElem:t,selectionRange:a},Ec=!1,Mt=i;Mt!==null;)if(i=Mt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Mt=t;else for(;Mt!==null;){switch(i=Mt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ds(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ge){Je(a,a.return,ge)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Mt=t;break}Mt=i.return}}function Sy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(t,a),l&4&&nl(5,a);break;case 1:if(vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Ds(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&_y(a),l&512&&il(a,a.return);break;case 3:if(vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&Ay(a);case 26:case 5:vr(t,a),i===null&&l&4&&Ty(a),l&512&&il(a,a.return);break;case 12:vr(t,a);break;case 13:vr(t,a),l&4&&Iy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=KA.bind(null,a),fb(t,a))));break;case 22:if(l=a.memoizedState!==null||qi,!l){i=i!==null&&i.memoizedState!==null||dt,h=qi;var d=dt;qi=l,(dt=i)&&!d?Tr(t,a,(a.subtreeFlags&8772)!==0):vr(t,a),qi=h,dt=d}break;case 30:break;default:vr(t,a)}}function wy(t){var i=t.alternate;i!==null&&(t.alternate=null,wy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&or(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,rn=!1;function Bi(t,i,a){for(a=a.child;a!==null;)Ry(t,i,a),a=a.sibling}function Ry(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(lt,a)}catch{}switch(a.tag){case 26:dt||ii(a,i),Bi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:dt||ii(a,i);var l=st,h=rn;Rr(a.type)&&(st=a.stateNode,rn=!1),Bi(t,i,a),fl(a.stateNode),st=l,rn=h;break;case 5:dt||ii(a,i);case 6:if(l=st,h=rn,st=null,Bi(t,i,a),st=l,rn=h,st!==null)if(rn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:st!==null&&(rn?(t=st,p_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Tl(t)):p_(st,a.stateNode));break;case 4:l=st,h=rn,st=a.stateNode.containerInfo,rn=!0,Bi(t,i,a),st=l,rn=h;break;case 0:case 11:case 14:case 15:dt||_r(2,a,i),dt||_r(4,a,i),Bi(t,i,a);break;case 1:dt||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&vy(a,i,l)),Bi(t,i,a);break;case 21:Bi(t,i,a);break;case 22:dt=(l=dt)||a.memoizedState!==null,Bi(t,i,a),dt=l;break;default:Bi(t,i,a)}}function Iy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Tl(t)}catch(a){Je(i,i.return,a)}}function jA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new by),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new by),i;default:throw Error(s(435,t.tag))}}function Xf(t,i){var a=jA(t);i.forEach(function(l){var h=YA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Rr(E.type)){st=E.stateNode,rn=!1;break e}break;case 5:st=E.stateNode,rn=!1;break e;case 3:case 4:st=E.stateNode.containerInfo,rn=!0;break e}E=E.return}if(st===null)throw Error(s(160));Ry(d,v,h),st=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Cy(i,t),i=i.sibling}var Vn=null;function Cy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(_r(3,t,t.return),nl(3,t),_r(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(dt||a===null||ii(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Vn;if(hn(i,t),fn(t),l&512&&(dt||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ss]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[bt]=t,ht(d),l=d;break e;case"link":var v=A_("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=A_("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,ht(d),l=d}t.stateNode=l}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?b_(h,t.type,t.stateNode):E_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Qf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(dt||a===null||ii(a,a.return)),a!==null&&l&4&&Qf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(dt||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{vn(h,"")}catch(B){Je(t,t.return,B)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Qf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Yf=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(B){Je(t,t.return,B)}}break;case 3:if(_c=null,h=Vn,Vn=gc(i.containerInfo),hn(i,t),Vn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Tl(i.containerInfo)}catch(B){Je(t,t.return,B)}Yf&&(Yf=!1,xy(t));break;case 4:l=Vn,Vn=gc(t.stateNode.containerInfo),hn(i,t),fn(t),Vn=l;break;case 12:hn(i,t),fn(t);break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(nd=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xf(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=qi,K=dt;if(qi=z||h,dt=K||I,hn(i,t),dt=K,qi=z,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||qi||dt||Os(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(B){Je(I,I.return,B)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(B){Je(I,I.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xf(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xf(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ey(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Wf(t);ic(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(vn(v,""),a.flags&=-33);var E=Wf(t);ic(t,E,v);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Wf(t);Kf(t,z,I);break;default:throw Error(s(161))}}catch(K){Je(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function xy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Sy(t,i.alternate,i),i=i.sibling}function Os(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),Os(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&vy(i,i.return,a),Os(i);break;case 27:fl(i.stateNode);case 26:case 5:ii(i,i.return),Os(i);break;case 22:i.memoizedState===null&&Os(i);break;case 30:Os(i);break;default:Os(i)}t=t.sibling}}function Tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),nl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)rg(I[h],E)}catch(z){Je(l,l.return,z)}}a&&v&64&&_y(d),il(d,d.return);break;case 27:Ay(d);case 26:case 5:Tr(h,d,a),a&&l===null&&v&4&&Ty(d),il(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&v&4&&Iy(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),il(d,d.return);break;case 30:break;default:Tr(h,d,a)}i=i.sibling}}function $f(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bo(a))}function Zf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Dy(t,i,a,l),i=i.sibling}function Dy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&nl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):rl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Da(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&$f(v,i);break;case 24:ri(t,i,a,l),h&2048&&Zf(i.alternate,i);break;default:ri(t,i,a,l)}}function Da(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,E=a,I=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,E,I,h),nl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Da(d,v,E,I,h):rl(d,v):(K._visibility|=2,Da(d,v,E,I,h)),h&&z&2048&&$f(v.alternate,v);break;case 24:Da(d,v,E,I,h),h&&z&2048&&Zf(v.alternate,v);break;default:Da(d,v,E,I,h)}i=i.sibling}}function rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:rl(a,l),h&2048&&$f(l.alternate,l);break;case 24:rl(a,l),h&2048&&Zf(l.alternate,l);break;default:rl(a,l)}i=i.sibling}}var sl=8192;function Oa(t){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)Oy(t),t=t.sibling}function Oy(t){switch(t.tag){case 26:Oa(t),t.flags&sl&&t.memoizedState!==null&&wb(Vn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var i=Vn;Vn=gc(t.stateNode.containerInfo),Oa(t),Vn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,Oa(t),sl=i):Oa(t));break;default:Oa(t)}}function Ny(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ky(l,t)}Ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)My(t),t=t.sibling}function My(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&_r(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,rc(t)):al(t);break;default:al(t)}}function rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Mt=l,ky(l,t)}Ny(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:_r(8,i,i.return),rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,rc(i));break;default:rc(i)}t=t.sibling}}function ky(t,i){for(;Mt!==null;){var a=Mt;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Mt=l;else e:for(a=t;Mt!==null;){l=Mt;var h=l.sibling,d=l.return;if(wy(l),l===a){Mt=null;break e}if(h!==null){h.return=d,Mt=h;break e}Mt=d}}}var qA={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},BA=typeof WeakMap=="function"?WeakMap:Map,We=0,tt=null,Oe=null,Le=0,Ke=0,dn=null,Er=!1,Na=!1,Jf=!1,Hi=0,ct=0,Ar=0,Ns=0,ed=0,Cn=0,Ma=0,ol=null,sn=null,td=!1,nd=0,sc=1/0,ac=null,br=null,zt=0,Sr=null,ka=null,Pa=0,id=0,rd=null,Py=null,ll=0,sd=null;function pn(){if((We&2)!==0&&Le!==0)return Le&-Le;if(Q.T!==null){var t=Aa;return t!==0?t:fd()}return sr()}function Vy(){Cn===0&&(Cn=(Le&536870912)===0||Be?yo():536870912);var t=In.current;return t!==null&&(t.flags|=32),Cn}function mn(t,i,a){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Va(t,0),wr(t,Le,Cn,!1)),Ei(t,a),((We&2)===0||t!==tt)&&(t===tt&&((We&2)===0&&(Ns|=a),ct===4&&wr(t,Le,Cn,!1)),si(t))}function Uy(t,i,a){if((We&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||rs(t,i),h=l?GA(t,i):ld(t,i,!0),d=l;do{if(h===0){Na&&!l&&wr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!HA(a)){h=ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=ol;var I=E.current.memoizedState.isDehydrated;if(I&&(Va(E,v).flags|=256),v=ld(E,v,!1),v!==2){if(Jf&&!I){E.errorRecoveryDisabledLanes|=d,Ns|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Va(t,0),wr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,Cn,!Er);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=nd+300-yn(),10<h)){if(wr(l,i,Cn,!Er),Js(l,0,!0)!==0)break e;l.timeoutHandle=f_(Ly.bind(null,l,a,sn,ac,td,i,Cn,Ns,Ma,Er,d,2,-0,0),h);break e}Ly(l,a,sn,ac,td,i,Cn,Ns,Ma,Er,d,0,-0,0)}}break}while(!0);si(t)}function Ly(t,i,a,l,h,d,v,E,I,z,K,$,q,B){if(t.timeoutHandle=-1,$=i.subtreeFlags,($&8192||($&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:Sb},Oy(i),$=Rb(),$!==null)){t.cancelPendingCommit=$(Gy.bind(null,t,i,d,a,l,h,v,E,I,K,1,q,B)),wr(t,d,v,!z);return}Gy(t,i,d,a,l,h,v,E,I)}function HA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(t,i,a,l){i&=~ed,i&=~Ns,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function oc(){return(We&6)===0?(ul(0),!1):!0}function ad(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Pi=Rs=null,bf(t),Ca=null,Jo=0,t=Oe;for(;t!==null;)yy(t.alternate,t),t=t.return;Oe=null}}function Va(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ob(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ad(),tt=t,Oe=a=Ni(t.current,null),Le=i,Ke=0,dn=null,Er=!1,Na=rs(t,i),Jf=!1,Ma=Cn=ed=Ns=Ar=ct=0,sn=ol=null,td=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Hi=i,xu(),a}function zy(t,i){Ie=null,Q.H=Ku,i===Fo||i===Lu?(i=ng(),Ke=3):i===Jm?(i=ng(),Ke=4):Ke=i===iy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Oe===null&&(ct=1,Ju(t,bn(i,t.current)))}function jy(){var t=Q.H;return Q.H=Ku,t===null?Ku:t}function qy(){var t=Q.A;return Q.A=qA,t}function od(){ct=4,Er||(Le&4194048)!==Le&&In.current!==null||(Na=!0),(Ar&134217727)===0&&(Ns&134217727)===0||tt===null||wr(tt,Le,Cn,!1)}function ld(t,i,a){var l=We;We|=2;var h=jy(),d=qy();(tt!==t||Le!==i)&&(ac=null,Va(t,i)),i=!1;var v=ct;e:do try{if(Ke!==0&&Oe!==null){var E=Oe,I=dn;switch(Ke){case 8:ad(),v=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(i=!0);var z=Ke;if(Ke=0,dn=null,Ua(t,E,I,z),a&&Na){v=0;break e}break;default:z=Ke,Ke=0,dn=null,Ua(t,E,I,z)}}FA(),v=ct;break}catch(K){zy(t,K)}while(!0);return i&&t.shellSuspendCounter++,Pi=Rs=null,We=l,Q.H=h,Q.A=d,Oe===null&&(tt=null,Le=0,xu()),v}function FA(){for(;Oe!==null;)By(Oe)}function GA(t,i){var a=We;We|=2;var l=jy(),h=qy();tt!==t||Le!==i?(ac=null,sc=yn()+500,Va(t,i)):Na=rs(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=dn;t:switch(Ke){case 1:Ke=0,dn=null,Ua(t,i,d,1);break;case 2:case 9:if(eg(d)){Ke=0,dn=null,Hy(i);break}i=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:eg(d)?(Ke=0,dn=null,Hy(i)):(Ke=0,dn=null,Ua(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var E=Oe;if(!v||S_(v)){Ke=0,dn=null;var I=E.sibling;if(I!==null)Oe=I;else{var z=E.return;z!==null?(Oe=z,lc(z)):Oe=null}break t}}Ke=0,dn=null,Ua(t,i,d,5);break;case 6:Ke=0,dn=null,Ua(t,i,d,6);break;case 8:ad(),ct=6;break e;default:throw Error(s(462))}}QA();break}catch(K){zy(t,K)}while(!0);return Pi=Rs=null,Q.H=l,Q.A=h,We=a,Oe!==null?0:(tt=null,Le=0,xu(),ct)}function QA(){for(;Oe!==null&&!fo();)By(Oe)}function By(t){var i=my(t.alternate,t,Hi);t.memoizedProps=t.pendingProps,i===null?lc(t):Oe=i}function Hy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=uy(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=uy(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:bf(i);default:yy(a,i),i=Oe=Fm(i,Hi),i=my(a,i,Hi)}t.memoizedProps=t.pendingProps,i===null?lc(t):Oe=i}function Ua(t,i,a,l){Pi=Rs=null,bf(i),Ca=null,Jo=0;var h=i.return;try{if(PA(t,h,i,a,Le)){ct=1,Ju(t,bn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ct=1,Ju(t,bn(a,t.current)),Oe=null;return}i.flags&32768?(Be||l===1?t=!0:Na||(Le&536870912)!==0?t=!1:(Er=t=!0,(l===2||l===9||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(i,t)):lc(i)}function lc(t){var i=t;do{if((i.flags&32768)!==0){Fy(i,Er);return}t=i.return;var a=UA(i.alternate,i,Hi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ct===0&&(ct=5)}function Fy(t,i){do{var a=LA(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ct=6,Oe=null}function Gy(t,i,a,l,h,d,v,E,I){t.cancelPendingCommit=null;do uc();while(zt!==0);if((We&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=$h,vo(t,a,d,v,E,I),t===tt&&(Oe=tt=null,Le=0),ka=i,Sr=t,Pa=a,id=d,rd=h,Py=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XA(es,function(){return Xy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=re.p,re.p=2,v=We,We|=4;try{zA(t,i,a)}finally{We=v,re.p=h,Q.T=l}}zt=1,Qy(),Wy(),Ky()}}function Qy(){if(zt===1){zt=0;var t=Sr,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var h=We;We|=4;try{Cy(i,t);var d=Td,v=km(t.containerInfo),E=d.focusedElem,I=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Mm(E.ownerDocument.documentElement,E)){if(I!==null&&Qh(E)){var z=I.start,K=I.end;if(K===void 0&&(K=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(K,E.value.length);else{var $=E.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var B=q.getSelection(),Ee=E.textContent.length,ge=Math.min(I.start,Ee),Ze=I.end===void 0?ge:Math.min(I.end,Ee);!B.extend&&ge>Ze&&(v=Ze,Ze=ge,ge=v);var P=Nm(E,ge),O=Nm(E,Ze);if(P&&O&&(B.rangeCount!==1||B.anchorNode!==P.node||B.anchorOffset!==P.offset||B.focusNode!==O.node||B.focusOffset!==O.offset)){var L=$.createRange();L.setStart(P.node,P.offset),B.removeAllRanges(),ge>Ze?(B.addRange(L),B.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),B.addRange(L))}}}}for($=[],B=E;B=B.parentNode;)B.nodeType===1&&$.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!vd,Td=vd=null}finally{We=h,re.p=l,Q.T=a}}t.current=i,zt=2}}function Wy(){if(zt===2){zt=0;var t=Sr,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=re.p;re.p=2;var h=We;We|=4;try{Sy(t,i.alternate,i)}finally{We=h,re.p=l,Q.T=a}}zt=3}}function Ky(){if(zt===4||zt===3){zt=0,ru();var t=Sr,i=ka,a=Pa,l=Py;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,ka=Sr=null,Yy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(br=null),ea(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(lt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=re.p,re.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{Q.T=i,re.p=h}}(Pa&3)!==0&&uc(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===sd?ll++:(ll=0,sd=t):ll=0,ul(0)}}function Yy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bo(i)))}function uc(t){return Qy(),Wy(),Ky(),Xy()}function Xy(){if(zt!==5)return!1;var t=Sr,i=id;id=0;var a=ea(Pa),l=Q.T,h=re.p;try{re.p=32>a?32:a,Q.T=null,a=rd,rd=null;var d=Sr,v=Pa;if(zt=0,ka=Sr=null,Pa=0,(We&6)!==0)throw Error(s(331));var E=We;if(We|=4,My(d.current),Dy(d,d.current,v,a),We=E,ul(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(lt,d)}catch{}return!0}finally{re.p=h,Q.T=l,Yy(t,i)}}function $y(t,i,a){i=bn(a,i),i=Uf(t.stateNode,i,2),t=pr(t,i,2),t!==null&&(Ei(t,2),si(t))}function Je(t,i,a){if(t.tag===3)$y(t,t,a);else for(;i!==null;){if(i.tag===3){$y(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(br===null||!br.has(l))){t=bn(a,t),a=ty(2),l=pr(i,a,2),l!==null&&(ny(a,l,i,t),Ei(l,2),si(l));break}}i=i.return}}function ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new BA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Jf=!0,h.add(a),t=WA.bind(null,t,i,a),i.then(t,t))}function WA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Le&a)===a&&(ct===4||ct===3&&(Le&62914560)===Le&&300>yn()-nd?(We&2)===0&&Va(t,0):ed|=a,Ma===Le&&(Ma=0)),si(t)}function Zy(t,i){i===0&&(i=_o()),t=_a(t,i),t!==null&&(Ei(t,i),si(t))}function KA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Zy(t,a)}function YA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Zy(t,a)}function XA(t,i){return Zr(t,i)}var cc=null,La=null,cd=!1,hc=!1,hd=!1,Ms=0;function si(t){t!==La&&t.next===null&&(La===null?cc=La=t:La=La.next=t),hc=!0,cd||(cd=!0,ZA())}function ul(t,i){if(!hd&&hc){hd=!0;do for(var a=!1,l=cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=Le,d=Js(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||rs(l,d)||(a=!0,n_(l,d));l=l.next}while(a);hd=!1}}function $A(){Jy()}function Jy(){hc=cd=!1;var t=0;Ms!==0&&(ab()&&(t=Ms),Ms=0);for(var i=yn(),a=null,l=cc;l!==null;){var h=l.next,d=e_(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(La=a)):(a=l,(t!==0||(d&3)!==0)&&(hc=!0)),l=h}ul(t)}function e_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),E=1<<v,I=h[v];I===-1?((E&a)===0||(E&l)!==0)&&(h[v]=go(E,i)):I<=i&&(t.expiredLanes|=E),d&=~E}if(i=tt,a=Le,a=Js(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Jr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Jr(l),ea(a)){case 2:case 8:a=$s;break;case 32:a=es;break;case 268435456:a=Zs;break;default:a=es}return l=t_.bind(null,t),a=Zr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Jr(l),t.callbackPriority=2,t.callbackNode=null,2}function t_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(uc()&&t.callbackNode!==a)return null;var l=Le;return l=Js(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Uy(t,l,i),e_(t,yn()),t.callbackNode!=null&&t.callbackNode===a?t_.bind(null,t):null)}function n_(t,i){if(uc())return null;Uy(t,i,!0)}function ZA(){lb(function(){(We&6)!==0?Zr(po,$A):Jy()})}function fd(){return Ms===0&&(Ms=yo()),Ms}function i_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:aa(""+t)}function r_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function JA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=i_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?i_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new oa("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var I=v?r_(h,v):new FormData(h);Nf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(E.preventDefault(),I=v?r_(h,v):new FormData(h),Nf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var dd=0;dd<Xh.length;dd++){var pd=Xh[dd],eb=pd.toLowerCase(),tb=pd[0].toUpperCase()+pd.slice(1);Pn(eb,"on"+tb)}Pn(Um,"onAnimationEnd"),Pn(Lm,"onAnimationIteration"),Pn(zm,"onAnimationStart"),Pn("dblclick","onDoubleClick"),Pn("focusin","onFocus"),Pn("focusout","onBlur"),Pn(_A,"onTransitionRun"),Pn(vA,"onTransitionStart"),Pn(TA,"onTransitionCancel"),Pn(jm,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function s_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(E=l[v],I=E.instance,z=E.currentTarget,E=E.listener,I!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=z;try{d(h)}catch(K){Zu(K)}h.currentTarget=null,d=I}}}}function Ne(t,i){var a=i[Eo];a===void 0&&(a=i[Eo]=new Set);var l=t+"__bubble";a.has(l)||(a_(i,t,2,!1),a.add(l))}function md(t,i,a){var l=0;i&&(l|=4),a_(a,t,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function gd(t){if(!t[fc]){t[fc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(nb.has(a)||md(a,!1,t),md(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[fc]||(i[fc]=!0,md("selectionchange",!1,i))}}function a_(t,i,a,l){switch(D_(i)){case 2:var h=xb;break;case 8:h=Db;break;default:h=Dd}a=h.bind(null,i,a,t),h=void 0,!En||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function yd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ai(E),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}E=E.parentNode}}l=l.return}pu(function(){var z=d,K=Tn(a),$=[];e:{var q=qm.get(t);if(q!==void 0){var B=oa,Ee=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":B=da;break;case"focusin":Ee="focus",B=ca;break;case"focusout":Ee="blur",B=ca;break;case"beforeblur":case"afterblur":B=ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Au;break;case Um:case Lm:case zm:B=ha;break;case jm:B=Su;break;case"scroll":case"scrollend":B=mu;break;case"wheel":B=pa;break;case"copy":case"cut":case"paste":B=fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ko;break;case"toggle":case"beforetoggle":B=Ru}var ge=(i&4)!==0,Ze=!ge&&(t==="scroll"||t==="scrollend"),P=ge?q!==null?q+"Capture":null:q;ge=[];for(var O=z,L;O!==null;){var Y=O;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||P===null||(Y=fs(O,P),Y!=null&&ge.push(hl(O,Y,L))),Ze)break;O=O.return}0<ge.length&&(q=new B(q,Ee,null,a,K),$.push({event:q,listeners:ge}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",q&&a!==Ri&&(Ee=a.relatedTarget||a.fromElement)&&(Ai(Ee)||Ee[_n]))break e;if((B||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,B?(Ee=a.relatedTarget||a.toElement,B=z,Ee=Ee?Ai(Ee):null,Ee!==null&&(Ze=c(Ee),ge=Ee.tag,Ee!==Ze||ge!==5&&ge!==27&&ge!==6)&&(Ee=null)):(B=null,Ee=z),B!==Ee)){if(ge=An,Y="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ge=ko,Y="onPointerLeave",P="onPointerEnter",O="pointer"),Ze=B==null?q:Qn(B),L=Ee==null?q:Qn(Ee),q=new ge(Y,O+"leave",B,a,K),q.target=Ze,q.relatedTarget=L,Y=null,Ai(K)===z&&(ge=new ge(P,O+"enter",Ee,a,K),ge.target=L,ge.relatedTarget=Ze,Y=ge),Ze=Y,B&&Ee)t:{for(ge=B,P=Ee,O=0,L=ge;L;L=za(L))O++;for(L=0,Y=P;Y;Y=za(Y))L++;for(;0<O-L;)ge=za(ge),O--;for(;0<L-O;)P=za(P),L--;for(;O--;){if(ge===P||P!==null&&ge===P.alternate)break t;ge=za(ge),P=za(P)}ge=null}else ge=null;B!==null&&o_($,q,B,ge,!1),Ee!==null&&Ze!==null&&o_($,Ze,Ee,ge,!0)}}e:{if(q=z?Qn(z):window,B=q.nodeName&&q.nodeName.toLowerCase(),B==="select"||B==="input"&&q.type==="file")var he=Rm;else if(wt(q))if(Im)he=mA;else{he=dA;var De=fA}else B=q.nodeName,!B||B.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&Io(z.elementType)&&(he=Rm):he=pA;if(he&&(he=he(t,z))){Oi($,he,a,K);break e}De&&De(t,q,z),t==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&ur(q,"number",q.value)}switch(De=z?Qn(z):window,t){case"focusin":(wt(De)||De.contentEditable==="true")&&(ma=De,Wh=z,Uo=null);break;case"focusout":Uo=Wh=ma=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Pm($,a,K);break;case"selectionchange":if(yA)break;case"keydown":case"keyup":Pm($,a,K)}var de;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?F(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(de=xo()):(Yn=K,cr="value"in Yn?Yn.value:Yn.textContent,Ve=!0)),De=dc(z,_e),0<De.length&&(_e=new No(_e,t,null,a,K),$.push({event:_e,listeners:De}),de?_e.data=de:(de=ie(a),de!==null&&(_e.data=de)))),(de=m?St(t,a):Ue(t,a))&&(_e=dc(z,"onBeforeInput"),0<_e.length&&(De=new No("onBeforeInput","beforeinput",null,a,K),$.push({event:De,listeners:_e}),De.data=de)),JA($,t,z,a,K)}s_($,i)})}function hl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=fs(t,a),h!=null&&l.unshift(hl(t,h,d)),h=fs(t,i),h!=null&&l.push(hl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function o_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=fs(a,d),z!=null&&v.unshift(hl(a,z,I))):h||(z=fs(a,d),z!=null&&v.push(hl(a,z,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var ib=/\r\n?/g,rb=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(ib,`
`).replace(rb,"")}function u_(t,i){return i=l_(i),l_(t)===i}function pc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&vn(t,""+l);break;case"className":Wn(t,"class",l);break;case"tabIndex":Wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,a,l);break;case"style":Ro(t,l,d);break;case"data":if(i!=="object"){Wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=pc);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Vt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=jh.get(a)||a,lr(t,a,l))}}function _d(t,i,a,l,h,d){switch(a){case"style":Ro(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):lr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var E=d=v=h=null,I=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":I=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:$e(t,i,l,K,a,null)}}us(t,d,E,I,z,v,h,!1),sa(t);return;case"select":Ne("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:$e(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?wi(t,!!l,i,!1):a!=null&&wi(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:$e(t,i,v,E,a,null)}cs(t,l,h,d),sa(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<cl.length;l++)Ne(cl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,z,l,a,null)}return;default:if(Io(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&_d(t,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&$e(t,i,E,l,a,null))}function sb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,I=null,z=null,K=null;for(B in a){var $=a[B];if(a.hasOwnProperty(B)&&$!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(B)||$e(t,i,B,null,l,$)}}for(var q in l){var B=l[q];if($=a[q],l.hasOwnProperty(q)&&(B!=null||$!=null))switch(q){case"type":d=B;break;case"name":h=B;break;case"checked":z=B;break;case"defaultChecked":K=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==$&&$e(t,i,q,B,l,$)}}ln(t,v,E,I,z,K,d,h);return;case"select":B=v=E=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":B=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=E,a=v,l=B,q!=null?wi(t,!!a,q,!1):!!l!=!!a&&(i!=null?wi(t,!!a,i,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":B=q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$e(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Ye(t,q,B);return;case"option":for(var Ee in a)if(q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:$e(t,i,Ee,null,l,q)}for(I in l)if(q=l[I],B=a[I],l.hasOwnProperty(I)&&q!==B&&(q!=null||B!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$e(t,i,I,q,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in a)q=a[ge],a.hasOwnProperty(ge)&&q!=null&&!l.hasOwnProperty(ge)&&$e(t,i,ge,null,l,q);for(z in l)if(q=l[z],B=a[z],l.hasOwnProperty(z)&&q!==B&&(q!=null||B!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:$e(t,i,z,q,l,B)}return;default:if(Io(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!l.hasOwnProperty(Ze)&&_d(t,i,Ze,void 0,l,q);for(K in l)q=l[K],B=a[K],!l.hasOwnProperty(K)||q===B||q===void 0&&B===void 0||_d(t,i,K,q,l,B);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&$e(t,i,P,null,l,q);for($ in l)q=l[$],B=a[$],!l.hasOwnProperty($)||q===B||q==null&&B==null||$e(t,i,$,q,l,B)}var vd=null,Td=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function c_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ed(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ad=null;function ab(){var t=window.event;return t&&t.type==="popstate"?t===Ad?!1:(Ad=t,!0):(Ad=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,ob=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,lb=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(ub)}:f_;function ub(t){setTimeout(function(){throw t})}function Rr(t){return t==="head"}function p_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&fl(v.documentElement),a&2&&fl(v.body),a&4)for(a=v.head,fl(a),v=a.firstChild;v;){var E=v.nextSibling,I=v.nodeName;v[ss]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){t.removeChild(d),Tl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Tl(i)}function bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function cb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ss])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function hb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Sd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fb(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var wd=null;function m_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function g_(t,i,a){switch(i=mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);or(t)}var xn=new Map,y_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=re.d;re.d={f:db,r:pb,D:mb,C:gb,L:yb,m:_b,X:Tb,S:vb,M:Eb};function db(){var t=Fi.f(),i=oc();return t||i}function pb(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?Ug(i):Fi.r(t)}var ja=typeof document>"u"?null:document;function __(t,i,a){var l=ja;if(l&&typeof i=="string"&&i){var h=gt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),y_.has(h)||(y_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function mb(t){Fi.D(t),__("dns-prefetch",t,null)}function gb(t,i){Fi.C(t,i),__("preconnect",t,i)}function yb(t,i,a){Fi.L(t,i,a);var l=ja;if(l&&t&&i){var h='link[rel="preload"][as="'+gt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+gt(a.imageSizes)+'"]')):h+='[href="'+gt(t)+'"]';var d=h;switch(i){case"style":d=qa(t);break;case"script":d=Ba(t)}xn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),xn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(dl(d))||i==="script"&&l.querySelector(pl(d))||(i=l.createElement("link"),jt(i,"link",t),ht(i),l.head.appendChild(i)))}}function _b(t,i){Fi.m(t,i);var a=ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+gt(l)+'"][href="'+gt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ba(t)}if(!xn.has(d)&&(t=T({rel:"modulepreload",href:t},i),xn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(d)))return}l=a.createElement("link"),jt(l,"link",t),ht(l),a.head.appendChild(l)}}}function vb(t,i,a){Fi.S(t,i,a);var l=ja;if(l&&t){var h=Zt(l).hoistableStyles,d=qa(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(dl(d)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=xn.get(d))&&Rd(t,a);var I=v=l.createElement("link");ht(I),jt(I,"link",t),I._p=new Promise(function(z,K){I.onload=z,I.onerror=K}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,yc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function Tb(t,i){Fi.X(t,i);var a=ja;if(a&&t){var l=Zt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=T({src:t,async:!0},i),(i=xn.get(h))&&Id(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Eb(t,i){Fi.M(t,i);var a=ja;if(a&&t){var l=Zt(a).hoistableScripts,h=Ba(t),d=l.get(h);d||(d=a.querySelector(pl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=xn.get(h))&&Id(t,i),d=a.createElement("script"),ht(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function v_(t,i,a,l){var h=(h=Ae.current)?gc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=qa(a.href),a=Zt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(dl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),xn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},xn.set(t,a),d||Ab(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ba(a),a=Zt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+gt(t)+'"'}function dl(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ab(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ht(i),t.head.appendChild(i))}function Ba(t){return'[src="'+gt(t)+'"]'}function pl(t){return"script[async]"+t}function E_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+gt(a.href)+'"]');if(l)return i.instance=l,ht(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ht(l),jt(l,"style",h),yc(l,a.precedence,t),i.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(dl(h));if(d)return i.state.loading|=4,i.instance=d,ht(d),d;l=T_(a),(h=xn.get(h))&&Rd(l,h),d=(t.ownerDocument||t).createElement("link"),ht(d);var v=d;return v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),jt(d,"link",l),i.state.loading|=4,yc(d,a.precedence,t),i.instance=d;case"script":return d=Ba(a.src),(h=t.querySelector(pl(d)))?(i.instance=h,ht(h),h):(l=a,(h=xn.get(d))&&(l=T({},a),Id(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ht(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,yc(l,a.precedence,t));return i.instance}function yc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Rd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Id(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var _c=null;function A_(t,i,a){if(_c===null){var l=new Map,h=_c=new Map;h.set(a,l)}else h=_c,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ss]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function b_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function bb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ml=null;function Sb(){}function wb(t,i,a){if(ml===null)throw Error(s(475));var l=ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=qa(a.href),d=t.querySelector(dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ht(d);return}d=t.ownerDocument||t,a=T_(a),(h=xn.get(h))&&Rd(a,h),d=d.createElement("link"),ht(d);var v=d;v._p=new Promise(function(E,I){v.onload=E,v.onerror=I}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Rb(){if(ml===null)throw Error(s(475));var t=ml;return t.stylesheets&&t.count===0&&Cd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Cd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)Cd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function Cd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,i.forEach(Ib,t),Tc=null,vc.call(t))}function Ib(t,i){if(!(i.state.loading&4)){var a=Tc.get(t);if(a)var l=a.get(null);else{a=new Map,Tc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var gl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Cb(t,i,a,l,h,d,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function w_(t,i,a,l,h,d,v,E,I,z,K,$){return t=new Cb(t,i,a,v,E,I,z,$),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),t.current=d,d.stateNode=t,i=uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},df(d),t}function R_(t){return t?(t=va,t):va}function I_(t,i,a,l,h,d){h=R_(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=pr(t,l,i),a!==null&&(mn(a,t,i),Qo(a,t,i))}function C_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function xd(t,i){C_(t,i),(t=t.alternate)&&C_(t,i)}function x_(t){if(t.tag===13){var i=_a(t,67108864);i!==null&&mn(i,t,67108864),xd(t,67108864)}}var Ec=!0;function xb(t,i,a,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=2,Dd(t,i,a,l)}finally{re.p=d,Q.T=h}}function Db(t,i,a,l){var h=Q.T;Q.T=null;var d=re.p;try{re.p=8,Dd(t,i,a,l)}finally{re.p=d,Q.T=h}}function Dd(t,i,a,l){if(Ec){var h=Od(l);if(h===null)yd(t,i,l,Ac,a),O_(t,l);else if(Nb(h,t,i,a,l))l.stopPropagation();else if(O_(t,l),i&4&&-1<Ob.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Nn(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var I=1<<31-Gt(v);E.entanglements[1]|=I,v&=~I}si(d),(We&6)===0&&(sc=yn()+500,ul(0))}}break;case 13:E=_a(d,2),E!==null&&mn(E,d,2),oc(),xd(d,2)}if(d=Od(l),d===null&&yd(t,i,l,Ac,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else yd(t,i,l,null,a)}}function Od(t){return t=Tn(t),Nd(t)}var Ac=null;function Nd(t){if(Ac=null,t=Ai(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ac=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kh()){case po:return 2;case $s:return 8;case es:case Ph:return 32;case Zs:return 268435456;default:return 32}default:return 32}}var Md=!1,Ir=null,Cr=null,xr=null,yl=new Map,_l=new Map,Dr=[],Ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":yl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&x_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Nb(t,i,a,l,h){switch(i){case"focusin":return Ir=vl(Ir,t,i,a,l,h),!0;case"dragenter":return Cr=vl(Cr,t,i,a,l,h),!0;case"mouseover":return xr=vl(xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return yl.set(d,vl(yl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,_l.set(d,vl(_l.get(d)||null,t,i,a,l,h)),!0}return!1}function N_(t){var i=Ai(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ou(t.priority,function(){if(a.tag===13){var l=pn();l=rr(l);var h=_a(a,l);h!==null&&mn(h,a,l),xd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Od(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ri=l,a.target.dispatchEvent(l),Ri=null}else return i=Gn(a),i!==null&&x_(i),t.blockedOn=a,!1;i.shift()}return!0}function M_(t,i,a){bc(t)&&a.delete(i)}function Mb(){Md=!1,Ir!==null&&bc(Ir)&&(Ir=null),Cr!==null&&bc(Cr)&&(Cr=null),xr!==null&&bc(xr)&&(xr=null),yl.forEach(M_),_l.forEach(M_)}function Sc(t,i){t.blockedOn===i&&(t.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mb)))}var wc=null;function k_(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Nd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,Nf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Tl(t){function i(I){return Sc(I,t)}Ir!==null&&Sc(Ir,t),Cr!==null&&Sc(Cr,t),xr!==null&&Sc(xr,t),yl.forEach(i),_l.forEach(i);for(var a=0;a<Dr.length;a++){var l=Dr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Dr.length&&(a=Dr[0],a.blockedOn===null);)N_(a),a.blockedOn===null&&Dr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||k_(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)E=v.formAction;else if(Nd(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),k_(a)}}}function kd(t){this._internalRoot=t}Rc.prototype.render=kd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=pn();I_(a,l,t,i,null,null)},Rc.prototype.unmount=kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;I_(t.current,2,null,t,null,null),oc(),i[_n]=null}};function Rc(t){this._internalRoot=t}Rc.prototype.unstable_scheduleHydration=function(t){if(t){var i=sr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Dr.length&&i!==0&&i<Dr[a].priority;a++);Dr.splice(a,0,t),a===0&&N_(t)}};var P_=e.version;if(P_!=="19.1.1")throw Error(s(527,P_,"19.1.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var kb={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{lt=Ic.inject(kb),Qe=Ic}catch{}}return Al.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=$g,d=Zg,v=Jg,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=w_(t,1,!1,null,null,a,l,h,d,v,E,null),t[_n]=i.current,gd(t),new kd(i)},Al.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=$g,v=Zg,E=Jg,I=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=w_(t,1,!0,i,a??null,l,h,d,v,E,I,z),i.context=R_(null),a=i.current,l=pn(),l=rr(l),h=dr(l),h.callback=null,pr(a,h,l),a=l,i.current.lanes=a,Ei(i,a),si(i),t[_n]=i.current,gd(t),new Rc(i)},Al.version="19.1.1",Al}var G_;function Fb(){if(G_)return Ud.exports;G_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=Hb(),Ud.exports}var Gb=Fb();const Qb="modulepreload",Wb=function(r){return"/Information-Processing-CSC227/"+r},Q_={},Gi=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(T){return Promise.all(T.map(w=>Promise.resolve(w).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var f=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");o=y(n.map(T=>{if(T=Wb(T),T in Q_)return;Q_[T]=!0;const w=T.endsWith(".css"),C=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${C}`))return;const H=document.createElement("link");if(H.rel=w?"stylesheet":Qb,w||(H.as="script"),H.crossOrigin="",H.href=T,g&&H.setAttribute("nonce",g),document.head.appendChild(H),w)return new Promise((j,W)=>{H.addEventListener("load",j),H.addEventListener("error",()=>W(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return o.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Yb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[n++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=c>>2,w=(c&3)<<4|p>>4;let C=(p&15)<<2|y>>6,H=y&63;g||(H=64,f||(C=64)),s.push(n[T],n[w],n[C],n[H])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(x0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Yb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||w==null)throw new Xb;const C=c<<2|p>>4;if(s.push(C),y!==64){const H=p<<4&240|y>>2;if(s.push(H),w!==64){const j=y<<6&192|w;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Xb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $b=function(r){const e=x0(r);return D0.encodeByteArray(e,!0)},Kc=function(r){return $b(r).replace(/\./g,"")},O0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=()=>Zb().__FIREBASE_DEFAULTS__,eS=()=>{if(typeof process>"u"||typeof W_>"u")return;const r=W_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},tS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&O0(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return Kb()||Jb()||eS()||tS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},N0=r=>mh()?.emulatorHosts?.[r],M0=r=>{const e=N0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},k0=()=>mh()?.config,P0=r=>mh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fs(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Dp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Kc(JSON.stringify(n)),Kc(JSON.stringify(f)),""].join(".")}const xl={};function iS(){const r={prod:[],emulator:[]};for(const e of Object.keys(xl))xl[e]?r.emulator.push(e):r.prod.push(e);return r}function rS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let K_=!1;function Op(r,e){if(typeof window>"u"||typeof document>"u"||!Fs(window.location.host)||xl[r]===e||xl[r]||K_)return;xl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",c=iS().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function p(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function g(C,H){C.setAttribute("width","24"),C.setAttribute("id",H),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{K_=!0,f()},C}function T(C,H){C.setAttribute("id",H),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function w(){const C=rS(s),H=n("text"),j=document.getElementById(H)||document.createElement("span"),W=n("learnmore"),G=document.getElementById(W)||document.createElement("a"),le=n("preprendIcon"),se=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const oe=C.element;p(oe),T(G,W);const ne=y();g(se,le),oe.append(se,j,G,ne),document.body.appendChild(oe)}c?(j.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function aS(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function lS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function uS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cS(){const r=$t();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function hS(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fS(){try{return typeof indexedDB=="object"}catch{return!1}}function dS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="FirebaseError";class yi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pS,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?mS(c,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new yi(o,p,s)}}function mS(r,e){return r.replace(gS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const gS=/\{\$([^}]+)}/g;function yS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(Y_(c)&&Y_(f)){if(!Ls(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,c]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Sl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function _S(r,e){const n=new vS(r,e);return n.subscribe.bind(n)}class vS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");TS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=qd),o.error===void 0&&(o.error=qd),o.complete===void 0&&(o.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class Br{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new nS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bS(e))try{this.getOrInitializeService({instanceIdentifier:ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ks){return this.instances.has(e)}getOptions(e=ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ks){return this.component?this.component.multipleInstances?e:ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AS(r){return r===ks?void 0:r}function bS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ES(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const wS={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},RS=Me.INFO,IS={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},CS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=IS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=RS,this._logHandler=CS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const xS=(r,e)=>e.some(n=>r instanceof n);let X_,$_;function DS(){return X_||(X_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OS(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,ep=new WeakMap,L0=new WeakMap,Bd=new WeakMap,Mp=new WeakMap;function NS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&U0.set(n,r)}).catch(()=>{}),Mp.set(e,r),e}function MS(r){if(ep.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});ep.set(r,e)}let tp={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ep.get(r);if(e==="objectStoreNames")return r.objectStoreNames||L0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function kS(r){tp=r(tp)}function PS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Hd(this),e,...n);return L0.set(s,e.sort?e.sort():[e]),Lr(s)}:OS().includes(r)?function(...e){return r.apply(Hd(this),e),Lr(U0.get(this))}:function(...e){return Lr(r.apply(Hd(this),e))}}function VS(r){return typeof r=="function"?PS(r):(r instanceof IDBTransaction&&MS(r),xS(r,DS())?new Proxy(r,tp):r)}function Lr(r){if(r instanceof IDBRequest)return NS(r);if(Bd.has(r))return Bd.get(r);const e=VS(r);return e!==r&&(Bd.set(r,e),Mp.set(e,r)),e}const Hd=r=>Mp.get(r);function US(r,e,{blocked:n,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),p=Lr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Lr(f.result),g.oldVersion,g.newVersion,Lr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const LS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Fd=new Map;function Z_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=zS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||LS.includes(n)))return;const c=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Fd.set(e,c),c}kS(r=>({...r,get:(e,n,s)=>Z_(e,n)||r.get(e,n,s),has:(e,n)=>!!Z_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function qS(r){return r.getComponent()?.type==="VERSION"}const np="@firebase/app",J_="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Np("@firebase/app"),BS="@firebase/app-compat",HS="@firebase/analytics-compat",FS="@firebase/analytics",GS="@firebase/app-check-compat",QS="@firebase/app-check",WS="@firebase/auth",KS="@firebase/auth-compat",YS="@firebase/database",XS="@firebase/data-connect",$S="@firebase/database-compat",ZS="@firebase/functions",JS="@firebase/functions-compat",ew="@firebase/installations",tw="@firebase/installations-compat",nw="@firebase/messaging",iw="@firebase/messaging-compat",rw="@firebase/performance",sw="@firebase/performance-compat",aw="@firebase/remote-config",ow="@firebase/remote-config-compat",lw="@firebase/storage",uw="@firebase/storage-compat",cw="@firebase/firestore",hw="@firebase/ai",fw="@firebase/firestore-compat",dw="firebase",pw="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",mw={[np]:"fire-core",[BS]:"fire-core-compat",[FS]:"fire-analytics",[HS]:"fire-analytics-compat",[QS]:"fire-app-check",[GS]:"fire-app-check-compat",[WS]:"fire-auth",[KS]:"fire-auth-compat",[YS]:"fire-rtdb",[XS]:"fire-data-connect",[$S]:"fire-rtdb-compat",[ZS]:"fire-fn",[JS]:"fire-fn-compat",[ew]:"fire-iid",[tw]:"fire-iid-compat",[nw]:"fire-fcm",[iw]:"fire-fcm-compat",[rw]:"fire-perf",[sw]:"fire-perf-compat",[aw]:"fire-rc",[ow]:"fire-rc-compat",[lw]:"fire-gcs",[uw]:"fire-gcs-compat",[cw]:"fire-fst",[fw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[dw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,gw=new Map,rp=new Map;function ev(r,e){try{r.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function zs(r){const e=r.name;if(rp.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,r);for(const n of Yc.values())ev(n,r);for(const n of gw.values())ev(n,r);return!0}function gh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new Gl("app","Firebase",yw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=pw;function z0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:ip,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=k0()),!n)throw zr.create("no-options");const c=Yc.get(o);if(c){if(Ls(n,c.options)&&Ls(s,c.config))return c;throw zr.create("duplicate-app",{appName:o})}const f=new SS(o);for(const g of rp.values())f.addComponent(g);const p=new _w(n,s,f);return Yc.set(o,p),p}function kp(r=ip){const e=Yc.get(r);if(!e&&r===ip&&k0())return z0();if(!e)throw zr.create("no-app",{appName:r});return e}function oi(r,e,n){let s=mw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(f.join(" "));return}zs(new Br(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="firebase-heartbeat-database",Tw=1,Pl="firebase-heartbeat-store";let Gd=null;function j0(){return Gd||(Gd=US(vw,Tw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function Ew(r){try{const n=(await j0()).transaction(Pl),s=await n.objectStore(Pl).get(q0(r));return await n.done,s}catch(e){if(e instanceof yi)Zi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e?.message});Zi.warn(n.message)}}}async function tv(r,e){try{const s=(await j0()).transaction(Pl,"readwrite");await s.objectStore(Pl).put(e,q0(r)),await s.done}catch(n){if(n instanceof yi)Zi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n?.message});Zi.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,bw=30;class Sw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>bw){const o=Iw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=nv(),{heartbeatsToSend:n,unsentEntries:s}=ww(this._heartbeatsCache.heartbeats),o=Kc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Zi.warn(e),""}}}function nv(){return new Date().toISOString().substring(0,10)}function ww(r,e=Aw){const n=[];let s=r.slice();for(const o of r){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),iv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fS()?dS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ew(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return tv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iv(r){return Kc(JSON.stringify({version:2,heartbeats:r})).length}function Iw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(r){zs(new Br("platform-logger",e=>new jS(e),"PRIVATE")),zs(new Br("heartbeat",e=>new Sw(e),"PRIVATE")),oi(np,J_,r),oi(np,J_,"esm2020"),oi("fire-js","")}Cw("");function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xw=B0,H0=new Gl("auth","Firebase",B0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Np("@firebase/auth");function Dw(r,...e){Xc.logLevel<=Me.WARN&&Xc.warn(`Auth (${Gs}): ${r}`,...e)}function Pc(r,...e){Xc.logLevel<=Me.ERROR&&Xc.error(`Auth (${Gs}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw Pp(r,...e)}function li(r,...e){return Pp(r,...e)}function F0(r,e,n){const s={...xw(),[e]:n};return new Gl("auth","Firebase",s).create(e,{appName:r.name})}function Xi(r){return F0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return H0.create(r,...e)}function ve(r,e,...n){if(!r)throw Pp(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Pc(e),new Error(e)}function Ji(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){return typeof self<"u"&&self.location?.href||""}function Ow(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ow()||lS()||"connection"in navigator)?navigator.onLine:!0}function Mw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ji(n>e,"Short delay should be less than long delay!"),this.isMobile=sS()||uS()}get(){return Nw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){Ji(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vw=new Wl(3e4,6e4);function Xr(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function nr(r,e,n,s,o={}){return Q0(r,o,async()=>{let c={},f={};s&&(e==="GET"?f=s:c={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...c};return oS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Fs(r.emulatorConfig.host)&&(y.credentials="include"),G0.fetch()(await W0(r,r.config.apiHost,n,p),y)})}async function Q0(r,e,n){r._canInitEmulator=!1;const s={...kw,...e};try{const o=new Lw(r),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Cc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const p=c.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Cc(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw F0(r,T,y);qn(r,T)}}catch(o){if(o instanceof yi)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function Kl(r,e,n,s,o={}){const c=await nr(r,e,n,s,o);return"mfaPendingCredential"in c&&qn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function W0(r,e,n,s){const o=`${e}${n}?${s}`,c=r,f=c.config.emulator?Vp(r.config,o):`${r.config.apiScheme}://${o}`;return Pw.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function Uw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(li(this.auth,"network-request-failed")),Vw.get())})}}function Cc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=li(r,e,s);return o.customData._tokenResponse=n,o}function sv(r){return r!==void 0&&r.enterprise!==void 0}class zw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Uw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jw(r,e){return nr(r,"GET","/v2/recaptchaConfig",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(r,e){return nr(r,"POST","/v1/accounts:delete",e)}async function $c(r,e){return nr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bw(r,e=!1){const n=Ht(r),s=await n.getIdToken(e),o=Up(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c?.sign_in_provider;return{claims:o,token:s,authTime:Dl(Qd(o.auth_time)),issuedAtTime:Dl(Qd(o.iat)),expirationTime:Dl(Qd(o.exp)),signInProvider:f||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function Up(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=O0(n);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function av(r){const e=Up(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yi&&Hw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Hw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){const e=r.auth,n=await r.getIdToken(),s=await Ja(r,$c(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?K0(o.providerUserInfo):[],f=Qw(r.providerData,c),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function Gw(r){const e=Ht(r);await Zc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qw(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function K0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(r,e){const n=await Q0(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,f=await W0(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Fs(r.emulatorConfig.host)&&(g.credentials="include"),G0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kw(r,e){return nr(r,"POST","/v2/accounts:revokeToken",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=av(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:c}=await Ww(e,n);this.updateTokensAndExpiration(s,o,Number(c))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:c}=n,f=new Ka;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(ve(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ln{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Fw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ap(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ja(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bw(this,e)}reload(){return Gw(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(Xi(this.auth));const e=await this.getIdToken();return await Ja(this,qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:C,isAnonymous:H,providerData:j,stsTokenManager:W}=n;ve(w&&W,e,"internal-error");const G=Ka.fromJSON(this.name,W);ve(typeof w=="string",e,"internal-error"),Nr(s,e.name),Nr(o,e.name),ve(typeof C=="boolean",e,"internal-error"),ve(typeof H=="boolean",e,"internal-error"),Nr(c,e.name),Nr(f,e.name),Nr(p,e.name),Nr(g,e.name),Nr(y,e.name),Nr(T,e.name);const le=new Ln({uid:w,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:H,photoURL:f,phoneNumber:c,tenantId:p,stsTokenManager:G,createdAt:y,lastLoginAt:T});return j&&Array.isArray(j)&&(le.providerData=j.map(se=>({...se}))),g&&(le._redirectEventId=g),le}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ka;o.updateFromServerResponse(n);const c=new Ln({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Zc(c),c}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?K0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(s);const g=new Ln({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ap(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;function Ki(r){Ji(r instanceof Function,"Expected a class definition");let e=ov.get(r);return e?(Ji(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,ov.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Y0.type="NONE";const lv=Y0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ya{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $c(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ya(Ki(lv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ki(lv);const f=Vc(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let w;if(typeof T=="string"){const C=await $c(e,{idToken:T}).catch(()=>{});if(!C)break;w=await Ln._fromGetAccountInfoResponse(e,C,T)}else w=Ln._fromJSON(e,T);y!==c&&(p=w),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ya(c,e,s):(c=g[0],p&&await c._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new Ya(c,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(J0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tT(e))return"Blackberry";if(nT(e))return"Webos";if($0(e))return"Safari";if((e.includes("chrome/")||Z0(e))&&!e.includes("edge/"))return"Chrome";if(eT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function X0(r=$t()){return/firefox\//i.test(r)}function $0(r=$t()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Z0(r=$t()){return/crios\//i.test(r)}function J0(r=$t()){return/iemobile/i.test(r)}function eT(r=$t()){return/android/i.test(r)}function tT(r=$t()){return/blackberry/i.test(r)}function nT(r=$t()){return/webos/i.test(r)}function Lp(r=$t()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Yw(r=$t()){return Lp(r)&&!!window.navigator?.standalone}function Xw(){return cS()&&document.documentMode===10}function iT(r=$t()){return Lp(r)||eT(r)||nT(r)||tT(r)||/windows phone/i.test(r)||J0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r,e=[]){let n;switch(r){case"Browser":n=uv($t());break;case"Worker":n=`${uv($t())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=c=>new Promise((f,p)=>{try{const g=e(c);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(r,e={}){return nr(r,"GET","/v2/passwordPolicy",Xr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=6;class e1{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Jw,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new $w(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=H0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $c(this,{idToken:e}),s=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(Xi(this));const n=e?Ht(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(Xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(Xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Zw(this),n=new e1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Kw(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(p,this,"internal-error"),p.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Dw(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Qs(r){return Ht(r)}class cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=_S(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n1(r){yh=r}function sT(r){return yh.loadJS(r)}function i1(){return yh.recaptchaEnterpriseScript}function r1(){return yh.gapiScript}function s1(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class a1{constructor(){this.enterprise=new o1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class o1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const l1="recaptcha-enterprise",aT="NO_RECAPTCHA";class u1{constructor(e){this.type=l1,this.auth=Qs(e)}async verify(e="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,p)=>{jw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new zw(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,f,p){const g=window.grecaptcha;sv(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(aT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new a1().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(p=>{if(!n&&sv(window.grecaptcha))o(p,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=i1();g.length!==0&&(g+=p),sT(g).then(()=>{o(p,c,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function hv(r,e,n,s=!1,o=!1){const c=new u1(r);let f;if(o)f=aT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function op(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await hv(r,e,n,n==="getOobCode");return s(r,c)}else return s(r,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await hv(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,e){const n=gh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ls(c,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function h1(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Ki);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function f1(r,e,n){const s=Qs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,c=oT(e),{host:f,port:p}=d1(e),g=p===null?"":`:${p}`,y={url:`${c}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ls(y,s.config.emulator)&&Ls(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Fs(f)?(Dp(`${c}//${f}${g}`),Op("Auth",!0)):p1()}function oT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function d1(r){const e=oT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const c=o[1];return{host:c,port:fv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:fv(f)}}}function fv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function p1(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function m1(r,e){return nr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r,e){return Kl(r,"POST","/v1/accounts:signInWithPassword",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r,e){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,e))}async function _1(r,e){return Kl(r,"POST","/v1/accounts:signInWithEmailLink",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl extends zp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Vl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Vl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,n,"signInWithPassword",g1);case"emailLink":return y1(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,s,"signUpPassword",m1);case"emailLink":return _1(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e){return Kl(r,"POST","/v1/accounts:signInWithIdp",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="http://localhost";class js extends zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...c}=n;if(!s||!o)return null;const f=new js(s,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Xa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Xa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xa(e,n)}buildRequest(){const e={requestUri:v1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ql(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E1(r){const e=bl(Sl(r)).link,n=e?bl(Sl(e)).deep_link_id:null,s=bl(Sl(r)).deep_link_id;return(s?bl(Sl(s)).link:null)||s||n||e||r}class jp{constructor(e){const n=bl(Sl(e)),s=n.apiKey??null,o=n.oobCode??null,c=T1(n.mode??null);ve(s&&o&&c,"argument-error"),this.apiKey=s,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=E1(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Vl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return ve(s,"argument-error"),Vl._fromEmailAndCode(e,s.code,s.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends lT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends Yl{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return kr.credential(n,s)}catch{return null}}}kr.GOOGLE_SIGN_IN_METHOD="google.com";kr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Yl{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Yl{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(r,e){return Kl(r,"POST","/v1/accounts:signUp",Xr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const c=await Ln._fromIdTokenResponse(e,s,o),f=dv(s);return new qs({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=dv(s);return new qs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function dv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends yi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jc(e,n,s,o)}}function uT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,e,s):c})}async function b1(r,e,n=!1){const s=await Ja(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return qs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(r,e,n=!1){const{auth:s}=r;if(gn(s.app))return Promise.reject(Xi(s));const o="reauthenticate";try{const c=await Ja(r,uT(s,o,e,r),n);ve(c.idToken,s,"internal-error");const f=Up(c.idToken);ve(f,s,"internal-error");const{sub:p}=f;return ve(r.uid===p,s,"user-mismatch"),qs._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cT(r,e,n=!1){if(gn(r.app))return Promise.reject(Xi(r));const s="signIn",o=await uT(r,s,e),c=await qs._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(c.user),c}async function w1(r,e){return cT(Qs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(r){const e=Qs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R1(r,e,n){if(gn(r.app))return Promise.reject(Xi(r));const s=Qs(r),f=await op(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",A1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&hT(r),g}),p=await qs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function I1(r,e,n){return gn(r.app)?Promise.reject(Xi(r)):w1(Ht(r),ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hT(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r,e){return nr(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Ht(r),c={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await Ja(s,C1(s.auth,c));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const p=s.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=s.displayName,p.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function D1(r,e,n,s){return Ht(r).onIdTokenChanged(e,n,s)}function O1(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function N1(r,e,n,s){return Ht(r).onAuthStateChanged(e,n,s)}function M1(r){return Ht(r).signOut()}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1e3,P1=10;class dT extends fT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);Xw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,P1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},k1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dT.type="LOCAL";const V1=dT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends fT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pT.type="SESSION";const mT=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new _h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,c)),g=await U1(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_h.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((p,g)=>{const y=qp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(C.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(){return window}function z1(r){ui().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(){return typeof ui().WorkerGlobalScope<"u"&&typeof ui().importScripts=="function"}async function j1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q1(){return navigator?.serviceWorker?.controller||null}function B1(){return gT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",H1=1,th="firebaseLocalStorage",_T="fbase_key";class Xl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function F1(){const r=indexedDB.deleteDatabase(yT);return new Xl(r).toPromise()}function lp(){const r=indexedDB.open(yT,H1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:_T})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?e(s):(s.close(),await F1(),e(await lp()))})})}async function pv(r,e,n){const s=vh(r,!0).put({[_T]:e,value:n});return new Xl(s).toPromise()}async function G1(r,e){const n=vh(r,!1).get(e),s=await new Xl(n).toPromise();return s===void 0?null:s.value}function mv(r,e){const n=vh(r,!0).delete(e);return new Xl(n).toPromise()}const Q1=800,W1=3;class vT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>W1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_h._getInstance(B1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j1(),!this.activeServiceWorker)return;this.sender=new L1(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await pv(e,eh,"1"),await mv(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>pv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>G1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vh(o,!1).getAll();return new Xl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vT.type="LOCAL";const K1=vT;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(r,e){return e?Ki(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X1(r){return cT(r.auth,new Bp(r),r.bypassAuthState)}function $1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),S1(n,new Bp(r),r.bypassAuthState)}async function Z1(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),b1(n,new Bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n,s,o,c=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:c,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X1;case"linkViaPopup":case"linkViaRedirect":return Z1;case"reauthViaPopup":case"reauthViaRedirect":return $1;default:qn(this.auth,"internal-error")}}resolve(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ji(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Wl(2e3,1e4);class Wa extends TT{constructor(e,n,s,o,c){super(e,n,o,c),this.provider=s,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Ji(this.filter.length===1,"Popup operations only handle one event");const e=qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J1.get())};e()}}Wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR="pendingRedirect",Uc=new Map;class tR extends TT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const s=await nR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nR(r,e){const n=sR(e),s=rR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function iR(r,e){Uc.set(r._key(),e)}function rR(r){return Ki(r._redirectPersistence)}function sR(r){return Vc(eR,r.config.apiKey,r.name)}async function aR(r,e,n=!1){if(gn(r.app))return Promise.reject(Xi(r));const s=Qs(r),o=Y1(s,e),f=await new tR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=600*1e3;class lR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!ET(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(li(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oR&&this.cachedEventUids.clear(),this.cachedEventUids.has(gv(e))}saveEventToCache(e){this.cachedEventUids.add(gv(e)),this.lastProcessedEventTime=Date.now()}}function gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function ET({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function uR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ET(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(r,e={}){return nr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fR=/^https?/;async function dR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await cR(r);for(const n of e)try{if(pR(n))return}catch{}qn(r,"unauthorized-domain")}function pR(r){const e=sp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!fR.test(n))return!1;if(hR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=new Wl(3e4,6e4);function yv(){const r=ui().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function gR(r){return new Promise((e,n)=>{function s(){yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yv(),n(li(r,"network-request-failed"))},timeout:mR.get()})}if(ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ui().gapi?.load)s();else{const o=s1("iframefcb");return ui()[o]=()=>{gapi.load?s():n(li(r,"network-request-failed"))},sT(`${r1()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Lc=null,e})}let Lc=null;function yR(r){return Lc=Lc||gR(r),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=new Wl(5e3,15e3),vR="__/auth/iframe",TR="emulator/auth/iframe",ER={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bR(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Vp(e,TR):`https://${r.config.authDomain}/${vR}`,s={apiKey:e.apiKey,appName:r.name,v:Gs},o=AR.get(r.config.apiHost);o&&(s.eid=o);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${Ql(s).slice(1)}`}async function SR(r){const e=await yR(r),n=ui().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:bR(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ER,dontclear:!0},s=>new Promise(async(o,c)=>{await s.restyle({setHideOnLeave:!1});const f=li(r,"network-request-failed"),p=ui().setTimeout(()=>{c(f)},_R.get());function g(){ui().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RR=500,IR=600,CR="_blank",xR="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DR(r,e,n,s=RR,o=IR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...wR,width:s.toString(),height:o.toString(),top:c,left:f},y=$t().toLowerCase();n&&(p=Z0(y)?CR:n),X0(y)&&(e=e||xR,g.scrollbars="yes");const T=Object.entries(g).reduce((C,[H,j])=>`${C}${H}=${j},`,"");if(Yw(y)&&p!=="_self")return OR(e||"",p),new _v(null);const w=window.open(e||"",p,T);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new _v(w)}function OR(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__/auth/handler",MR="emulator/auth/handler",kR=encodeURIComponent("fac");async function vv(r,e,n,s,o,c){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Gs,eventId:o};if(e instanceof lT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",yS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof Yl){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),y=g?`#${kR}=${encodeURIComponent(g)}`:"";return`${PR(r)}?${Ql(p).slice(1)}${y}`}function PR({config:r}){return r.emulator?Vp(r,MR):`https://${r.authDomain}/${NR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class VR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=aR,this._overrideRedirectResult=iR}async _openPopup(e,n,s,o){Ji(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await vv(e,n,s,sp(),o);return DR(e,c,qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const c=await vv(e,n,s,sp(),o);return z1(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ji(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await SR(e),s=new lR(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wd,{type:Wd},o=>{const c=o?.[0]?.[Wd];c!==void 0&&n(!!c),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iT()||$0()||Lp()}}const UR=VR;var Tv="@firebase/auth",Ev="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jR(r){zs(new Br("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(r)},y=new t1(s,o,c,g);return h1(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),zs(new Br("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(s=>new LR(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(Tv,Ev,zR(r)),oi(Tv,Ev,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=300,BR=P0("authIdTokenMaxAge")||qR;let Av=null;const HR=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BR)return;const o=n?.token;Av!==o&&(Av=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function FR(r=kp()){const e=gh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=c1(r,{popupRedirectResolver:UR,persistence:[K1,V1,mT]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=HR(c.toString());O1(n,f,()=>f(n.currentUser)),D1(n,p=>f(p))}}const o=N0("auth");return o&&f1(n,`http://${o}`),n}function GR(){return document.getElementsByTagName("head")?.[0]??document}n1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const c=li("internal-error");c.customData=o,n(c)},s.type="text/javascript",s.charset="UTF-8",GR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jR("Browser");var bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jr,AT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,k,V){for(var b=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)b[Ce-2]=arguments[Ce];return S.prototype[k].apply(M,b)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var k=0;16>k;++k)M[k]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(k=0;16>k;++k)M[k]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],k=N.g[2];var V=N.g[3],b=S+(V^R&(k^V))+M[0]+3614090360&4294967295;S=R+(b<<7&4294967295|b>>>25),b=V+(k^S&(R^k))+M[1]+3905402710&4294967295,V=S+(b<<12&4294967295|b>>>20),b=k+(R^V&(S^R))+M[2]+606105819&4294967295,k=V+(b<<17&4294967295|b>>>15),b=R+(S^k&(V^S))+M[3]+3250441966&4294967295,R=k+(b<<22&4294967295|b>>>10),b=S+(V^R&(k^V))+M[4]+4118548399&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(k^S&(R^k))+M[5]+1200080426&4294967295,V=S+(b<<12&4294967295|b>>>20),b=k+(R^V&(S^R))+M[6]+2821735955&4294967295,k=V+(b<<17&4294967295|b>>>15),b=R+(S^k&(V^S))+M[7]+4249261313&4294967295,R=k+(b<<22&4294967295|b>>>10),b=S+(V^R&(k^V))+M[8]+1770035416&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(k^S&(R^k))+M[9]+2336552879&4294967295,V=S+(b<<12&4294967295|b>>>20),b=k+(R^V&(S^R))+M[10]+4294925233&4294967295,k=V+(b<<17&4294967295|b>>>15),b=R+(S^k&(V^S))+M[11]+2304563134&4294967295,R=k+(b<<22&4294967295|b>>>10),b=S+(V^R&(k^V))+M[12]+1804603682&4294967295,S=R+(b<<7&4294967295|b>>>25),b=V+(k^S&(R^k))+M[13]+4254626195&4294967295,V=S+(b<<12&4294967295|b>>>20),b=k+(R^V&(S^R))+M[14]+2792965006&4294967295,k=V+(b<<17&4294967295|b>>>15),b=R+(S^k&(V^S))+M[15]+1236535329&4294967295,R=k+(b<<22&4294967295|b>>>10),b=S+(k^V&(R^k))+M[1]+4129170786&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^k&(S^R))+M[6]+3225465664&4294967295,V=S+(b<<9&4294967295|b>>>23),b=k+(S^R&(V^S))+M[11]+643717713&4294967295,k=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(k^V))+M[0]+3921069994&4294967295,R=k+(b<<20&4294967295|b>>>12),b=S+(k^V&(R^k))+M[5]+3593408605&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^k&(S^R))+M[10]+38016083&4294967295,V=S+(b<<9&4294967295|b>>>23),b=k+(S^R&(V^S))+M[15]+3634488961&4294967295,k=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(k^V))+M[4]+3889429448&4294967295,R=k+(b<<20&4294967295|b>>>12),b=S+(k^V&(R^k))+M[9]+568446438&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^k&(S^R))+M[14]+3275163606&4294967295,V=S+(b<<9&4294967295|b>>>23),b=k+(S^R&(V^S))+M[3]+4107603335&4294967295,k=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(k^V))+M[8]+1163531501&4294967295,R=k+(b<<20&4294967295|b>>>12),b=S+(k^V&(R^k))+M[13]+2850285829&4294967295,S=R+(b<<5&4294967295|b>>>27),b=V+(R^k&(S^R))+M[2]+4243563512&4294967295,V=S+(b<<9&4294967295|b>>>23),b=k+(S^R&(V^S))+M[7]+1735328473&4294967295,k=V+(b<<14&4294967295|b>>>18),b=R+(V^S&(k^V))+M[12]+2368359562&4294967295,R=k+(b<<20&4294967295|b>>>12),b=S+(R^k^V)+M[5]+4294588738&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^k)+M[8]+2272392833&4294967295,V=S+(b<<11&4294967295|b>>>21),b=k+(V^S^R)+M[11]+1839030562&4294967295,k=V+(b<<16&4294967295|b>>>16),b=R+(k^V^S)+M[14]+4259657740&4294967295,R=k+(b<<23&4294967295|b>>>9),b=S+(R^k^V)+M[1]+2763975236&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^k)+M[4]+1272893353&4294967295,V=S+(b<<11&4294967295|b>>>21),b=k+(V^S^R)+M[7]+4139469664&4294967295,k=V+(b<<16&4294967295|b>>>16),b=R+(k^V^S)+M[10]+3200236656&4294967295,R=k+(b<<23&4294967295|b>>>9),b=S+(R^k^V)+M[13]+681279174&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^k)+M[0]+3936430074&4294967295,V=S+(b<<11&4294967295|b>>>21),b=k+(V^S^R)+M[3]+3572445317&4294967295,k=V+(b<<16&4294967295|b>>>16),b=R+(k^V^S)+M[6]+76029189&4294967295,R=k+(b<<23&4294967295|b>>>9),b=S+(R^k^V)+M[9]+3654602809&4294967295,S=R+(b<<4&4294967295|b>>>28),b=V+(S^R^k)+M[12]+3873151461&4294967295,V=S+(b<<11&4294967295|b>>>21),b=k+(V^S^R)+M[15]+530742520&4294967295,k=V+(b<<16&4294967295|b>>>16),b=R+(k^V^S)+M[2]+3299628645&4294967295,R=k+(b<<23&4294967295|b>>>9),b=S+(k^(R|~V))+M[0]+4096336452&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~k))+M[7]+1126891415&4294967295,V=S+(b<<10&4294967295|b>>>22),b=k+(S^(V|~R))+M[14]+2878612391&4294967295,k=V+(b<<15&4294967295|b>>>17),b=R+(V^(k|~S))+M[5]+4237533241&4294967295,R=k+(b<<21&4294967295|b>>>11),b=S+(k^(R|~V))+M[12]+1700485571&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~k))+M[3]+2399980690&4294967295,V=S+(b<<10&4294967295|b>>>22),b=k+(S^(V|~R))+M[10]+4293915773&4294967295,k=V+(b<<15&4294967295|b>>>17),b=R+(V^(k|~S))+M[1]+2240044497&4294967295,R=k+(b<<21&4294967295|b>>>11),b=S+(k^(R|~V))+M[8]+1873313359&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~k))+M[15]+4264355552&4294967295,V=S+(b<<10&4294967295|b>>>22),b=k+(S^(V|~R))+M[6]+2734768916&4294967295,k=V+(b<<15&4294967295|b>>>17),b=R+(V^(k|~S))+M[13]+1309151649&4294967295,R=k+(b<<21&4294967295|b>>>11),b=S+(k^(R|~V))+M[4]+4149444226&4294967295,S=R+(b<<6&4294967295|b>>>26),b=V+(R^(S|~k))+M[11]+3174756917&4294967295,V=S+(b<<10&4294967295|b>>>22),b=k+(S^(V|~R))+M[2]+718787259&4294967295,k=V+(b<<15&4294967295|b>>>17),b=R+(V^(k|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(k+(b<<21&4294967295|b>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+V&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,M=this.B,k=this.h,V=0;V<S;){if(k==0)for(;V<=R;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<S;)if(M[k++]=N.charCodeAt(V++),k==this.blockSize){o(this,M),k=0;break}}else for(;V<S;)if(M[k++]=N[V++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)N[R++]=this.g[S]>>>M&255;return N};function c(N,S){var R=p;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function f(N,S){this.h=S;for(var R=[],M=!0,k=N.length-1;0<=k;k--){var V=N[k]|0;M&&V==S||(R[k]=V,M=!1)}this.g=R}var p={};function g(N){return-128<=N&&128>N?c(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return G(y(-N));for(var S=[],R=1,M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new f(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return G(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),M=w,k=0;k<N.length;k+=8){var V=Math.min(8,N.length-k),b=parseInt(N.substring(k,k+V),S);8>V?(V=y(Math.pow(S,V)),M=M.j(V).add(y(b))):(M=M.j(R),M=M.add(y(b)))}return M}var w=g(0),C=g(1),H=g(16777216);r=f.prototype,r.m=function(){if(W(this))return-G(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j(this))return"0";if(W(this))return"-"+G(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,M="";;){var k=ne(R,S).g;R=le(R,k.j(S));var V=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=k,j(R))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function j(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function W(N){return N.h==-1}r.l=function(N){return N=le(this,N),W(N)?-1:j(N)?0:1};function G(N){for(var S=N.g.length,R=[],M=0;M<S;M++)R[M]=~N.g[M];return new f(R,~N.h).add(C)}r.abs=function(){return W(this)?G(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0,k=0;k<=S;k++){var V=M+(this.i(k)&65535)+(N.i(k)&65535),b=(V>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=b>>>16,V&=65535,b&=65535,R[k]=b<<16|V}return new f(R,R[R.length-1]&-2147483648?-1:0)};function le(N,S){return N.add(G(S))}r.j=function(N){if(j(this)||j(N))return w;if(W(this))return W(N)?G(this).j(G(N)):G(G(this).j(N));if(W(N))return G(this.j(G(N)));if(0>this.l(H)&&0>N.l(H))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var k=0;k<N.g.length;k++){var V=this.i(M)>>>16,b=this.i(M)&65535,Ce=N.i(k)>>>16,we=N.i(k)&65535;R[2*M+2*k]+=b*we,se(R,2*M+2*k),R[2*M+2*k+1]+=V*we,se(R,2*M+2*k+1),R[2*M+2*k+1]+=b*Ce,se(R,2*M+2*k+1),R[2*M+2*k+2]+=V*Ce,se(R,2*M+2*k+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new f(R,0)};function se(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function oe(N,S){this.g=N,this.h=S}function ne(N,S){if(j(S))throw Error("division by zero");if(j(N))return new oe(w,w);if(W(N))return S=ne(G(N),S),new oe(G(S.g),G(S.h));if(W(S))return S=ne(N,G(S)),new oe(G(S.g),S.h);if(30<N.g.length){if(W(N)||W(S))throw Error("slowDivide_ only works with positive integers.");for(var R=C,M=S;0>=M.l(N);)R=te(R),M=te(M);var k=ye(R,1),V=ye(M,1);for(M=ye(M,2),R=ye(R,2);!j(M);){var b=V.add(M);0>=b.l(N)&&(k=k.add(R),V=b),M=ye(M,1),R=ye(R,1)}return S=le(N,k.j(S)),new oe(k,S)}for(k=w;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=y(R),b=V.j(S);W(b)||0<b.l(N);)R-=M,V=y(R),b=V.j(S);j(V)&&(V=C),k=k.add(V),N=le(N,b)}return new oe(k,N)}r.A=function(N){return ne(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new f(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new f(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new f(R,this.h^N.h)};function te(N){for(var S=N.g.length+1,R=[],M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(R,N.h)}function ye(N,S){var R=S>>5;S%=32;for(var M=N.g.length-R,k=[],V=0;V<M;V++)k[V]=0<S?N.i(V+R)>>>S|N.i(V+R+1)<<32-S:N.i(V+R);return new f(k,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,jr=f}).apply(typeof bv<"u"?bv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bT,wl,ST,zc,up,wT,RT,IT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break e;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function w(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,C.apply(null,arguments)}function H(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function j(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,F){for(var ie=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ie[Ve-2]=arguments[Ve];return m.prototype[U].apply(A,ie)}}function W(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function G(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const U=u.length||0,F=A.length||0;u.length=U+F;for(let ie=0;ie<F;ie++)u[U+ie]=A[ie]}else u.push(A)}}class le{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function se(u){return/^[\s\xa0]*$/.test(u)}function oe(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var te=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function ye(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let F=0;F<R.length;F++)_=R[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function k(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function V(u){p.setTimeout(()=>{throw u},0)}function b(){var u=je;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,_){const A=we.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var we=new le(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,je=new Ce,D=()=>{const u=p.Promise.resolve(void 0);re=()=>{u.then(J)}};var J=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(_){V(_)}var m=we;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}fe=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function xe(u,m){if(ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(te){e:{try{ne(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ae[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xe.aa.h.call(this)}}j(xe,ee);var Ae={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Hn(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++et,this.da=this.fa=!1}function ir(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function vi(u){this.src=u,this.g={},this.h=0}vi.prototype.add=function(u,m,_,A,U){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var ie=Zr(u,m,A,U);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new Hn(m,this.src,F,!!A,U),m.fa=_,u.push(m)),m};function $r(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=U)&&Array.prototype.splice.call(A,U,1),F&&(ir(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Zr(u,m,_,A){for(var U=0;U<u.length;++U){var F=u[U];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return U}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),fo={};function ru(u,m,_,A,U){if(Array.isArray(m)){for(var F=0;F<m.length;F++)ru(u,m[F],_,A,U);return null}return _=su(_),u&&u[xt]?u.K(m,_,y(A)?!!A.capture:!1,U):yn(u,m,_,!1,A,U)}function yn(u,m,_,A,U,F){if(!m)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Ve=Zs(u);if(Ve||(u[Jr]=Ve=new vi(u)),_=Ve.add(m,_,A,ie,F),_.proxy)return _;if(A=kh(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)me||(U=ie),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(es(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function kh(){function u(_){return m.call(u.src,u.listener,_)}const m=Ph;return u}function po(u,m,_,A,U){if(Array.isArray(m))for(var F=0;F<m.length;F++)po(u,m[F],_,A,U);else A=y(A)?!!A.capture:!!A,_=su(_),u&&u[xt]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=Zr(F,_,A,U),-1<_&&(ir(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Zr(m,_,A,U)),(_=-1<u?m[u]:null)&&$s(_))}function $s(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])$r(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(es(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Zs(m))?($r(_,u),_.h==0&&(_.src=null,m[Jr]=null)):ir(u)}}}function es(u){return u in fo?fo[u]:fo[u]="on"+u}function Ph(u,m){if(u.da)u=!0;else{m=new xe(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&$s(u),u=_.call(A,m)}return u}function Zs(u){return u=u[Jr],u instanceof vi?u:null}var mo="__closure_events_fn_"+(1e9*Math.random()>>>0);function su(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(m){return u.handleEvent(m)}),u[mo])}function lt(){ae.call(this),this.i=new vi(this),this.M=this,this.F=null}j(lt,ae),lt.prototype[xt]=!0,lt.prototype.removeEventListener=function(u,m,_,A){po(this,u,m,_,A)};function Qe(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new ee(m,u);else if(m instanceof ee)m.target=m.target||u;else{var U=m;m=new ee(A,u),M(m,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var ie=m.g=_[F];U=on(ie,A,!0,m)&&U}if(ie=m.g=u,U=on(ie,A,!0,m)&&U,U=on(ie,A,!1,m)&&U,_)for(F=0;F<_.length;F++)ie=m.g=_[F],U=on(ie,A,!1,m)&&U}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)ir(_[A]);delete u.g[m],u.h--}}this.F=null},lt.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},lt.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function on(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,F=0;F<m.length;++F){var ie=m[F];if(ie&&!ie.da&&ie.capture==_){var Ve=ie.listener,St=ie.ha||ie.src;ie.fa&&$r(u.i,ie),U=Ve.call(St,A)!==!1&&U}}return U&&!A.defaultPrevented}function Gt(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function au(u){u.g=Gt(()=>{u.g=null,u.i&&(u.i=!1,au(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Vh extends ae{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:au(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(u){ae.call(this),this.h=u,this.g={}}j(ts,ae);var ns=[];function is(u){ye(u.g,function(m,_){this.g.hasOwnProperty(_)&&$s(m)},u),u.g={}}ts.prototype.N=function(){ts.aa.N.call(this),is(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nn=p.JSON.stringify,Js=p.JSON.parse,rs=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function go(){}go.prototype.h=null;function yo(u){return u.h||(u.h=u.i())}function _o(){}var Ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ei(){ee.call(this,"d")}j(Ei,ee);function vo(){ee.call(this,"c")}j(vo,ee);var Fn={},To=null;function rr(){return To=To||new lt}Fn.La="serverreachability";function ea(u){ee.call(this,Fn.La,u)}j(ea,ee);function sr(u){const m=rr();Qe(m,new ea(m))}Fn.STAT_EVENT="statevent";function ou(u,m){ee.call(this,Fn.STAT_EVENT,u),this.stat=m}j(ou,ee);function rt(u){const m=rr();Qe(m,new ou(m,u))}Fn.Ma="timingevent";function bt(u,m){ee.call(this,Fn.Ma,u),this.size=m}j(bt,ee);function mt(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function Eo(u,m,_,A,U,F){u.info(function(){if(u.g)if(F)for(var ie="",Ve=F.split("&"),St=0;St<Ve.length;St++){var Ue=Ve[St].split("=");if(1<Ue.length){var Ot=Ue[0];Ue=Ue[1];var wt=Ot.split("_");ie=2<=wt.length&&wt[1]=="type"?ie+(Ot+"="+Ue+"&"):ie+(Ot+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+ie})}function Uh(u,m,_,A,U,F,ie){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+F+" "+ie})}function ar(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+ss(u,_)+(A?" "+A:"")})}function lu(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function ss(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Nn(_)}catch{return m}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Qn(){}j(Qn,go),Qn.prototype.g=function(){return new XMLHttpRequest},Qn.prototype.i=function(){return{}},Gn=new Qn;function Zt(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Ao={},ta={};function Mn(u,m,_){u.L=1,u.v=cs(ln(m)),u.m=_,u.P=!0,bi(u,null)}function bi(u,m){u.F=Date.now(),as(u),u.A=ln(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Co(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ht,u.g=Su(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Vh(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(ns[0]=U.toString()),U=ns);for(var F=0;F<U.length;F++){var ie=ru(_,U[F],A||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),sr(),Eo(u.i,u.u,u.A,u.l,u.R,u.m)}Zt.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Zt.prototype.Y=function(u){try{if(u==this.g)e:{const wt=An(this.g);var m=this.g.Ba();const Oi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||gu(this.g)))){this.J||wt!=4||m==7||(m==8||0>=Oi?sr(3):sr(2)),lr(this);var _=this.g.Z();this.X=_;t:if(uu(this)){var A=gu(this.g);u="";var U=A.length,F=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vt(this),Wn(this);var ie="";break t}this.h.i=new p.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Uh(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,St=this.g;if((Ve=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ve)){var Ue=Ve;break t}}Ue=null}if(_=Ue)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,os(this,_);else{this.o=!1,this.s=3,rt(12),Vt(this),Wn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ie.length;)if(Ut=cu(this,ie),Ut==ta){wt==4&&(this.s=4,rt(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Ao){this.s=4,rt(15),ar(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Ut,null),os(this,Ut);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||ie.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,ie,"[Invalid Chunked Response]"),Vt(this),Wn(this);else if(0<ie.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),_s(Ot),Ot.M=!0,rt(11))}}else ar(this.i,this.l,ie,null),os(this,ie);wt==4&&Vt(this),this.o&&!this.J&&(wt==4?Eu(this.j,this):(this.o=!1,as(this)))}else Bh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Vt(this),Wn(this)}}}catch{}finally{}};function uu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function cu(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?ta:(_=Number(m.substring(_,A)),isNaN(_)?Ao:(A+=1,A+_>m.length?ta:(m=m.slice(A,A+_),u.C=A+_,m)))}Zt.prototype.cancel=function(){this.J=!0,Vt(this)};function as(u){u.S=Date.now()+u.I,hu(u,u.I)}function hu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=mt(C(u.ba,u),m)}function lr(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Zt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(lu(this.i,this.A),this.L!=2&&(sr(),rt(17)),Vt(this),this.s=2,Wn(this)):hu(this,this.S-u)};function Wn(u){u.j.G==0||u.J||Eu(u.j,u)}function Vt(u){lr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,is(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function os(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||bo(_.h,u))){if(!u.K&&bo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)da(_),ha(_);else break e;Mo(_),rt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(C(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Di(_,11)}else if((u.K||_.g==u)&&da(_),!se(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ue=U[m];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const Ot=Ue[3];Ot!=null&&(_.la=Ot,_.j.info("VER="+_.la));const wt=Ue[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const Oi=Ue[5];Oi!=null&&typeof Oi=="number"&&0<Oi&&(A=1.5*Oi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ut=u.g;if(Ut){const ei=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var F=A.h;F.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ra(F,F.h),F.h=null))}if(A.D){const Po=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Ye(A.I,A.D,Po))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ie=u;if(A.qa=bu(A,A.J?A.ia:null,A.W),ie.K){Jt(A.h,ie);var Ve=ie,St=A.L;St&&(Ve.I=St),Ve.B&&(lr(Ve),as(Ve)),A.g=ie}else vu(A);0<_.i.length&&fa(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Di(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Di(_,7):Oo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}sr(4)}catch{}}var fu=class{constructor(u,m){this.g=u,this.map=m}};function Si(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function na(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ia(u){return u.h?1:u.g?u.g.size:0}function bo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ra(u,m){u.g?u.g.add(m):u.h=m}function Jt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Si.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function So(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return W(u.i)}function Lh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function sa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function wo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=sa(u),A=Lh(u),U=A.length,F=0;F<U;F++)m.call(void 0,A[F],_&&_[F],u)}var ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var F=u[_].substring(0,A);U=u[_].substring(A+1)}else F=u[_];m(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function gt(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof gt){this.h=u.h,us(this,u.j),this.o=u.o,this.g=u.g,ur(this,u.s),this.l=u.l;var m=u.i,_=new Ri;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),wi(this,_),this.m=u.m}else u&&(m=String(u).match(ls))?(this.h=!1,us(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),ur(this,m[4]),this.l=vn(m[5]||"",!0),wi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}gt.prototype.toString=function(){var u=[],m=this.j;m&&u.push(hs(m,Ro,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(hs(m,Ro,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(hs(_,_.charAt(0)=="/"?jh:Io,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",hs(_,aa)),u.join("")};function ln(u){return new gt(u)}function us(u,m,_){u.j=_?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ur(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function wi(u,m,_){m instanceof Ri?(u.i=m,pu(u.i,u.h)):(_||(m=hs(m,qh)),u.i=new Ri(m,u.h))}function Ye(u,m,_){u.i.set(m,_)}function cs(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hs(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,du),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function du(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ro=/[#\/\?@]/g,Io=/[#\?:]/g,jh=/[#\?]/g,qh=/[#\?@]/g,aa=/#/g;function Ri(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Tn(u){u.g||(u.g=new Map,u.h=0,u.i&&zh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ri.prototype,r.add=function(u,m){Tn(this),this.i=null,u=Kn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Ii(u,m){Tn(u),m=Kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ci(u,m){return Tn(u),m=Kn(u,m),u.g.has(m)}r.forEach=function(u,m){Tn(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){Tn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let F=0;F<U.length;F++)_.push(m[A])}return _},r.V=function(u){Tn(this);let m=[];if(typeof u=="string")Ci(this,u)&&(m=m.concat(this.g.get(Kn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return Tn(this),this.i=null,u=Kn(this,u),Ci(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Co(u,m,_){Ii(u,m),0<_.length&&(u.i=null,u.g.set(Kn(u,m),W(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=F;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),u.push(U)}}return this.i=u.join("&")};function Kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pu(u,m){m&&!u.j&&(Tn(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(Ii(this,A),Co(this,U,_))},u)),u.j=m}function fs(u,m){const _=new _n;if(p.Image){const A=new Image;A.onload=H(En,_,"TestLoadImage: loaded",!0,m,A),A.onerror=H(En,_,"TestLoadImage: error",!1,m,A),A.onabort=H(En,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=H(En,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function kn(u,m){const _=new _n,A=new AbortController,U=setTimeout(()=>{A.abort(),En(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?En(_,"TestPingServer: ok",!0,m):En(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),En(_,"TestPingServer: error",!1,m)})}function En(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function ds(){this.g=new rs}function Yn(u,m,_){const A=_||"";try{wo(u,function(U,F){let ie=U;y(U)&&(ie=Nn(U)),m.push(A+F+"="+encodeURIComponent(ie))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}j(cr,go),cr.prototype.g=function(){return new xi(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function xi(u,m){lt.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(xi,lt),r=xi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$n(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function xo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Xn(this):$n(this),this.readyState==3&&xo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Xn(this))},r.Qa=function(u){this.g&&(this.response=u,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Do(u){let m="";return ye(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Dt(u,m,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Do(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Ye(u,m,_))}function Fe(u){lt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Fe,lt);var oa=/^https?$/i,ps=["POST","PUT"];r=Fe.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?yo(this.o):yo(Gn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){mu(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(ps,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ms(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){mu(this,F)}};function mu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,la(u),Zn(u)}function la(u){u.A||(u.A=!0,Qe(u,"complete"),Qe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qe(this,"complete"),Qe(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ua(this):this.bb())},r.bb=function(){ua(this)};function ua(u){if(u.h&&typeof f<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)Gt(u.Ea,0,u);else if(Qe(u,"readystatechange"),An(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var A;if(A=ie===0){var U=String(u.D).match(ls)[1]||null;!U&&p.self&&p.self.location&&(U=p.self.location.protocol.slice(0,-1)),A=!oa.test(U?U.toLowerCase():"")}_=A}if(_)Qe(u,"complete"),Qe(u,"success");else{u.m=6;try{var F=2<An(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",la(u)}}finally{Zn(u)}}}}function Zn(u,m){if(u.g){ms(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Qe(u,"ready");try{_.onreadystatechange=A}catch{}}}function ms(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Js(m)}};function gu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bh(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(se(u[A]))continue;var _=k(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[U]||[];m[U]=F,F.push(_)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ca(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,u),this.cb=gs("retryDelaySeedMs",1e4,u),this.Wa=gs("forwardChannelMaxRetries",2,u),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Si(u&&u.concurrentRequestLimit),this.Da=new ds,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ca.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){rt(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=bu(this,null,this.W),fa(this)};function Oo(u){if(yu(u),u.G==3){var m=u.U++,_=ln(u.I);if(Ye(_,"SID",u.K),Ye(_,"RID",m),Ye(_,"TYPE","terminate"),ys(u,_),m=new Zt(u,u.j,m),m.L=2,m.v=cs(ln(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=Su(m.j,null),m.g.ea(m.v)),m.F=Date.now(),as(m)}Au(u)}function ha(u){u.g&&(_s(u),u.g.cancel(),u.g=null)}function yu(u){ha(u),u.u&&(p.clearTimeout(u.u),u.u=null),da(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function fa(u){if(!na(u.h)&&!u.s){u.s=!0;var m=u.Ga;re||D(),fe||(re(),fe=!0),je.add(m,u),u.B=0}}function Hh(u,m){return ia(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=mt(C(u.Ga,u,m),ko(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Zt(this,this.j,u);let F=this.o;if(this.S&&(F?(F=S(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=_u(this,U,m),_=ln(this.I),Ye(_,"RID",u),Ye(_,"CVER",22),this.D&&Ye(_,"X-HTTP-Session-Id",this.D),ys(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(Do(F)))+"&"+m:this.m&&Dt(_,this.m,F)),ra(this.h,U),this.Ua&&Ye(_,"TYPE","init"),this.P?(Ye(_,"$req",m),Ye(_,"SID","null"),U.T=!0,Mn(U,_,null)):Mn(U,_,m),this.G=2}}else this.G==3&&(u?No(this,u):this.i.length==0||na(this.h)||No(this))};function No(u,m){var _;m?_=m.l:_=u.U++;const A=ln(u.I);Ye(A,"SID",u.K),Ye(A,"RID",_),Ye(A,"AID",u.T),ys(u,A),u.m&&u.o&&Dt(A,u.m,u.o),_=new Zt(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=_u(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ra(u.h,_),Mn(_,A,m)}function ys(u,m){u.H&&ye(u.H,function(_,A){Ye(m,A,_)}),u.l&&wo({},function(_,A){Ye(m,A,_)})}function _u(u,m,_){_=Math.min(u.i.length,_);var A=u.l?C(u.l.Na,u.l,u):null;e:{var U=u.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=U[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Ve=!0;for(let St=0;St<_;St++){let Ue=U[St].g;const Ot=U[St].map;if(Ue-=F,0>Ue)F=Math.max(0,U[St].g-100),Ve=!1;else try{Yn(Ot,ie,"req"+Ue+"_")}catch{A&&A(Ot)}}if(Ve){A=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,A}function vu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;re||D(),fe||(re(),fe=!0),je.add(m,u),u.v=0}}function Mo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=mt(C(u.Fa,u),ko(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=mt(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ha(this),Tu(this))};function _s(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Tu(u){u.g=new Zt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Ye(m,"RID","rpc"),Ye(m,"SID",u.K),Ye(m,"AID",u.T),Ye(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(m,"TO",u.ja),Ye(m,"TYPE","xmlhttp"),ys(u,m),u.m&&u.o&&Dt(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=cs(ln(m)),_.m=null,_.P=!0,bi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,ha(this),Mo(this),rt(19))};function da(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Eu(u,m){var _=null;if(u.g==m){da(u),_s(u),u.g=null;var A=2}else if(bo(u.h,m))_=m.D,Jt(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=rr(),Qe(A,new bt(A,_)),fa(u)}else vu(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Hh(u,m)||A==2&&Mo(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function ko(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),A=u.Xa;const U=!A;A=new gt(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||us(A,"https"),cs(A),U?fs(A.toString(),_):kn(A.toString(),_)}else rt(2);u.G=0,u.l&&u.l.sa(m),Au(u),yu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Au(u){if(u.G=0,u.ka=[],u.l){const m=So(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ka,m),G(u.ka,u.i),u.h.i.length=0,W(u.i),u.i.length=0),u.l.ra()}}function bu(u,m,_){var A=_ instanceof gt?ln(_):new gt(_);if(A.g!="")m&&(A.g=m+"."+A.g),ur(A,A.s);else{var U=p.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var F=new gt(null);A&&us(F,A),m&&(F.g=m),U&&ur(F,U),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&Ye(A,_,m),Ye(A,"VER",u.la),ys(u,A),A}function Su(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Fe(new cr({eb:_})):new Fe(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function pa(){}pa.prototype.g=function(u,m){return new en(u,m)};function en(u,m){lt.call(this),this.g=new ca(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!se(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!se(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}j(en,lt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Oo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Nn(u),u=_);m.i.push(new fu(m.Ya++,u)),m.G==3&&fa(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,en.aa.N.call(this)};function Ru(u){Ei.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}j(Ru,Ei);function Iu(){vo.call(this),this.status=1}j(Iu,vo);function Jn(u){this.g=u}j(Jn,wu),Jn.prototype.ua=function(){Qe(this.g,"a")},Jn.prototype.ta=function(u){Qe(this.g,new Ru(u))},Jn.prototype.sa=function(u){Qe(this.g,new Iu)},Jn.prototype.ra=function(){Qe(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,IT=function(){return new pa},RT=function(){return rr()},wT=Fn,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,zc=or,Ai.COMPLETE="complete",ST=Ai,_o.EventType=Ti,Ti.OPEN="a",Ti.CLOSE="b",Ti.ERROR="c",Ti.MESSAGE="d",lt.prototype.listen=lt.prototype.K,wl=_o,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,bT=Fe}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",wv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yt.UNAUTHENTICATED=new Yt(null),Yt.GOOGLE_CREDENTIALS=new Yt("google-credentials-uid"),Yt.FIRST_PARTY=new Yt("first-party-uid"),Yt.MOCK_USER=new Yt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Np("@firebase/firestore");function Ha(){return Bs.logLevel}function ce(r,...e){if(Bs.logLevel<=Me.DEBUG){const n=e.map(Hp);Bs.debug(`Firestore (${oo}): ${r}`,...n)}}function er(r,...e){if(Bs.logLevel<=Me.ERROR){const n=e.map(Hp);Bs.error(`Firestore (${oo}): ${r}`,...n)}}function eo(r,...e){if(Bs.logLevel<=Me.WARN){const n=e.map(Hp);Bs.warn(`Firestore (${oo}): ${r}`,...n)}}function Hp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,CT(r,s,n)}function CT(r,e,n){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw er(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||CT(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yt.UNAUTHENTICATED))}shutdown(){}}class WR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KR{constructor(e){this.t=e,this.currentUser=Yt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new $i,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new $i)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new xT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Yt(e)}}class YR{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Yt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XR{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new YR(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Yt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $R{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Rv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Rv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=ZR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<n&&(s+=e.charAt(o[c]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function cp(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return Kd(o)===Kd(c)?ke(o,c):Kd(o)?1:-1}return ke(r.length,e.length)}const JR=55296,eI=57343;function Kd(r){const e=r.charCodeAt(0);return e>=JR&&e<=eI}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const c=ai.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return ke(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):cp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jr.fromString(e.substring(4,e.length-2))}}class nt extends ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const tI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends ai{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return tI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Bt([Iv])}static fromServerFormat(e){const n=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(c(),o++)}if(c(),f)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(nt.fromString(e))}static fromName(e){return new pe(nt.fromString(e).popFirst(5))}static empty(){return new pe(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function nI(r,e,n,s){if(e===!0&&s===!0)throw new ue(X.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Cv(r){if(!pe.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function xv(r){if(pe.isDocumentKey(r))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function OT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Th(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Hr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Th(r);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,e){const n={typeString:r};return e&&(n.value=e),n}function $l(r,e){if(!OT(r))throw new ue(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new ue(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-62135596800,Ov=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Ov);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Dv)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($l(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Et("string",it._jsonSchemaVersion),seconds:Et("number"),nanoseconds:Et("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new it(0,0))}static max(){return new be(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function iI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new Fr(o,pe.empty(),e)}function rI(r){return new Fr(r.readTime,r.key,Ul)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(be.min(),pe.empty(),Ul)}static max(){return new Fr(be.max(),pe.empty(),Ul)}}function sI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==aI)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,c=0,f=!1;e.forEach(p=>{++o,p.next(()=>{++c,f&&c===o&&n()},g=>s(g))}),f=!0,c===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,c)=>{s.push(n.call(this,o,c))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const c=e.length,f=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next(T=>{f[y]=T,++p,p===c&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Z((s,o)=>{const c=()=>{e()===!0?n().next(()=>{c()},o):s()};c()})}}function lI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Eh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function Ah(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function uI(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="";function cI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Nv(e)),e=hI(r.get(n),e);return Nv(e)}function hI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":n+="";break;case NT:n+="";break;default:n+=c}}return n}function Nv(r){return r+NT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function MT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,c){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=c??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,c){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,s),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,c){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ct(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new Ct(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new kT("Invalid base64 string: "+c):c}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=fI.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Qr(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="server_timestamp",VT="__type__",UT="__previous_value__",LT="__local_write_time__";function Qp(r){return(r?.mapValue?.fields||{})[VT]?.stringValue===PT}function bh(r){const e=r.mapValue.fields[UT];return Qp(e)?bh(e):e}function Ll(r){const e=Gr(r.mapValue.fields[LT].timestampValue);return new it(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,s,o,c,f,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const ih="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||ih}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="__type__",pI="__max__",Oc={mapValue:{}},jT="__vector__",rh="value";function Wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qp(r)?4:gI(r)?9007199254740991:mI(r)?10:11:Te(28295,{value:r})}function mi(r,e){if(r===e)return!0;const n=Wr(r);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ll(r).isEqual(Ll(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Gr(o.timestampValue),p=Gr(c.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Qr(o.bytesValue).isEqual(Qr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return pt(o.geoPointValue.latitude)===pt(c.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return pt(o.integerValue)===pt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=pt(o.doubleValue),p=pt(c.doubleValue);return f===p?nh(f)===nh(p):isNaN(f)&&isNaN(p)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Mv(f)!==Mv(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!mi(f[g],p[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function jl(r,e){return(r.values||[]).find(n=>mi(n,e))!==void 0}function no(r,e){if(r===e)return 0;const n=Wr(r),s=Wr(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(c,f){const p=pt(c.integerValue||c.doubleValue),g=pt(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return Pv(r.timestampValue,e.timestampValue);case 4:return Pv(Ll(r),Ll(e));case 5:return cp(r.stringValue,e.stringValue);case 6:return function(c,f){const p=Qr(c),g=Qr(f);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const p=c.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ke(p[y],g[y]);if(T!==0)return T}return ke(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const p=ke(pt(c.latitude),pt(f.latitude));return p!==0?p:ke(pt(c.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Vv(r.arrayValue,e.arrayValue);case 10:return function(c,f){const p=c.fields||{},g=f.fields||{},y=p[rh]?.arrayValue,T=g[rh]?.arrayValue,w=ke(y?.values?.length||0,T?.values?.length||0);return w!==0?w:Vv(y,T)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===Oc.mapValue&&f===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(f===Oc.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const C=cp(g[w],T[w]);if(C!==0)return C;const H=no(p[g[w]],y[T[w]]);if(H!==0)return H}return ke(g.length,T.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Pv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=Gr(r),s=Gr(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function Vv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const c=no(n[o],s[o]);if(c)return c}return ke(n.length,s.length)}function io(r){return hp(r)}function hp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Qr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const c of n.values||[])o?o=!1:s+=",",s+=hp(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${hp(n.fields[f])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function jc(r){switch(Wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+jc(e):16;case 5:return 2*r.stringValue.length;case 6:return Qr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+jc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ws(s.fields,(c,f)=>{o+=c.length+jc(f)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function Uv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function fp(r){return!!r&&"integerValue"in r}function Wp(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function mI(r){return(r?.mapValue?.fields||{})[zT]?.stringValue===jT}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ol(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return{...r}}function gI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!qc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=Ol(f):o.push(p.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,o)}delete(e){const n=this.field(e.popLast());qc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Dn(Ol(this.value))}}function qT(r){const e=[];return Ws(r.fields,(n,s)=>{const o=new Bt([n]);if(qc(s)){const c=qT(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,c,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=p}static newInvalidDocument(e){return new Xt(e,0,be.min(),be.min(),be.min(),Dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,be.min(),be.min(),Dn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,be.min(),be.min(),Dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function jv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=no(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function yI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class Tt extends BT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vI(e,n,s):n==="array-contains"?new AI(e,s):n==="in"?new bI(e,s):n==="not-in"?new SI(e,s):n==="array-contains-any"?new wI(e,s):new Tt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new TI(e,s):new EI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Wr(this.value)===Wr(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends BT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bn(e,n)}matches(e){return HT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HT(r){return r.op==="and"}function FT(r){return _I(r)&&HT(r)}function _I(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function dp(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+io(r.value);if(FT(r))return r.filters.map(e=>dp(e)).join(",");{const e=r.filters.map(n=>dp(n)).join(",");return`${r.op}(${e})`}}function GT(r,e){return r instanceof Tt?function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&mi(s.value,o.value)}(r,e):r instanceof Bn?function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,p)=>c&&GT(f,o.filters[p]),!0):!1}(r,e):void Te(19439)}function QT(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(r):r instanceof Bn?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(r):"Filter"}class vI extends Tt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TI extends Tt{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EI extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(r,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class AI extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wp(n)&&jl(n.arrayValue,this.value)}}class bI extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jl(this.value.arrayValue,n)}}class SI extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jl(this.value.arrayValue,n)}}class wI extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n=null,s=[],o=[],c=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=p,this.Te=null}}function Bv(r,e=null,n=[],s=[],o=null,c=null,f=null){return new RI(r,e,n,s,o,c,f)}function Kp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>dp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>io(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>io(s)).join(",")),e.Te=n}return e.Te}function Yp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!GT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qv(r.startAt,e.startAt)&&qv(r.endAt,e.endAt)}function pp(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n=null,s=[],o=[],c=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function II(r,e,n,s,o,c,f,p){return new Zl(r,e,n,s,o,c,f,p)}function Xp(r){return new Zl(r)}function Hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function KT(r){return r.collectionGroup!==null}function Nl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new Ct(Bt.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,s))}),n.has(Bt.keyField().canonicalString())||e.Ie.push(new ah(Bt.keyField(),s))}return e.Ie}function ci(r){const e=Se(r);return e.Ee||(e.Ee=CI(e,Nl(r))),e.Ee}function CI(r,e){if(r.limitType==="F")return Bv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)});const n=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return Bv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function mp(r,e){const n=r.filters.concat([e]);return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function gp(r,e,n){return new Zl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Sh(r,e){return Yp(ci(r),ci(e))&&r.limitType===e.limitType}function YT(r){return`${Kp(ci(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QT(o)).join(", ")}]`),Ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>io(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>io(o)).join(",")),`Target(${s})`}(ci(r))}; limitType=${r.limitType})`}function wh(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):pe.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Nl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,p,g){const y=jv(f,p,g);return f.inclusive?y<=0:y<0}(s.startAt,Nl(s),o)||s.endAt&&!function(f,p,g){const y=jv(f,p,g);return f.inclusive?y>=0:y>0}(s.endAt,Nl(s),o))}(r,e)}function xI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XT(r){return(e,n)=>{let s=!1;for(const o of Nl(r)){const c=DI(o,e,n);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function DI(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(c,f,p){const g=f.data.field(c),y=p.data.field(c);return g!==null&&y!==null?no(g,y):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return MT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new ot(pe.comparator);function tr(){return OI}const $T=new ot(pe.comparator);function Rl(...r){let e=$T;for(const n of r)e=e.insert(n.key,n);return e}function ZT(r){let e=$T;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vs(){return Ml()}function JT(){return Ml()}function Ml(){return new Ks(r=>r.toString(),(r,e)=>r.isEqual(e))}const NI=new ot(pe.comparator),MI=new Ct(pe.comparator);function Pe(...r){let e=MI;for(const n of r)e=e.add(n);return e}const kI=new Ct(ke);function PI(){return kI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function eE(r){return{integerValue:""+r}}function VI(r,e){return uI(e)?eE(e):$p(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(){this._=void 0}}function UI(r,e,n){return r instanceof ql?function(o,c){const f={fields:{[VT]:{stringValue:PT},[LT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qp(c)&&(c=bh(c)),c&&(f.fields[UT]=c),{mapValue:f}}(n,e):r instanceof Bl?nE(r,e):r instanceof Hl?iE(r,e):function(o,c){const f=tE(o,c),p=Fv(f)+Fv(o.Ae);return fp(f)&&fp(o.Ae)?eE(p):$p(o.serializer,p)}(r,e)}function LI(r,e,n){return r instanceof Bl?nE(r,e):r instanceof Hl?iE(r,e):n}function tE(r,e){return r instanceof oh?function(s){return fp(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class ql extends Rh{}class Bl extends Rh{constructor(e){super(),this.elements=e}}function nE(r,e){const n=rE(e);for(const s of r.elements)n.some(o=>mi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Hl extends Rh{constructor(e){super(),this.elements=e}}function iE(r,e){let n=rE(e);for(const s of r.elements)n=n.filter(o=>!mi(o,s));return{arrayValue:{values:n}}}class oh extends Rh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Fv(r){return pt(r.integerValue||r.doubleValue)}function rE(r){return Wp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.field=e,this.transform=n}}function jI(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Bl&&o instanceof Bl||s instanceof Hl&&o instanceof Hl?to(s.elements,o.elements,mi):s instanceof oh&&o instanceof oh?mi(s.Ae,o.Ae):s instanceof ql&&o instanceof ql}(r.transform,e.transform)}class qI{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function sE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new oE(r.key,hi.none()):new Jl(r.key,r.data,hi.none());{const n=r.data,s=Dn.empty();let o=new Ct(Bt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new Ys(r.key,s,new zn(o.toArray()),hi.none())}}function BI(r,e,n){r instanceof Jl?function(o,c,f){const p=o.value.clone(),g=Qv(o.fieldTransforms,c,f.transformResults);p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):r instanceof Ys?function(o,c,f){if(!Bc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const p=Qv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(aE(o)),g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function kl(r,e,n,s){return r instanceof Jl?function(c,f,p,g){if(!Bc(c.precondition,f))return p;const y=c.value.clone(),T=Wv(c.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ys?function(c,f,p,g){if(!Bc(c.precondition,f))return p;const y=Wv(c.fieldTransforms,g,f),T=f.data;return T.setAll(aE(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(c,f,p){return Bc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p}(r,e,n)}function HI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=tE(s.transform,o||null);c!=null&&(n===null&&(n=Dn.empty()),n.set(s.field,c))}return n||null}function Gv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(c,f)=>jI(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Jl extends Ih{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ys extends Ih{constructor(e,n,s,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function aE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Qv(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const c=r[o],f=c.transform,p=e.data.field(c.field);s.set(c.field,LI(f,p,n[o]))}return s}function Wv(r,e,n){const s=new Map;for(const o of r){const c=o.transform,f=n.data.field(o.field);s.set(o.field,UI(c,f,e))}return s}class oE extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&BI(c,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JT();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let p=this.applyToLocalView(f,c.mutatedFields);p=n.has(o.key)?null:p;const g=sE(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>Gv(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>Gv(n,s))}}class Zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return NI}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new Zp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,ze;function KI(r){switch(r){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function lE(r){if(r===void 0)return er("GRPC error has no .code"),X.UNKNOWN;switch(r){case vt.OK:return X.OK;case vt.CANCELLED:return X.CANCELLED;case vt.UNKNOWN:return X.UNKNOWN;case vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case vt.INTERNAL:return X.INTERNAL;case vt.UNAVAILABLE:return X.UNAVAILABLE;case vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case vt.NOT_FOUND:return X.NOT_FOUND;case vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case vt.ABORTED:return X.ABORTED;case vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case vt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:r})}}(ze=vt||(vt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new jr([4294967295,4294967295],0);function Kv(r){const e=YI().encode(r),n=new AT;return n.update(e),new Uint8Array(n.digest())}function Yv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new jr([n,s],0),new jr([o,c],0)]}class Jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=jr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(jr.fromNumber(s)));return o.compare(XI)===1&&(o=new jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kv(e),[s,o]=Yv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Jp(c,o,n);return s.forEach(p=>f.insert(p)),f}insert(e){if(this.ge===0)return;const n=Kv(e),[s,o]=Yv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(s,o,c);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,s,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ch(be.min(),o,new ot(ke),tr(),Pe())}}class eu{constructor(e,n,s,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new eu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class uE{constructor(e,n){this.targetId=e,this.Ce=n}}class cE{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xv{constructor(){this.ve=0,this.Fe=$v(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:c})}}),new eu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=$v()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class $I{constructor(e){this.Ge=e,this.ze=new Map,this.je=tr(),this.Je=Nc(),this.He=Nc(),this.Ye=new ot(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(pp(c))if(s===0){const f=new pe(c.path);this.et(n,f,Xt.newNoDocument(f,be.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=n;let f,p;try{f=Qr(s).toUint8Array()}catch(g){if(g instanceof kT)return eo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Jp(f,o,c)}catch(g){return eo(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(c=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((c,f)=>{const p=this.ot(f);if(p){if(c.current&&pp(p.target)){const g=new pe(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Xt.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.qe())}});let s=Pe();this.He.forEach((c,f)=>{let p=!0;f.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.je.forEach((c,f)=>f.setReadTime(e));const o=new Ch(e,n,this.Ye,this.je,s);return this.je=tr(),this.Je=Nc(),this.He=Nc(),this.Ye=new ot(ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Xv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ct(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ct(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Xv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nc(){return new ot(pe.comparator)}function $v(){return new ot(pe.comparator)}const ZI={asc:"ASCENDING",desc:"DESCENDING"},JI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class t2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yp(r,e){return r.useProto3Json||Ah(e)?e:{value:e}}function lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function n2(r,e){return lh(r,e.toTimestamp())}function fi(r){return Ge(!!r,49232),be.fromTimestamp(function(n){const s=Gr(n);return new it(s.seconds,s.nanos)}(r))}function em(r,e){return _p(r,e).canonicalString()}function _p(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function fE(r){const e=nt.fromString(r);return Ge(yE(e),10190,{key:e.toString()}),e}function vp(r,e){return em(r.databaseId,e.path)}function Yd(r,e){const n=fE(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(pE(n))}function dE(r,e){return em(r.databaseId,e)}function i2(r){const e=fE(r);return e.length===4?nt.emptyPath():pE(e)}function Tp(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pE(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Zv(r,e,n){return{name:vp(r,e),fields:n.value.mapValue.fields}}function r2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Ft.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ft.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&function(y){const T=y.code===void 0?X.UNKNOWN:lE(y.code);return new ue(T,y.message||"")}(f);n=new cE(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Yd(r,s.document.name),c=fi(s.document.updateTime),f=s.document.createTime?fi(s.document.createTime):be.min(),p=new Dn({mapValue:{fields:s.document.fields}}),g=Xt.newFoundDocument(o,c,f,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Hc(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Yd(r,s.document),c=s.readTime?fi(s.readTime):be.min(),f=Xt.newNoDocument(o,c),p=s.removedTargetIds||[];n=new Hc([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Yd(r,s.document),c=s.removedTargetIds||[];n=new Hc([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new WI(o,c),p=s.targetId;n=new uE(p,f)}}return n}function s2(r,e){let n;if(e instanceof Jl)n={update:Zv(r,e.key,e.value)};else if(e instanceof oE)n={delete:vp(r,e.key)};else if(e instanceof Ys)n={update:Zv(r,e.key,e.data),updateMask:p2(e.fieldMask)};else{if(!(e instanceof FI))return Te(16599,{Vt:e.type});n={verify:vp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const p=f.transform;if(p instanceof ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Bl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Hl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof oh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw Te(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:n2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)}(r,e.precondition)),n}function a2(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(n=>function(o,c){let f=o.updateTime?fi(o.updateTime):fi(c);return f.isEqual(be.min())&&(f=fi(c)),new qI(f,o.transformResults||[])}(n,e))):[]}function o2(r,e){return{documents:[dE(r,e.path)]}}function l2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=dE(r,o);const c=function(y){if(y.length!==0)return gE(Bn.create(y,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(T=>function(C){return{field:Ga(C.field),direction:h2(C.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=yp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function u2(r){let e=i2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(w){const C=mE(w);return C instanceof Bn&&FT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(j){return new ah(Qa(j.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(C))}(n.orderBy));let p=null;n.limit&&(p=function(w){let C;return C=typeof w=="object"?w.value:w,Ah(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(w){const C=!!w.before,H=w.values||[];return new sh(H,C)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const C=!w.before,H=w.values||[];return new sh(H,C)}(n.endAt)),II(e,o,f,c,p,"F",g,y)}function c2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Qa(n.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Qa(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(n.unaryFilter.field);return Tt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Qa(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(Qa(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Bn.create(n.compositeFilter.filters.map(s=>mE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function h2(r){return ZI[r]}function f2(r){return JI[r]}function d2(r){return e2[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Bt.fromServerFormat(r.fieldPath)}function gE(r){return r instanceof Tt?function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:Ga(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(n.field),op:f2(n.op),value:n.value}}}(r):r instanceof Bn?function(n){const s=n.getFilters().map(o=>gE(o));return s.length===1?s[0]:{compositeFilter:{op:d2(n.op),filters:s}}}(r):Te(54877,{filter:r})}function p2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,c=be.min(),f=be.min(),p=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.yt=e}}function g2(r){const e=u2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Cn=new _2}addToCollectionParentIndex(e,n){return this.Cn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(Fr.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class _2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ct(nt.comparator),c=!o.has(s);return this.index[n]=o.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_E=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(_E,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="LruGarbageCollector",v2=1048576;function t0([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class T2{constructor(e){this.Ir=e,this.buffer=new Ct(t0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();t0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class E2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(e0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?ce(e0,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.Vr(3e5)})}}class A2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Eh.ce);const s=new T2(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,c,f,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,p=Date.now(),this.removeTargets(e,s,n))).next(w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),Ha()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function b2(r,e){return new A2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new Ks(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&kl(s.mutation,o,zn.empty(),it.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Vs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(c=>{let f=Rl();return c.forEach((p,g)=>{f=f.insert(p,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Vs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(c=>{n.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,p)=>{n.set(f,p)})})}computeViews(e,n,s,o){let c=tr();const f=Ml(),p=function(){return Ml()}();return n.forEach((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ys)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),kl(T.mutation,y,T.mutation.getFieldMask(),it.now())):f.set(y.key,zn.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>p.set(y,new w2(T,f.get(y)??null))),p))}recalculateAndSaveOverlays(e,n){const s=Ml();let o=new ot((f,p)=>f-p),c=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const p of f)p.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||zn.empty();T=p.applyToLocalView(y,T),s.set(g,T);const w=(o.get(p.batchId)||Pe()).add(g);o=o.insert(p.batchId,w)})}).next(()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,w=JT();T.forEach(C=>{if(!c.has(C)){const H=sE(n.get(C),s.get(C));H!==null&&w.set(C,H),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-c.size):Z.resolve(Vs());let p=Ul,g=c;return f.next(y=>Z.forEach(y,(T,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),c.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(C=>{g=g.insert(T,C)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Pe())).next(T=>({batchId:p,changes:ZT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const c=n.collectionGroup;let f=Rl();return this.indexManager.getCollectionParents(e,c).next(p=>Z.forEach(p,g=>{const y=function(w,C){return new Zl(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,o))).next(f=>{c.forEach((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Xt.newInvalidDocument(T)))});let p=Rl();return f.forEach((g,y)=>{const T=c.get(g);T!==void 0&&kl(T.mutation,y,zn.empty(),it.now()),wh(n,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return Z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:g2(o.bundledQuery),readTime:fi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.overlays=new ot(pe.comparator),this.qr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vs();return Z.forEach(n,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,c)=>{this.St(e,n,c)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=Vs(),c=n.length+1,f=new pe(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let c=new ot((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=Vs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Vs(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,T)=>p.set(y,T)),!(p.size()>=o)););return Z.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new QI(n,s));let c=this.qr.get(n);c===void 0&&(c=Pe(),this.qr.set(n,c)),this.qr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(){this.Qr=new Ct(Pt.$r),this.Ur=new Ct(Pt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Pt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new pe(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1),c=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),c.push(f.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new nt([])),s=new Pt(n,e),o=new Pt(n,e+1);let c=Pe();return this.Ur.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Pt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ct(Pt.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GI(c,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Pt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],f=>{const p=this.Xr(f.Yr);c.push(p)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ct(ke);return n.forEach(o=>{const c=new Pt(o,0),f=new Pt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,f],p=>{s=s.add(p.Yr)})}),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let c=s;pe.isDocumentKey(c)||(c=c.child(""));const f=new Pt(new pe(c),0);let p=new Ct(ke);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)},f),Z.resolve(this.ti(p))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(n.mutations,o=>{const c=new Pt(o.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Pt(n,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.ri=e,this.docs=function(){return new ot(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),c=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=tr();return n.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xt.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let c=tr();const f=n.path,p=new pe(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||sI(rI(T),s)<=0||(o.has(T.key)||wh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new N2(this)}getSize(e){return Z.resolve(this.size)}}class N2 extends S2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.persistence=e,this.si=new Ks(n=>Kp(n),Yp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new tm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),Z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ro(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.Pr(n),Z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const c=[];return this.si.forEach((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Eh(0),this.li=!1,this.li=!0,this.hi=new x2,this.referenceDelegate=e(this),this.Pi=new M2(this),this.indexManager=new y2,this.remoteDocumentCache=function(o){return new O2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new m2(n),this.Ii=new I2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new C2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new D2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new k2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,n){return Z.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class k2 extends oI{constructor(e){super(),this.currentSequenceNumber=e}}class nm{constructor(e){this.persistence=e,this.Ri=new tm,this.Vi=null}static mi(e){return new nm(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),Z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(c=>{c||n.removeEntry(o,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return Z.or([()=>Z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.pi=new Ks(s=>cI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=b2(this,n)}static mi(e,n){return new uh(e,n)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return Z.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(p=>{p||(s++,c.removeEntry(f,be.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),Z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jc(e.data.value)),n}br(e,n,s){return Z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new im(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return hS()?8:lI($t())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const c={result:null};return this.ys(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ws(e,n,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new P2;return this.Ss(e,n,f).next(p=>{if(c.result=p,this.Vs)return this.bs(e,n,f,p.size)})}).next(()=>c.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ha()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Ha()<=Me.DEBUG&&ce("QueryEngine","Query:",Fa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ha()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):Z.resolve())}ys(e,n){if(Hv(n))return Z.resolve(null);let s=ci(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=gp(n,null,"F"),s=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Pe(...c);return this.ps.getDocuments(e,f).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,gp(n,null,"F")):this.vs(e,y,n,g)}))})))}ws(e,n,s,o){return Hv(n)||o.isEqual(be.min())?Z.resolve(null):this.ps.getDocuments(e,s).next(c=>{const f=this.Ds(n,c);return this.Cs(n,f,s,o)?Z.resolve(null):(Ha()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Fa(n)),this.vs(e,f,n,iI(o,Ul)).next(p=>p))})}Ds(e,n){let s=new Ct(XT(e));return n.forEach((o,c)=>{wh(e,c)&&(s=s.add(c))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,n,s){return Ha()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Fa(n)),this.ps.getDocumentsMatchingQuery(e,n,Fr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",U2=3e8;class L2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ot(ke),this.xs=new Ks(c=>Kp(c),Yp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function z2(r,e,n,s){return new L2(r,e,n,s)}async function TE(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],p=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:p}))})})}function j2(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return function(p,g,y,T){const w=y.batch,C=w.keys();let H=Z.resolve();return C.forEach(j=>{H=H.next(()=>T.getEntry(g,j)).next(W=>{const G=y.docVersions.get(j);Ge(G!==null,48541),W.version.compareTo(G)<0&&(w.applyToRemoteDocument(W,y),W.isValidDocument()&&(W.setReadTime(y.commitVersion),T.addEntry(W)))})}),H.next(()=>p.mutationQueue.removeMutationBatch(g,w))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Pe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function EE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function q2(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach((T,w)=>{const C=o.get(w);if(!C)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,w).next(()=>n.Pi.addMatchingKeys(c,T.addedDocuments,w)));let H=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(Ft.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(T.resumeToken,s)),o=o.insert(w,H),function(W,G,le){return W.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=U2?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0}(C,H,T)&&p.push(n.Pi.updateTargetData(c,H))});let g=tr(),y=Pe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),p.push(B2(c,f,e.documentUpdates).next(T=>{g=T.ks,y=T.qs})),!s.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next(w=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(T)}return Z.waitFor(p).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(n.Ms=o,c))}function B2(r,e,n){let s=Pe(),o=Pe();return n.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=tr();return n.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(be.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ce(rm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{ks:f,qs:o}})}function H2(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function F2(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(c=>c?(o=c,Z.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Ep(r,e,n){const s=Se(r),o=s.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!uo(f))throw f;ce(rm,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function n0(r,e,n){const s=Se(r);let o=be.min(),c=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,T){const w=Se(g),C=w.xs.get(T);return C!==void 0?Z.resolve(w.Ms.get(C)):w.Pi.getTargetData(y,T)}(s,f,ci(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next(g=>{c=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?c:Pe())).next(p=>(G2(s,xI(e),p),{documents:p,Qs:c})))}function G2(r,e,n){let s=r.Os.get(e)||be.min();n.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(e,s)}class i0{constructor(){this.activeTargetIds=PI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q2{constructor(){this.Mo=new i0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new i0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0="ConnectivityMonitor";class s0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(r0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(r0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Ap(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,c){const f=Ap(),p=this.zo(e,n.toUriEncodedString());ce(Xd,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),T=Fs(y);return this.Jo(e,p,g,s,T).then(w=>(ce(Xd,`Received RPC '${e}' ${f}: `,w),w),w=>{throw eo(Xd,`RPC '${e}' ${f} failed with error: `,w,"url: ",p,"request:",s),w})}Ho(e,n,s,o,c,f){return this.Go(e,n,s,o,c)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,n){const s=K2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class $2 extends Y2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,c){const f=Ap();return new Promise((p,g)=>{const y=new bT;y.setWithCredentials(!0),y.listenOnce(ST.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();ce(Kt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),p(w);break;case zc.TIMEOUT:ce(Kt,`RPC '${e}' ${f} timed out`),g(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const C=y.getStatus();if(ce(Kt,`RPC '${e}' ${f} failed with status:`,C,"response text:",y.getResponseText()),C>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const j=H?.error;if(j&&j.status&&j.message){const W=function(le){const se=le.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(se)>=0?se:X.UNKNOWN}(j.status);g(new ue(W,j.message))}else g(new ue(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Kt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);ce(Kt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)})}T_(e,n,s){const o=Ap(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=IT(),p=RT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=c.join("");ce(Kt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const w=f.createWebChannel(T,g);this.I_(w);let C=!1,H=!1;const j=new X2({Yo:G=>{H?ce(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(C||(ce(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),C=!0),ce(Kt,`RPC '${e}' stream ${o} sending:`,G),w.send(G))},Zo:()=>w.close()}),W=(G,le,se)=>{G.listen(le,oe=>{try{se(oe)}catch(ne){setTimeout(()=>{throw ne},0)}})};return W(w,wl.EventType.OPEN,()=>{H||(ce(Kt,`RPC '${e}' stream ${o} transport opened.`),j.o_())}),W(w,wl.EventType.CLOSE,()=>{H||(H=!0,ce(Kt,`RPC '${e}' stream ${o} transport closed`),j.a_(),this.E_(w))}),W(w,wl.EventType.ERROR,G=>{H||(H=!0,eo(Kt,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),j.a_(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),W(w,wl.EventType.MESSAGE,G=>{if(!H){const le=G.data[0];Ge(!!le,16349);const se=le,oe=se?.error||se[0]?.error;if(oe){ce(Kt,`RPC '${e}' stream ${o} received error:`,oe);const ne=oe.status;let te=function(S){const R=vt[S];if(R!==void 0)return lE(R)}(ne),ye=oe.message;te===void 0&&(te=X.INTERNAL,ye="Unknown error status: "+ne+" with message "+oe.message),H=!0,j.a_(new ue(te,ye)),w.close()}else ce(Kt,`RPC '${e}' stream ${o} received:`,le),j.u_(le)}}),W(p,wT.STAT_EVENT,G=>{G.stat===up.PROXY?ce(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===up.NOPROXY&&ce(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.__()},0),j}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){return new t2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="PersistentStream";class bE{constructor(e,n,s,o,c,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ue(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ce(a0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ce(a0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z2 extends bE{constructor(e,n,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=r2(this.serializer,e),s=function(c){if(!("targetChange"in c))return be.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?fi(f.readTime):be.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Tp(this.serializer),n.addTarget=function(c,f){let p;const g=f.target;if(p=pp(g)?{documents:o2(c,g)}:{query:l2(c,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=hE(c,f.resumeToken);const y=yp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(be.min())>0){p.readTime=lh(c,f.snapshotVersion.toTimestamp());const y=yp(c,f.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=c2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Tp(this.serializer),n.removeTarget=e,this.q_(n)}}class J2 extends bE{constructor(e,n,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=a2(e.writeResults,e.commitTime),s=fi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>s2(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class tC extends eC{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Go(e,_p(n,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(X.UNKNOWN,c.toString())})}Ho(e,n,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,p])=>this.connection.Ho(e,_p(n,s),o,f,p,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(X.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class nC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class iC{constructor(e,n,s,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Xs(this)&&(ce(Hs,"Restarting streams for network reachability change."),await async function(g){const y=Se(g);y.Ea.add(4),await tu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Dh(y)}(this))})}),this.Ra=new nC(s,o)}}async function Dh(r){if(Xs(r))for(const e of r.da)await e(!0)}async function tu(r){for(const e of r.da)await e(!1)}function SE(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lm(n)?om(n):co(n).O_()&&am(n,e))}function sm(r,e){const n=Se(r),s=co(n);n.Ia.delete(e),s.O_()&&wE(n,e),n.Ia.size===0&&(s.O_()?s.L_():Xs(n)&&n.Ra.set("Unknown"))}function am(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(r).Y_(e)}function wE(r,e){r.Va.Ue(e),co(r).Z_(e)}function om(r){r.Va=new $I({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Ra.ua()}function lm(r){return Xs(r)&&!co(r).x_()&&r.Ia.size>0}function Xs(r){return Se(r).Ea.size===0}function RE(r){r.Va=void 0}async function rC(r){r.Ra.set("Online")}async function sC(r){r.Ia.forEach((e,n)=>{am(r,e)})}async function aC(r,e){RE(r),lm(r)?(r.Ra.ha(e),om(r)):r.Ra.set("Unknown")}async function oC(r,e,n){if(r.Ra.set("Online"),e instanceof cE&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))}(r,e)}catch(s){ce(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ch(r,s)}else if(e instanceof Hc?r.Va.Ze(e):e instanceof uE?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await EE(r.localStore);n.compareTo(s)>=0&&await function(c,f){const p=c.Va.Tt(f);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,f))}}),p.targetMismatches.forEach((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Ft.EMPTY_BYTE_STRING,T.snapshotVersion)),wE(c,g);const w=new Ur(T.target,g,y,T.sequenceNumber);am(c,w)}),c.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){ce(Hs,"Failed to raise snapshot:",s),await ch(r,s)}}async function ch(r,e,n){if(!uo(e))throw e;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),n||(n=()=>EE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ce(Hs,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Dh(r)})}function IE(r,e){return e().catch(n=>ch(r,n,e))}async function Oh(r){const e=Se(r),n=Kr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;lC(e);)try{const o=await H2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,uC(e,o)}catch(o){await ch(e,o)}CE(e)&&xE(e)}function lC(r){return Xs(r)&&r.Ta.length<10}function uC(r,e){r.Ta.push(e);const n=Kr(r);n.O_()&&n.X_&&n.ea(e.mutations)}function CE(r){return Xs(r)&&!Kr(r).x_()&&r.Ta.length>0}function xE(r){Kr(r).start()}async function cC(r){Kr(r).ra()}async function hC(r){const e=Kr(r);for(const n of r.Ta)e.ea(n.mutations)}async function fC(r,e,n){const s=r.Ta.shift(),o=Zp.from(s,e,n);await IE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Oh(r)}async function dC(r,e){e&&Kr(r).X_&&await async function(s,o){if(function(f){return KI(f)&&f!==X.ABORTED}(o.code)){const c=s.Ta.shift();Kr(s).B_(),await IE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Oh(s)}}(r,e),CE(r)&&xE(r)}async function o0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ce(Hs,"RemoteStore received new credentials");const s=Xs(n);n.Ea.add(3),await tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Dh(n)}async function pC(r,e){const n=Se(r);e?(n.Ea.delete(2),await Dh(n)):e||(n.Ea.add(2),await tu(n),n.Ra.set("Unknown"))}function co(r){return r.ma||(r.ma=function(n,s,o){const c=Se(n);return c.sa(),new Z2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:rC.bind(null,r),t_:sC.bind(null,r),r_:aC.bind(null,r),H_:oC.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),lm(r)?om(r):r.Ra.set("Unknown")):(await r.ma.stop(),RE(r))})),r.ma}function Kr(r){return r.fa||(r.fa=function(n,s,o){const c=Se(n);return c.sa(),new J2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cC.bind(null,r),r_:dC.bind(null,r),ta:hC.bind(null,r),na:fC.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Oh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(Hs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,s,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,c){const f=Date.now()+s,p=new um(e,n,f,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cm(r,e){if(er("AsyncQueue",`${e}: ${r}`),uo(r))return new ue(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.ga=new ot(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,c,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,c){const f=[];return n.forEach(p=>{f.push({type:0,doc:p})}),new so(e,n,$a.emptySet(n),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class gC{constructor(){this.queries=u0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),c=o.queries;o.queries=u0(),c.forEach((f,p)=>{for(const g of p.Sa)g.onError(s)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function u0(){return new Ks(r=>YT(r),Sh)}async function DE(r,e){const n=Se(r);let s=3;const o=e.query;let c=n.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new mC,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=cm(f,`Initialization of query '${Fa(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&hm(n)}async function OE(r,e){const n=Se(r),s=e.query;let o=3;const c=n.queries.get(s);if(c){const f=c.Sa.indexOf(e);f>=0&&(c.Sa.splice(f,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yC(r,e){const n=Se(r);let s=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&hm(n)}function _C(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(n);s.queries.delete(e)}function hm(r){r.Ca.forEach(e=>{e.next()})}var bp,c0;(c0=bp||(bp={})).Ma="default",c0.Cache="cache";class NE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.key=e}}class kE{constructor(e){this.key=e}}class vC{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=XT(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new l0,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,w)=>{const C=o.get(T),H=wh(this.query,w)?w:null,j=!!C&&this.mutatedKeys.has(C.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let G=!1;C&&H?C.data.isEqual(H.data)?j!==W&&(s.track({type:3,doc:H}),G=!0):this.su(C,H)||(s.track({type:2,doc:H}),G=!0,(g&&this.eu(H,g)>0||y&&this.eu(H,y)<0)&&(p=!0)):!C&&H?(s.track({type:0,doc:H}),G=!0):C&&!H&&(s.track({type:1,doc:C}),G=!0,(g||y)&&(p=!0)),G&&(H?(f=f.add(H),c=W?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,w)=>function(H,j){const W=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:G})}};return W(H)-W(j)}(T.type,w.type)||this.eu(T.doc,w.doc)),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new so(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new kE(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new ME(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fm="SyncEngine";class TC{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class EC{constructor(e){this.key=e,this.hu=!1}}class AC{constructor(e,n,s,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new Ks(p=>YT(p),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new ot(pe.comparator),this.Au=new Map,this.Ru=new tm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bC(r,e,n=!0){const s=jE(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(s,e,n,!0),o}async function SC(r,e){const n=jE(r);await PE(n,e,!0,!1)}async function PE(r,e,n,s){const o=await F2(r.localStore,ci(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let p;return s&&(p=await wC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&SE(r.remoteStore,o),p}async function wC(r,e,n,s,o){r.pu=(w,C,H)=>async function(W,G,le,se){let oe=G.view.ru(le);oe.Cs&&(oe=await n0(W.localStore,G.query,!1).then(({documents:N})=>G.view.ru(N,oe)));const ne=se&&se.targetChanges.get(G.targetId),te=se&&se.targetMismatches.get(G.targetId)!=null,ye=G.view.applyChanges(oe,W.isPrimaryClient,ne,te);return f0(W,G.targetId,ye.au),ye.snapshot}(r,w,C,H);const c=await n0(r.localStore,e,!0),f=new vC(e,c.Qs),p=f.ru(c.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);f0(r,n,y.au);const T=new TC(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function RC(r,e,n){const s=Se(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(f=>!Sh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&sm(s.remoteStore,o.targetId),Sp(s,o.targetId)}).catch(lo)):(Sp(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function IC(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sm(n.remoteStore,s.targetId))}async function CC(r,e,n){const s=PC(r);try{const o=await function(f,p){const g=Se(f),y=it.now(),T=p.reduce((H,j)=>H.add(j.key),Pe());let w,C;return g.persistence.runTransaction("Locally write mutations","readwrite",H=>{let j=tr(),W=Pe();return g.Ns.getEntries(H,T).next(G=>{j=G,j.forEach((le,se)=>{se.isValidDocument()||(W=W.add(le))})}).next(()=>g.localDocuments.getOverlayedDocuments(H,j)).next(G=>{w=G;const le=[];for(const se of p){const oe=HI(se,w.get(se.key).overlayedDocument);oe!=null&&le.push(new Ys(se.key,oe,qT(oe.value.mapValue),hi.exists(!0)))}return g.mutationQueue.addMutationBatch(H,y,le,p)}).next(G=>{C=G;const le=G.applyToLocalDocumentSet(w,W);return g.documentOverlayCache.saveOverlays(H,G.batchId,le)})}).then(()=>({batchId:C.batchId,changes:ZT(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ot(ke)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await nu(s,o.changes),await Oh(s.remoteStore)}catch(o){const c=cm(o,"Failed to persist write");n.reject(c)}}async function VE(r,e){const n=Se(r);try{const s=await q2(n.localStore,e);e.targetChanges.forEach((o,c)=>{const f=n.Au.get(c);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))}),await nu(n,s,e)}catch(s){await lo(s)}}function h0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((c,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(f,p){const g=Se(f);g.onlineState=p;let y=!1;g.queries.forEach((T,w)=>{for(const C of w.Sa)C.va(p)&&(y=!0)}),y&&hm(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xC(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),c=o&&o.key;if(c){let f=new ot(pe.comparator);f=f.insert(c,Xt.newNoDocument(c,be.min()));const p=Pe().add(c),g=new Ch(be.min(),new Map,new ot(ke),f,p);await VE(s,g),s.du=s.du.remove(c),s.Au.delete(e),dm(s)}else await Ep(s.localStore,e,!1).then(()=>Sp(s,e,n)).catch(lo)}async function DC(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await j2(n.localStore,e);LE(n,s,null),UE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nu(n,o)}catch(o){await lo(o)}}async function OC(r,e,n){const s=Se(r);try{const o=await function(f,p){const g=Se(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next(w=>(Ge(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>g.localDocuments.getDocuments(y,T))})}(s.localStore,e);LE(s,e,n),UE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await nu(s,o)}catch(o){await lo(o)}}function UE(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function LE(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||zE(r,s)})}function zE(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(sm(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),dm(r))}function f0(r,e,n){for(const s of n)s instanceof ME?(r.Ru.addReference(s.key,e),NC(r,s)):s instanceof kE?(ce(fm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||zE(r,s.key)):Te(19791,{wu:s})}function NC(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(fm,"New document in limbo: "+n),r.Eu.add(s),dm(r))}function dm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(nt.fromString(e)),s=r.fu.next();r.Au.set(s,new EC(n)),r.du=r.du.insert(n,s),SE(r.remoteStore,new Ur(ci(Xp(n.path)),s,"TargetPurposeLimboResolution",Eh.ce))}}async function nu(r,e,n){const s=Se(r),o=[],c=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((p,g)=>{f.push(s.pu(g,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=im.As(g.targetId,y);c.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,y){const T=Se(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(y,C=>Z.forEach(C.Es,H=>T.persistence.referenceDelegate.addReference(w,C.targetId,H)).next(()=>Z.forEach(C.ds,H=>T.persistence.referenceDelegate.removeReference(w,C.targetId,H)))))}catch(w){if(!uo(w))throw w;ce(rm,"Failed to update sequence numbers: "+w)}for(const w of y){const C=w.targetId;if(!w.fromCache){const H=T.Ms.get(C),j=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(j);T.Ms=T.Ms.insert(C,W)}}}(s.localStore,c))}async function MC(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ce(fm,"User change. New user:",e.toKey());const s=await TE(n.localStore,e);n.currentUser=e,function(c,f){c.mu.forEach(p=>{p.forEach(g=>{g.reject(new ue(X.CANCELLED,f))})}),c.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nu(n,s.Ls)}}function kC(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function jE(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xC.bind(null,e),e.Pu.H_=yC.bind(null,e.eventManager),e.Pu.yu=_C.bind(null,e.eventManager),e}function PC(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OC.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z2(this.persistence,new V2,e.initialUser,this.serializer)}Cu(e){return new vE(nm.mi,this.serializer)}Du(e){return new Q2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class VC extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof uh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new E2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new vE(s=>uh.mi(s,n),this.serializer)}}class wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>h0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=MC.bind(null,this.syncEngine),await pC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gC}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),s=function(c){return new $2(c)}(e.databaseInfo);return function(c,f,p,g){return new tC(c,f,p,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,c,f,p){return new iC(s,o,c,f,p)}(this.localStore,this.datastore,e.asyncQueue,n=>h0(this.syncEngine,n,0),function(){return s0.v()?new s0:new W2}())}createSyncEngine(e,n){return function(o,c,f,p,g,y,T){const w=new AC(o,c,f,p,g,y);return T&&(w.gu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Se(n);ce(Hs,"RemoteStore shutting down."),s.Ea.add(5),await tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr="FirestoreClient";class UC{constructor(e,n,s,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Yt.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ce(Yr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ce(Yr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=cm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Yr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await TE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function d0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await LC(r);ce(Yr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>o0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>o0(e.remoteStore,o)),r._onlineComponents=e}async function LC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Yr,"Using user provided OfflineComponentProvider");try{await Zd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),await Zd(r,new hh)}}else ce(Yr,"Using default OfflineComponentProvider"),await Zd(r,new VC(void 0));return r._offlineComponents}async function BE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Yr,"Using user provided OnlineComponentProvider"),await d0(r,r._uninitializedComponentsProvider._online)):(ce(Yr,"Using default OnlineComponentProvider"),await d0(r,new wp))),r._onlineComponents}function zC(r){return BE(r).then(e=>e.syncEngine)}async function HE(r){const e=await BE(r),n=e.eventManager;return n.onListen=bC.bind(null,e.syncEngine),n.onUnlisten=RC.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SC.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=IC.bind(null,e.syncEngine),n}function jC(r,e,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,y){const T=new qE({next:C=>{T.Nu(),f.enqueueAndForget(()=>OE(c,w));const H=C.docs.has(p);!H&&C.fromCache?y.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&C.fromCache&&g&&g.source==="server"?y.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new NE(Xp(p.path),T,{includeMetadataChanges:!0,qa:!0});return DE(c,w)}(await HE(r),r.asyncQueue,e,n,s)),s.promise}function qC(r,e,n={}){const s=new $i;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,p,g,y){const T=new qE({next:C=>{T.Nu(),f.enqueueAndForget(()=>OE(c,w)),C.fromCache&&g.source==="server"?y.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new NE(p,T,{includeMetadataChanges:!0,qa:!0});return DE(c,w)}(await HE(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firestore.googleapis.com",m0=!0;class g0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GE,this.ssl=m0}else this.host=e.host,this.ssl=e.ssl??m0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QR;switch(s.type){case"firstParty":return new XR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=p0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),p0.delete(n),s.terminate())}(this),Promise.resolve()}}function BC(r,e,n,s={}){r=Hr(r,Nh);const o=Fs(e),c=r._getSettings(),f={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(Dp(`https://${p}`),Op("Firestore",!0)),c.host!==GE&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!Ls(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Yt.MOCK_USER;else{y=V0(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Yt(w)}r._authCredentials=new WR(new xT(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ho(this.firestore,e,this._query)}}class At{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if($l(n,At._jsonSchema))return new At(e,s||null,new pe(nt.fromString(n.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Et("string",At._jsonSchemaVersion),referencePath:Et("string")};class qr extends ho{constructor(e,n,s){super(e,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new pe(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function Fc(r,e,...n){if(r=Ht(r),DT("collection","path",e),r instanceof Nh){const s=nt.fromString(e,...n);return xv(s),new qr(r,null,s)}{if(!(r instanceof At||r instanceof qr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return xv(s),new qr(r.firestore,null,s)}}function Gc(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=Fp.newId()),DT("doc","path",e),r instanceof Nh){const s=nt.fromString(e,...n);return Cv(s),new At(r,null,new pe(s))}{if(!(r instanceof At||r instanceof qr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return Cv(s),new At(r.firestore,r instanceof qr?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="AsyncQueue";class _0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AE(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&ce(y0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uo(e))throw e;ce(y0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",v0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=um.createAndSchedule(this,e,n,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:v0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function v0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class iu extends Nh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new _0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _0(e),this._firestoreClient=void 0,await e}}}function HC(r,e){const n=typeof r=="object"?r:kp(),s=typeof r=="string"?r:ih,o=gh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=M0("firestore");c&&BC(o,...c)}return o}function pm(r){if(r._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FC(r),r._firestoreClient}function FC(r){const e=r._freezeSettings(),n=function(o,c,f,p){return new dI(o,c,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new UC(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ft.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($l(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Et("string",On._jsonSchemaVersion),bytes:Et("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if($l(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Et("string",di._jsonSchemaVersion),latitude:Et("number"),longitude:Et("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($l(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pi(e.vectorValues);throw new ue(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Et("string",pi._jsonSchemaVersion),vectorValues:Et("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=/^__.*__$/;class QC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}function QE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class ym{constructor(e,n,s,o,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ym({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QE(this.Ac)&&GC.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WC{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xh(e)}Cc(e,n,s,o=!1){return new ym({Ac:e,methodName:n,Dc:s,path:Bt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _m(r){const e=r._freezeSettings(),n=xh(r._databaseId);return new WC(r._databaseId,!!e.ignoreUndefinedProperties,n)}function WE(r,e,n,s,o,c={}){const f=r.Cc(c.merge||c.mergeFields?2:0,e,n,o);XE("Data must be an object, but it was:",f,s);const p=KE(s,f);let g,y;if(c.merge)g=new zn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const C=YC(e,w,n);if(!f.contains(C))throw new ue(X.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);$C(T,C)||T.push(C)}g=new zn(T),y=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=f.fieldTransforms;return new QC(new Dn(p),g,y)}class vm extends gm{_toFieldTransform(e){return new zI(e.path,new ql)}isEqual(e){return e instanceof vm}}function KC(r,e,n,s=!1){return Tm(n,r.Cc(s?4:3,e))}function Tm(r,e){if(YE(r=Ht(r)))return XE("Unsupported field value:",e,r),KE(r,e);if(r instanceof gm)return function(s,o){if(!QE(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const p of s){let g=Tm(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=it.fromDate(s);return{timestampValue:lh(o.serializer,c)}}if(s instanceof it){const c=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(s instanceof di)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:hE(o.serializer,s._byteString)};if(s instanceof At){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:em(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pi)return function(f,p){return{mapValue:{fields:{[zT]:{stringValue:jT},[rh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return $p(p.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Th(s)}`)}(r,e)}function KE(r,e){const n={};return MT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,(s,o)=>{const c=Tm(o,e.mc(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function YE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof di||r instanceof On||r instanceof At||r instanceof gm||r instanceof pi)}function XE(r,e,n){if(!YE(n)||!OT(n)){const s=Th(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function YC(r,e,n){if((e=Ht(e))instanceof mm)return e._internalPath;if(typeof e=="string")return $E(r,e);throw fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const XC=new RegExp("[~\\*/\\[\\]]");function $E(r,e,n){if(e.search(XC)>=0)throw fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mm(...e.split("."))._internalPath}catch{throw fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function fh(r,e,n,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(X.INVALID_ARGUMENT,p+r+g)}function $C(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,s,o,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZC extends ZE{data(){return super.data()}}function Em(r,e){return typeof e=="string"?$E(r,e):e instanceof mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Am{}class ex extends Am{}function Rp(r,e,...n){let s=[];e instanceof Am&&s.push(e),s=s.concat(n),function(c){const f=c.filter(g=>g instanceof bm).length,p=c.filter(g=>g instanceof Mh).length;if(f>1||f>0&&p>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Mh extends ex{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Mh(e,n,s)}_apply(e){const n=this._parse(e);return eA(e._query,n),new ho(e.firestore,e.converter,mp(e._query,n))}_parse(e){const n=_m(e.firestore);return function(c,f,p,g,y,T,w){let C;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){E0(w,T);const j=[];for(const W of w)j.push(T0(g,c,W));C={arrayValue:{values:j}}}else C=T0(g,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||E0(w,T),C=KC(p,f,w,T==="in"||T==="not-in");return Tt.create(y,T,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JE(r,e,n){const s=e,o=Em("where",r);return Mh._create(o,s,n)}class bm extends Am{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bm(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,c){let f=o;const p=c.getFlattenedFilters();for(const g of p)eA(f,g),f=mp(f,g)}(e._query,n),new ho(e.firestore,e.converter,mp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function T0(r,e,n){if(typeof(n=Ht(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KT(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!pe.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Uv(r,new pe(s))}if(n instanceof At)return Uv(r,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Th(n)}.`)}function E0(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eA(r,e){const n=function(o,c){for(const f of o)for(const p of f.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tx{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,(o,c)=>{s[o]=this.convertValue(c,n)}),s}convertVectorValue(e){const n=e.fields?.[rh].arrayValue?.values?.map(s=>pt(s.doubleValue));return new pi(n)}convertGeoPoint(e){return new di(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ge(yE(s),9688,{name:e});const o=new zl(s.get(1),s.get(3)),c=new pe(s.popFirst(5));return o.isEqual(n)||er(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Cl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Us extends ZE{constructor(e,n,s,o,c,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Em("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Us._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Us._jsonSchemaVersion="firestore/documentSnapshot/1.0",Us._jsonSchema={type:Et("string",Us._jsonSchemaVersion),bundleSource:Et("string","DocumentSnapshot"),bundleName:Et("string"),bundle:Et("string")};class Qc extends Us{data(e={}){return super.data(e)}}class Za{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Cl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new Cl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(p=>{const g=new Qc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Qc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Cl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:nx(p.type),doc:g,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Za._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function nx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(r){r=Hr(r,At);const e=Hr(r.firestore,iu);return jC(pm(e),r._key).then(n=>sx(e,r,n))}Za._jsonSchemaVersion="firestore/querySnapshot/1.0",Za._jsonSchema={type:Et("string",Za._jsonSchemaVersion),bundleSource:Et("string","QuerySnapshot"),bundleName:Et("string"),bundle:Et("string")};class nA extends tx{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,n)}}function Ip(r){r=Hr(r,ho);const e=Hr(r.firestore,iu),n=pm(e),s=new nA(e);return JC(r._query),qC(n,r._query).then(o=>new Za(e,s,r,o))}function A0(r,e,n){r=Hr(r,At);const s=Hr(r.firestore,iu),o=tA(r.converter,e,n);return iA(s,[WE(_m(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,hi.none())])}function rx(r,e){const n=Hr(r.firestore,iu),s=Gc(r),o=tA(r.converter,e);return iA(n,[WE(_m(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,hi.exists(!1))]).then(()=>s)}function iA(r,e){return function(s,o){const c=new $i;return s.asyncQueue.enqueueAndForget(async()=>CC(await zC(s),o,c)),c.promise}(pm(r),e)}function sx(r,e,n){const s=n.docs.get(e._key),o=new nA(r);return new Us(r,o,e._key,s,new Cl(n.hasPendingWrites,n.fromCache),e.converter)}function ax(){return new vm("serverTimestamp")}(function(e,n=!0){(function(o){oo=o})(Gs),zs(new Br("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),p=new iu(new KR(s.getProvider("auth-internal")),new $R(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,T)}(f,o),f);return c={useFetchStreams:n,...c},p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),oi(Sv,wv,e),oi(Sv,wv,"esm2020")})();var ox="firebase",lx="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(ox,lx,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="firebasestorage.googleapis.com",ux="storageBucket",cx=120*1e3,hx=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends yi{constructor(e,n,s=0){super(Jd(e),`Firebase Storage: ${n} (${Jd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_i.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Jd(r){return"storage/"+r}function fx(){const r="An unknown error occurred, please check the error payload for server response.";return new _i(gi.UNKNOWN,r)}function dx(){return new _i(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function px(){return new _i(gi.CANCELED,"User canceled the upload/download.")}function mx(r){return new _i(gi.INVALID_URL,"Invalid URL '"+r+"'.")}function gx(r){return new _i(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function b0(r){return new _i(gi.INVALID_ARGUMENT,r)}function sA(){return new _i(gi.APP_DELETED,"The Firebase app was deleted.")}function yx(r){return new _i(gi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=jn.makeFromUrl(e,n)}catch{return new jn(e,"")}if(s.path==="")return s;throw gx(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(ne){ne.path.charAt(ne.path.length-1)==="/"&&(ne.path_=ne.path_.slice(0,-1))}const f="(/(.*))?$",p=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(ne){ne.path_=decodeURIComponent(ne.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",H=new RegExp(`^https?://${w}/${T}/b/${o}/o${C}`,"i"),j={bucket:1,path:3},W=n===rA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,G="([^?#]*)",le=new RegExp(`^https?://${W}/${o}/${G}`,"i"),oe=[{regex:p,indices:g,postModify:c},{regex:H,indices:j,postModify:y},{regex:le,indices:{bucket:1,path:2},postModify:y}];for(let ne=0;ne<oe.length;ne++){const te=oe[ne],ye=te.regex.exec(e);if(ye){const N=ye[te.indices.bucket];let S=ye[te.indices.path];S||(S=""),s=new jn(N,S),te.postModify(s);break}}if(s==null)throw mx(e);return s}}class _x{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(r,e,n){let s=1,o=null,c=null,f=!1,p=0;function g(){return p===2}let y=!1;function T(...G){y||(y=!0,e.apply(null,G))}function w(G){o=setTimeout(()=>{o=null,r(H,g())},G)}function C(){c&&clearTimeout(c)}function H(G,...le){if(y){C();return}if(G){C(),T.call(null,G,...le);return}if(g()||f){C(),T.call(null,G,...le);return}s<64&&(s*=2);let oe;p===1?(p=2,oe=0):oe=(s+Math.random())*1e3,w(oe)}let j=!1;function W(G){j||(j=!0,C(),!y&&(o!==null?(G||(p=2),clearTimeout(o),w(0)):G||(p=1)))}return w(0),c=setTimeout(()=>{f=!0,W(!0)},n),W}function Tx(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(r){return r!==void 0}function S0(r,e,n,s){if(s<e)throw b0(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw b0(`Invalid value for '${r}'. Expected ${n} or less.`)}function Ax(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var dh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(dh||(dh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n,s,o,c,f,p,g,y,T,w,C=!0,H=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=w,this.retry=C,this.isUsingEmulator=H,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,W)=>{this.resolve_=j,this.reject_=W,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new kc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const p=c.getErrorCode()===dh.NO_ERROR,g=c.getStatus();if(!p||bx(g,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===dh.ABORT;s(!1,new kc(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new kc(y,c))})},n=(s,o)=>{const c=this.resolve_,f=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Ex(g)?c(g):c()}catch(g){f(g)}else if(p!==null){const g=fx();g.serverResponse=p.getErrorText(),this.errorCallback_?f(this.errorCallback_(p,g)):f(g)}else if(o.canceled){const g=this.appDelete_?sA():px();f(g)}else{const g=dx();f(g)}};this.canceled_?n(!1,new kc(!1,null,!0)):this.backoffId_=vx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function wx(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Rx(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Ix(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Cx(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function xx(r,e,n,s,o,c,f=!0,p=!1){const g=Ax(r.urlParams),y=r.url+g,T=Object.assign({},r.headers);return Ix(T,e),wx(T,n),Rx(T,c),Cx(T,s),new Sx(y,r.method,T,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Ox(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this._service=e,n instanceof jn?this._location=n:this._location=jn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ph(e,n)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ox(this._location.path)}get storage(){return this._service}get parent(){const e=Dx(this._location.path);if(e===null)return null;const n=new jn(this._location.bucket,e);return new ph(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yx(e)}}function w0(r,e){const n=e?.[ux];return n==null?null:jn.makeFromBucketSpec(n,r)}function Nx(r,e,n,s={}){r.host=`${e}:${n}`;const o=Fs(e);o&&(Dp(`https://${r.host}/b`),Op("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:V0(c,r.app.options.projectId))}class Mx{constructor(e,n,s,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=rA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cx,this._maxUploadRetryTime=hx,this._requests=new Set,o!=null?this._bucket=jn.makeFromBucketSpec(o,this._host):this._bucket=w0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=w0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ph(this,e)}_makeRequest(e,n,s,o,c=!0){if(this._deleted)return new _x(sA());{const f=xx(e,this._appId,s,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const R0="@firebase/storage",I0="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="storage";function kx(r=kp(),e){r=Ht(r);const s=gh(r,aA).getImmediate({identifier:e}),o=M0("storage");return o&&Px(s,...o),s}function Px(r,e,n,s={}){Nx(r,e,n,s)}function Vx(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Mx(n,s,o,e,Gs)}function Ux(){zs(new Br(aA,Vx,"PUBLIC").setMultipleInstances(!0)),oi(R0,I0,""),oi(R0,I0,"esm2020")}Ux();const Ps={apiKey:"AIzaSyAXym88G3jnv3tI4suKKfbUTBEHhlqqhDE",authDomain:"csc227-a7932.firebaseapp.com",projectId:"csc227-a7932",storageBucket:"csc227-a7932.firebasestorage.app",messagingSenderId:"863563068320",appId:"1:863563068320:web:97d3c2125438aa524daac5",measurementId:"G-GG61Y602H3"};console.log("🔥 Initializing Firebase with config:",{apiKey:Ps.apiKey?"✓ Present":"✗ Missing",authDomain:Ps.authDomain,projectId:Ps.projectId,storageBucket:Ps.storageBucket,messagingSenderId:Ps.messagingSenderId,appId:Ps.appId?"✓ Present":"✗ Missing"});console.log("🚀 Creating Firebase app...");const Sm=z0(Ps);console.log("✅ Firebase app created successfully");console.log("🔧 Initializing Firebase services...");const Qi=FR(Sm),Yi=HC(Sm);kx(Sm);console.log("✅ All Firebase services initialized successfully");console.log("Auth instance:",Qi);console.log("Firestore instance:",Yi);console.log("✅ Firebase initialized successfully!");const wm=Object.freeze(Object.defineProperty({__proto__:null,auth:Qi,db:Yi},Symbol.toStringTag,{value:"Module"})),Cp=[{matricNumber:"24242424",name:"Administrator",password:"Admin@12345"},{matricNumber:"210808507",name:"OKAFOREZEUDU CHIDUBEM LINUS",password:"y8j0xlia"},{matricNumber:"230816001",name:"Sheu Matinat Ayomikun",password:"c8646wea"},{matricNumber:"230816003",name:"Etuk Daniel Ayomide",password:"eyd96xjp"},{matricNumber:"230816004",name:"Igbowu Feyipitan Oyindamola",password:"shel0yts"},{matricNumber:"230816005",name:"OYEDELE TAIWO AKOREDE",password:"fhgiwh4w"},{matricNumber:"230816007",name:"CHUKS VICTOR EKENEIRICHUKWU",password:"aykr9794"},{matricNumber:"230816007",name:"CHINEDU CHIDI VICTOR",password:"n7an4h29"},{matricNumber:"230816009",name:"LAMIDI RIWLAN OJADIPUPO",password:"dxn109vy"},{matricNumber:"230816010",name:"OYEDELE KEHINDE AKOLADE",password:"75ouaxod"},{matricNumber:"230816011",name:"ALABI IROMI NOKEEB",password:"c5yzwxo8"},{matricNumber:"230816012",name:"ADEJUMO BEAUTY ADESUWA",password:"ebygbg06"},{matricNumber:"230816013",name:"KUYE ISAAC SEMILORE",password:"ximxw15y"},{matricNumber:"230816014",name:"Iorbee Terfa Mathias",password:"7y5oeiyj"},{matricNumber:"230816015",name:"Olayanju David Oluwaseun",password:"debec7no"},{matricNumber:"230816016",name:"OGAZIE IFEANYI VICTOR",password:"4iwueoaq"},{matricNumber:"230816017",name:"AKINYEMI KAYINNSOLA HAMAH",password:"ijgcj1m3"},{matricNumber:"230816020",name:"OGBUGHI HENRY CHIBUZOR",password:"lw5m6pif"},{matricNumber:"230816022",name:"AKINGBADE JEREMIAH AJIBOLA",password:"tizyax1m"},{matricNumber:"230816024",name:"NZENNAYA VICTORY SOMTOCHUKWU",password:"cea0y4v9"},{matricNumber:"230816027",name:"Akinwunmi Samuel Akinpelumi",password:"vzcepokm"},{matricNumber:"230816029",name:"Ohakwe Queenmary Onyiye",password:"x5lv95m4"},{matricNumber:"230816030",name:"ODIGIE LOUISA BERTRAND",password:"56p5rjuj"},{matricNumber:"230816032",name:"ABOKU JOSEPH YWEMAWE",password:"24hef98k"},{matricNumber:"230816033",name:"ABDUL-AZEEZ OLUWATONMISE R",password:"b5mwe9xn"},{matricNumber:"230816035",name:"Uwalaka Elvis Cephas",password:"5k2w88yf"},{matricNumber:"230816036",name:"LAKENHINDE BOLUWATIFE ELIJAH",password:"drp3qx2e"},{matricNumber:"230816038",name:"AKANNI FATHIA ABIKE",password:"s43klny7"},{matricNumber:"230816039",name:"Oladipupo Ayobami Sharafadeen",password:"acrpnx49"},{matricNumber:"230816041",name:"Akojopiju Great Ovoche",password:"u7zrfatc"},{matricNumber:"230816042",name:"COSMOS ALFRED IKENNA",password:"rhn1tyyx"},{matricNumber:"230816043",name:"PAULINUS PRECIOUS EFFIONG",password:"5uk1cb1l"},{matricNumber:"230816047",name:"Joseph Benjamin Usen",password:"mmftz1xt"},{matricNumber:"230816048",name:"IGBAFEN GEORGE OHIMAI",password:"lrfhhxmw"},{matricNumber:"230816049",name:"DUDUSI JEREMIAH ADEGORIOLA",password:"gxkwoau3"},{matricNumber:"230816052",name:"AJULU JAMES",password:"ymr64ize"},{matricNumber:"230816053",name:"OYINLOLA HEAVEN-ON-EARTH O",password:"lq1edr9i"},{matricNumber:"230816054",name:"Olanrewaju Joshua Philip",password:"jtoqwcgt"},{matricNumber:"230816055",name:"MOMOH EBENEZER OLUWAFIKAYOMI",password:"h6qz1zme"},{matricNumber:"230816057",name:"ADARANJOLO AMINAT OLUWATOMISIN",password:"ulfs2ns6"}],Lx=Object.freeze(Object.defineProperty({__proto__:null,default:Cp},Symbol.toStringTag,{value:"Module"}));class zx{matricToEmail(e){return`${e.toLowerCase().replace(/\//g,"-")}@student.edu`}findLocalStudent(e,n){return Cp.find(s=>s.matricNumber===e&&s.password===n)}async studentExistsInFirebase(e){try{const n=Fc(Yi,"students"),s=Rp(n,JE("matricNumber","==",e));return!(await Ip(s)).empty}catch(n){return console.error("Error checking if student exists:",n),!1}}async migrateStudentToFirebase(e,n){try{const s=this.matricToEmail(e);console.log(`🚀 Migrating student ${e} to Firebase...`);const c=(await R1(Qi,s,n)).user;await x1(c,{displayName:e}),console.log(`✅ Created Firebase Auth user for ${e}`);const f={matricNumber:e,email:s,fullName:e,createdAt:new Date().toISOString(),lastLoginAt:new Date().toISOString(),isActive:!0,migratedFromLocal:!0};return await A0(Gc(Yi,"students",c.uid),f),console.log(`📝 Created Firestore profile for ${e}`),console.log(`✅ Successfully migrated ${e}`),{user:c,error:null}}catch(s){return console.error(`❌ Failed to migrate ${e}:`,s),{user:null,error:s.message}}}async login(e,n){try{if(console.log(`🔑 Attempting login for ${e}`),!this.findLocalStudent(e,n))return console.log(`❌ ${e} not found in local students data`),{user:null,error:"Invalid matric number or password"};console.log(`✅ ${e} validated against local data`);const o=this.matricToEmail(e);console.log(`📧 Using email: ${o}`);try{console.log(`🔥 Attempting Firebase signin for ${o}`);const f=(await I1(Qi,o,n)).user,p=Gc(Yi,"students",f.uid);return await A0(p,{lastLoginAt:new Date().toISOString()},{merge:!0}),console.log(`📝 Updated last login time for ${e}`),console.log(`✅ ${e} logged in successfully via existing Firebase account`),{user:f,error:null}}catch(c){if(console.log(`⚠️ Firebase signin failed for ${o}:`,c.code),c.code==="auth/user-not-found"||c.code==="auth/invalid-credential"||c.code==="auth/invalid-login-credentials"||c.code==="auth/wrong-password")return console.log(`🔄 Auto-migrating ${e} to Firebase...`),await this.migrateStudentToFirebase(e,n);if(c.code==="auth/configuration-not-found")return console.error("❌ Firebase configuration error:",c),{user:null,error:"Firebase configuration error. Please check Firebase project setup."};throw c}}catch(s){return console.error("❌ Login error:",s),{user:null,error:`Login failed: ${s.message}`}}}async logout(){try{return await M1(Qi),{error:null}}catch(e){return console.error("Logout error:",e),{error:e.message}}}async getCurrentUserProfile(){try{const e=Qi.currentUser;if(!e)return{profile:null,error:"No user logged in"};const n=await ix(Gc(Yi,"students",e.uid));return n.exists()?{profile:{id:e.uid,...n.data()},error:null}:{profile:null,error:"Student profile not found in Firestore"}}catch(e){return console.error("Error getting user profile from Firestore:",e),{profile:null,error:e.message}}}onAuthStateChange(e){return console.log("🔗 Setting up Firebase onAuthStateChanged listener"),N1(Qi,s=>{console.log("🔥 Firebase onAuthStateChanged fired:",s?`${s.displayName} (${s.uid})`:"null"),e(s)})}async migrateAllStudents(){console.log("🚀 Starting bulk migration of all students...");const e=[];for(const o of Cp)if(await this.studentExistsInFirebase(o.matricNumber))console.log(`⏭️  ${o.matricNumber} already exists in Firebase`);else{const f=await this.migrateStudentToFirebase(o.matricNumber,o.password);e.push({matricNumber:o.matricNumber,success:!f.error}),await new Promise(p=>setTimeout(p,500))}const n=e.filter(o=>o.success).length,s=e.length;return console.log(`✅ Migration complete: ${n}/${s} students migrated`),e}}const Fl=new zx;function jx(){const[r,e]=He.useState(""),[n,s]=He.useState(""),[o,c]=He.useState(!1),[f,p]=He.useState(""),[g,y]=He.useState(!1),[T,w]=He.useState(""),[C,H]=He.useState(!1),j=async W=>{W.preventDefault(),y(!0),p("");try{await new Promise(le=>setTimeout(le,800));const{error:G}=await Fl.login(r,n);if(G)p(G);else{await new Promise(oe=>setTimeout(oe,1e3));const{auth:le}=await Gi(async()=>{const{auth:oe}=await Promise.resolve().then(()=>wm);return{auth:oe}},void 0);le.currentUser?setTimeout(()=>{window.location.pathname==="/"&&window.location.reload()},2e3):p("Authentication state not updated. Please try refreshing the page.")}}catch(G){p(`Login failed: ${G.message}`)}y(!1)};return x.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},children:[x.jsxs("div",{style:{backgroundColor:"white",padding:"48px",borderRadius:"20px",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.1)",width:"100%",maxWidth:"400px",position:"relative",overflow:"hidden"},children:[x.jsx("div",{style:{position:"absolute",top:"-50%",right:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, rgba(102, 126, 234, 0.05) 0%, rgba(118, 75, 162, 0.05) 100%)",borderRadius:"50%",zIndex:0}}),x.jsxs("div",{style:{position:"relative",zIndex:1},children:[x.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"50%",width:"80px",height:"80px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto",color:"white"},children:"🎓"}),x.jsx("h1",{style:{margin:"0 0 8px 0",color:"#2d3748",fontSize:"28px",fontWeight:"700"},children:"CSC 227: PRACTISE QUESTIONS WITH EXPLANATION"}),x.jsx("p",{style:{margin:"0",color:"#718096",fontSize:"16px"},children:"Login to access your Dashboard"})]}),x.jsxs("form",{onSubmit:j,children:[x.jsxs("div",{style:{marginBottom:"24px"},children:[x.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#4a5568",fontSize:"14px",fontWeight:"600",letterSpacing:"0.5px"},children:"MATRIC NUMBER"}),x.jsx("input",{type:"text",value:r,onChange:W=>e(W.target.value),placeholder:"240816299",required:!0,style:{width:"100%",padding:"14px 16px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",color:"#2d3748",backgroundColor:"#f8fafc",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:W=>{W.target.style.borderColor="#667eea",W.target.style.backgroundColor="#ffffff",W.target.style.boxShadow="0 0 0 3px rgba(102, 126, 234, 0.1)"},onBlur:W=>{W.target.style.borderColor="#e2e8f0",W.target.style.backgroundColor="#f8fafc",W.target.style.boxShadow="none"}})]}),x.jsxs("div",{style:{marginBottom:"24px"},children:[x.jsx("label",{style:{display:"block",marginBottom:"8px",color:"#4a5568",fontSize:"14px",fontWeight:"600",letterSpacing:"0.5px"},children:"PASSWORD"}),x.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[x.jsx("input",{type:o?"text":"password",value:n,onChange:W=>s(W.target.value),placeholder:"Enter your password",required:!0,style:{width:"100%",padding:"14px 44px 14px 16px",border:"2px solid #e2e8f0",borderRadius:"12px",fontSize:"16px",color:"#2d3748",backgroundColor:"#f8fafc",transition:"all 0.3s ease",outline:"none",boxSizing:"border-box"},onFocus:W=>{W.target.style.borderColor="#667eea",W.target.style.backgroundColor="#ffffff",W.target.style.boxShadow="0 0 0 3px rgba(102, 126, 234, 0.1)"},onBlur:W=>{W.target.style.borderColor="#e2e8f0",W.target.style.backgroundColor="#f8fafc",W.target.style.boxShadow="none"}}),x.jsx("button",{type:"button",onClick:()=>c(!o),style:{position:"absolute",right:"16px",background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#667eea"},tabIndex:-1,children:o?"🙈":"👁️"})]})]}),f&&x.jsxs("div",{style:{backgroundColor:"#fed7d7",color:"#c53030",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",fontSize:"14px",fontWeight:"500",border:"1px solid #feb2b2",textAlign:"center"},children:["❌ ",f]}),x.jsx("button",{type:"submit",disabled:g,style:{width:"100%",padding:"16px",background:g?"linear-gradient(135deg, #a0aec0 0%, #718096 100%)":"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:g?"not-allowed":"pointer",transition:"all 0.3s ease",transform:"translateY(0)",boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)",letterSpacing:"0.5px"},onMouseEnter:W=>{g||(W.currentTarget.style.transform="translateY(-2px)",W.currentTarget.style.boxShadow="0 8px 20px rgba(102, 126, 234, 0.4)")},onMouseLeave:W=>{g||(W.currentTarget.style.transform="translateY(0)",W.currentTarget.style.boxShadow="0 4px 12px rgba(102, 126, 234, 0.3)")},children:g?x.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[x.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"8px"}}),"Logging in..."]}):x.jsx(x.Fragment,{children:"🚀 Login to Dashboard"})})]})]})]}),x.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})}const qx=(r,e,n)=>{const s=r[e];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},oA=[{question:"Which of the following best defines computer software?",options:["The physical parts of a computer","A collection of programs that directs computer operations","The internet and its resources","Removable storage media"],correctAnswer:"A collection of programs that directs computer operations",rationale:"Software is a set of instructions/programs that enable hardware to perform tasks."},{question:"Which of these is system software?",options:["Word Processor","Spreadsheet","Operating System","Web Browser"],correctAnswer:"Operating System",rationale:"System software manages hardware and provides a platform for application software."},{question:"Which is an example of application software?",options:["Windows","Linux","MS Word","BIOS"],correctAnswer:"MS Word",rationale:"MS Word is designed for word processing, making it application software."},{question:"The software permanently stored in ROM is called:",options:["BIOS","Compiler","Interpreter","Assembler"],correctAnswer:"BIOS",rationale:"BIOS is firmware stored in ROM that initializes hardware during boot."},{question:"Which software allows multiple programs to run at the same time?",options:["Utility software","Operating system","Application software","Middleware"],correctAnswer:"Operating system",rationale:"Operating systems manage multitasking and process scheduling."},{question:"Utility programs are designed to:",options:["Perform general computing tasks","Develop software","Perform hardware repairs","Control the internet"],correctAnswer:"Perform general computing tasks",rationale:"Utilities perform specific maintenance tasks such as file management and virus scanning."},{question:"Which of the following is NOT an example of application software?",options:["MS Excel","Google Chrome","Antivirus","Windows 11"],correctAnswer:"Windows 11",rationale:"Windows 11 is an operating system, which is system software, not application software."},{question:"Which type of software translates one line of code at a time?",options:["Compiler","Interpreter","Assembler","Loader"],correctAnswer:"Interpreter",rationale:"An interpreter executes high-level code line by line."},{question:"Software that detects and removes malicious programs is:",options:["Firewall","Antivirus","Compiler","Utility"],correctAnswer:"Antivirus",rationale:"Antivirus software protects against, detects, and removes malware."},{question:"Which of the following is proprietary software?",options:["Linux","LibreOffice","MS Office","Apache"],correctAnswer:"MS Office",rationale:"MS Office is commercial software with restricted source code."},{question:"Firmware is best described as:",options:["Temporary application code","Software stored on hardware chips","Network communication software","Cloud-based programs"],correctAnswer:"Software stored on hardware chips",rationale:"Firmware is software embedded in hardware devices to control operations."},{question:"Which is an example of utility software?",options:["Spreadsheet","Disk Cleanup","Compiler","BIOS"],correctAnswer:"Disk Cleanup",rationale:"Disk Cleanup helps manage storage space, making it utility software."},{question:"What type of software is Google Chrome?",options:["Application software","System software","Utility software","Firmware"],correctAnswer:"Application software",rationale:"Chrome is an application software designed for web browsing."},{question:"Which of the following is the primary function of system software?",options:["To entertain users","To manage hardware and provide platform for apps","To store user documents","To browse the internet"],correctAnswer:"To manage hardware and provide platform for apps",rationale:"System software ensures proper coordination between hardware and software."},{question:"Software updates are important because they:",options:["Make hardware faster","Add new features and fix bugs","Delete old files automatically","Change the computer brand"],correctAnswer:"Add new features and fix bugs",rationale:"Updates improve security, performance, and functionality."},{question:"Which type of software is specifically designed to solve user problems?",options:["Application software","System software","Utility software","Firmware"],correctAnswer:"Application software",rationale:"Application software directly helps users perform tasks such as writing, browsing, or calculating."}],Bx=Object.freeze(Object.defineProperty({__proto__:null,default:oA},Symbol.toStringTag,{value:"Module"})),lA=[{question:"Which of the following best defines Microsoft Access?",options:["A word processing application","A database management system (DBMS)","A spreadsheet program","An operating system"],correctAnswer:"A database management system (DBMS)",rationale:"Microsoft Access is a relational database management system used to store, manage, and analyze data."},{question:"What is a table in Microsoft Access?",options:["A collection of related data organized in rows and columns","A tool for making charts","A text editing space","A set of hyperlinks to web pages"],correctAnswer:"A collection of related data organized in rows and columns",rationale:"Tables in Access store data in a structured form using fields (columns) and records (rows)."},{question:"In Access, a record is defined as:",options:["A single piece of data","A complete set of related fields describing one item","A command used in queries","A backup copy of a database"],correctAnswer:"A complete set of related fields describing one item",rationale:"A record represents all information about one entity in a table, e.g., a student’s full details."},{question:"Which of the following is true about a primary key in Access?",options:["It must be unique for each record","It can have duplicate values","It is always a number","It cannot be changed once set"],correctAnswer:"It must be unique for each record",rationale:"The primary key uniquely identifies each record in a table to avoid duplication."},{question:"Which object in Access is used to retrieve specific data based on criteria?",options:["Tables","Forms","Queries","Reports"],correctAnswer:"Queries",rationale:"Queries allow users to filter, sort, and retrieve specific data from one or more tables."},{question:"Which Access object is primarily used to present data in a printed format?",options:["Forms","Reports","Tables","Macros"],correctAnswer:"Reports",rationale:"Reports are used to format, summarize, and present data for printing and professional presentation."},{question:"Which Access object allows easy data entry for end users?",options:["Forms","Reports","Queries","Tables"],correctAnswer:"Forms",rationale:"Forms provide a user-friendly interface for entering, editing, and viewing records."},{question:"What is the relationship in Microsoft Access?",options:["A link between two or more tables","A backup copy of the database","An Access form design","A type of query"],correctAnswer:"A link between two or more tables",rationale:"Relationships define how tables connect and share data through common fields."},{question:"In Access, what is a foreign key?",options:["A key used to secure a database","A field in one table that refers to a primary key in another table","A duplicate copy of the primary key","A system-generated ID"],correctAnswer:"A field in one table that refers to a primary key in another table",rationale:"Foreign keys maintain referential integrity between related tables."},{question:"Which of the following is an advantage of using Access?",options:["It automatically generates computer code","It provides relational database features with a user-friendly interface","It only works online","It requires programming knowledge to use"],correctAnswer:"It provides relational database features with a user-friendly interface",rationale:"Access combines relational database management with a simple interface suitable for beginners."},{question:"Which of these file extensions belongs to Microsoft Access databases?",options:[".docx",".mdb",".xlsx",".pptx"],correctAnswer:".mdb",rationale:"Older Access files use the .mdb extension, while newer versions use .accdb."},{question:"Which of the following is NOT an object in Access?",options:["Table","Query","Report","Spreadsheet"],correctAnswer:"Spreadsheet",rationale:"Access objects include tables, queries, forms, reports, and macros, but not spreadsheets."}],Hx=Object.freeze(Object.defineProperty({__proto__:null,default:lA},Symbol.toStringTag,{value:"Module"})),uA=JSON.parse('[{"question":"Which of the following best defines an Information System?","options":["A collection of unrelated programs","A set of people, processes, and technology that manage and process information","A single computer used for gaming","Only the hardware components of a computer"],"correctAnswer":"A set of people, processes, and technology that manage and process information","rationale":"An Information System integrates people, technology, and processes to collect, store, and distribute information."},{"question":"Which of the following is NOT a component of an Information System?","options":["Hardware","Software","Data","Electric current"],"correctAnswer":"Electric current","rationale":"The five main components of an IS are hardware, software, data, people, and processes."},{"question":"Data becomes information when:","options":["It is stored on a hard disk","It is processed and given meaning","It is printed on paper","It is collected randomly"],"correctAnswer":"It is processed and given meaning","rationale":"Information is data that has been processed to be meaningful and useful."},{"question":"Which of the following is an example of an Information System?","options":["Payroll system","Electric generator","Keyboard","Printer"],"correctAnswer":"Payroll system","rationale":"A payroll system processes employee data to generate salary information, making it an IS."},{"question":"The people who use an information system to make decisions are called:","options":["Hackers","End-users","Processors","Technicians"],"correctAnswer":"End-users","rationale":"End-users interact with the system to retrieve and apply information for decision-making."},{"question":"Which of the following is the main purpose of an Information System?","options":["To generate electricity","To process data into useful information","To increase file size","To repair hardware"],"correctAnswer":"To process data into useful information","rationale":"The primary goal of an IS is to transform raw data into meaningful information."},{"question":"Which of the following is an example of transaction processing system?","options":["ATM banking system","Decision support system","Spreadsheet software","Video game"],"correctAnswer":"ATM banking system","rationale":"ATMs are transaction processing systems that handle deposits, withdrawals, and balance checks."},{"question":"Decision Support Systems are designed to:","options":["Enter payroll data","Support managers in decision-making","Repair computer hardware","Store raw data"],"correctAnswer":"Support managers in decision-making","rationale":"Decision Support Systems (DSS) help managers analyze information to make better decisions."},{"question":"Which is an example of Management Information System (MIS)?","options":["Hospital patient record system","Traffic lights","Power generator","Television"],"correctAnswer":"Hospital patient record system","rationale":"MIS provides structured reports like patient records to aid management decisions."},{"question":"Which component of an Information System provides the rules and procedures for operations?","options":["Hardware","People","Processes","Data"],"correctAnswer":"Processes","rationale":"Processes define the methods and rules for how data is collected, processed, and distributed."},{"question":"Which of the following is NOT a type of Information System?","options":["Transaction Processing System","Management Information System","Decision Support System","Engine Combustion System"],"correctAnswer":"Engine Combustion System","rationale":"Combustion systems are mechanical, not information systems."},{"question":"Executive Support Systems (ESS) are primarily used by:","options":["Technicians","Top-level managers","Students","Data entry clerks"],"correctAnswer":"Top-level managers","rationale":"ESS provides strategic information to senior executives."},{"question":"An Information System that integrates all departments and functions of a company is called:","options":["MIS","DSS","ERP","TPS"],"correctAnswer":"ERP","rationale":"Enterprise Resource Planning (ERP) systems integrate processes across departments."},{"question":"Which of the following is a key difference between data and information?","options":["Data is processed, information is raw","Data is raw facts, information is processed meaning","Both are the same thing","Information is always numerical"],"correctAnswer":"Data is raw facts, information is processed meaning","rationale":"Data is unprocessed, while information is meaningful data."},{"question":"Knowledge in an Information System refers to:","options":["Random facts","Processed information applied for decisions","Hardware manuals","Software installation CDs"],"correctAnswer":"Processed information applied for decisions","rationale":"Knowledge is actionable information used for decision-making."},{"question":"Which of the following is an output of an Information System?","options":["Raw numbers","Reports","Unprocessed data","Wires"],"correctAnswer":"Reports","rationale":"Information Systems produce outputs like reports, charts, and summaries."},{"question":"Which role does IT play in an Information System?","options":["Only physical security","Technology infrastructure for data processing","Making food for staff","Replacing human decision-making completely"],"correctAnswer":"Technology infrastructure for data processing","rationale":"IT provides the hardware, software, and networks needed for IS operations."},{"question":"An Information System that focuses on day-to-day operations is:","options":["Strategic Information System","Transaction Processing System","Decision Support System","Executive Support System"],"correctAnswer":"Transaction Processing System","rationale":"TPS handles routine transactions like sales and payroll."},{"question":"A characteristic of a good Information System is:","options":["Late reporting","Accuracy and timeliness","Irrelevant data","Random processing"],"correctAnswer":"Accuracy and timeliness","rationale":"Effective IS must provide accurate, timely, and relevant information."},{"question":"Which of the following best describes the relationship between IT and IS?","options":["IT is broader than IS","IS is broader than IT","They are exactly the same","Neither is related"],"correctAnswer":"IS is broader than IT","rationale":"IS includes people, processes, and IT; IT is only the technology part of IS."},{"question":"What does processing in an information system primarily involve?","options":["Entering data into the system","Transforming raw data into meaningful information","Storing data for future use","Displaying results on a screen"],"correctAnswer":"Transforming raw data into meaningful information","rationale":"Processing refers to the manipulation of input data to generate useful information."},{"question":"Which component of the CPU is mainly responsible for processing instructions?","options":["Control Unit","Arithmetic Logic Unit (ALU)","Input Device","Output Device"],"correctAnswer":"Arithmetic Logic Unit (ALU)","rationale":"The ALU performs arithmetic and logical operations during processing."},{"question":"In information processing, which step comes immediately after input?","options":["Output","Storage","Processing","Feedback"],"correctAnswer":"Processing","rationale":"After input, data is processed to transform it into information."},{"question":"Batch processing is best described as:","options":["Processing data immediately as it is entered","Processing data at scheduled intervals or in groups","Processing that happens in real-time","Processing that requires no human intervention"],"correctAnswer":"Processing data at scheduled intervals or in groups","rationale":"Batch processing handles data in large sets at specific times rather than instantly."},{"question":"Which type of processing is used in ATMs?","options":["Batch processing","Offline processing","Real-time processing","Distributed processing"],"correctAnswer":"Real-time processing","rationale":"ATMs require immediate response, hence they rely on real-time processing."},{"question":"Which of these best represents the data processing cycle?","options":["Input → Storage → Output → Processing","Storage → Processing → Input → Output","Input → Processing → Output → Storage","Processing → Input → Output → Storage"],"correctAnswer":"Input → Processing → Output → Storage","rationale":"This cycle reflects the logical flow of how information systems handle data."},{"question":"Which of the following is NOT a form of data processing?","options":["Batch","Real-time","Online","Backup"],"correctAnswer":"Backup","rationale":"Backup is a storage and safety measure, not a method of processing data."},{"question":"Parallel processing in computers refers to:","options":["Running one task at a time","Running multiple tasks simultaneously","Storing data in parallel memory units","Displaying output on multiple screens"],"correctAnswer":"Running multiple tasks simultaneously","rationale":"Parallel processing allows a system to execute several tasks at once, improving efficiency."},{"question":"What is the main purpose of information processing?","options":["To generate raw data","To convert data into useful information","To delete unnecessary files","To transmit signals across networks"],"correctAnswer":"To convert data into useful information","rationale":"Processing adds value to raw data, producing information that supports decision-making."},{"question":"Which of these is an example of real-time processing?","options":["Payroll systems","Online flight booking","Exam grading after a semester","Data backup at night"],"correctAnswer":"Online flight booking","rationale":"Flight booking systems require immediate processing to update seat availability."},{"question":"What role does the Control Unit play in processing?","options":["Stores data temporarily","Directs the flow of instructions and data","Performs arithmetic operations","Handles user input"],"correctAnswer":"Directs the flow of instructions and data","rationale":"The Control Unit coordinates the activities of the computer system during processing."},{"question":"Which of these is a disadvantage of batch processing?","options":["It requires expensive equipment","It delays output since data is processed later","It cannot handle large volumes of data","It only works with small datasets"],"correctAnswer":"It delays output since data is processed later","rationale":"Batch systems wait until sufficient data is collected before processing, causing delays."},{"question":"Data validation during processing ensures:","options":["Data is accurate and meaningful","Data is backed up properly","Data is displayed in reports","Data is transmitted quickly"],"correctAnswer":"Data is accurate and meaningful","rationale":"Validation checks correctness and accuracy before data is processed."},{"question":"Which system uses distributed processing?","options":["A standalone desktop computer","A single-user word processor","Cloud computing platforms","Simple calculators"],"correctAnswer":"Cloud computing platforms","rationale":"Cloud computing distributes processing tasks across multiple servers."},{"question":"Which of the following is an example of batch processing?","options":["Point of Sale (POS) systems","ATM withdrawals","Monthly payroll calculation","Online exam grading"],"correctAnswer":"Monthly payroll calculation","rationale":"Payroll systems collect data and process it at scheduled times in batches."},{"question":"Real-time processing is necessary when:","options":["Immediate results are required","Delayed reports are acceptable","Data can be stored for later use","Tasks are not time-sensitive"],"correctAnswer":"Immediate results are required","rationale":"Real-time processing ensures outputs are generated instantly in time-critical systems."},{"question":"Which of these is an example of offline processing?","options":["Bank ATM transactions","Processing exam scripts manually after exams","Airline ticket booking","E-commerce checkout"],"correctAnswer":"Processing exam scripts manually after exams","rationale":"Offline processing is done after data collection, not at the time of entry."},{"question":"Why is feedback important in processing?","options":["It helps improve accuracy and efficiency","It ensures data is stored permanently","It prevents system access","It eliminates the need for input"],"correctAnswer":"It helps improve accuracy and efficiency","rationale":"Feedback allows the system or user to make corrections and improvements in processing."},{"question":"Which processing method is suitable for weather forecasting?","options":["Batch processing","Offline processing","Real-time processing","Manual processing"],"correctAnswer":"Real-time processing","rationale":"Weather forecasting requires immediate updates and analysis of large datasets."},{"question":"Which of the following is an example of parallel processing?","options":["Two printers printing documents at the same time","A CPU performing multiple instructions at once","Two students writing exams in the same hall","Uploading and downloading files separately"],"correctAnswer":"A CPU performing multiple instructions at once","rationale":"Parallel processing refers to a computer handling multiple instructions simultaneously."}]'),Fx=Object.freeze(Object.defineProperty({__proto__:null,default:uA},Symbol.toStringTag,{value:"Module"})),cA=JSON.parse(`[{"question":"Which of the following is an example of an output device?","options":["Keyboard","Monitor","Scanner","Mouse"],"correctAnswer":"Monitor","rationale":"A monitor displays processed information to the user, making it an output device."},{"question":"Which storage device is considered volatile?","options":["Hard Disk","ROM","RAM","DVD"],"correctAnswer":"RAM","rationale":"RAM loses its contents when power is turned off, making it volatile."},{"question":"What does 'output' in an information system refer to?","options":["Data entered into the system","Processed information delivered to users","Instructions given to the CPU","Storage of data"],"correctAnswer":"Processed information delivered to users","rationale":"Output is the result of processed data presented in usable form."},{"question":"Which of the following is a secondary storage device?","options":["RAM","Cache","Hard Disk Drive","Registers"],"correctAnswer":"Hard Disk Drive","rationale":"Hard disk drives provide long-term secondary storage of data and programs."},{"question":"Which device provides hard-copy output?","options":["Monitor","Speaker","Printer","Projector"],"correctAnswer":"Printer","rationale":"Printers produce physical (hard-copy) output on paper."},{"question":"Which type of memory is non-volatile and rewritable?","options":["ROM","RAM","Flash Memory","Cache"],"correctAnswer":"Flash Memory","rationale":"Flash memory retains data without power and can be rewritten many times."},{"question":"The process of converting digital signals into sound output is performed by:","options":["Printer","Speaker","Keyboard","Mouse"],"correctAnswer":"Speaker","rationale":"Speakers convert processed digital audio signals into sound (output)."},{"question":"Which of the following is an example of soft copy output?","options":["Printed paper","Projected image","Photocopied document","Plotter diagram"],"correctAnswer":"Projected image","rationale":"Soft copy output is not permanent and includes displays on screens and projectors."},{"question":"Which optical storage medium can be written once but read many times?","options":["CD-ROM","CD-R","CD-RW","DVD-RW"],"correctAnswer":"CD-R","rationale":"CD-R allows data to be written only once but can be read multiple times."},{"question":"Which device both accepts input and provides output?","options":["Monitor","Printer","Touch Screen","Scanner"],"correctAnswer":"Touch Screen","rationale":"Touch screens allow input through touch and display output simultaneously."},{"question":"Which is NOT a characteristic of secondary storage?","options":["Permanent storage","High capacity","Volatile","Slower than primary memory"],"correctAnswer":"Volatile","rationale":"Secondary storage is non-volatile; it retains data even when the power is off."},{"question":"The process of storing data for future use in a computer system is called:","options":["Output","Storage","Input","Processing"],"correctAnswer":"Storage","rationale":"Storage refers to saving data in a computer for future use."},{"question":"Which output device is most suitable for presentations?","options":["Printer","Plotter","Projector","Speaker"],"correctAnswer":"Projector","rationale":"Projectors are commonly used to display visual information to large audiences."},{"question":"Which of the following is an example of an output device?","options":["Keyboard","Mouse","Monitor","Scanner"],"correctAnswer":"Monitor","rationale":"A monitor displays information to the user, making it an output device."},{"question":"Which storage type is volatile and loses data when power is turned off?","options":["RAM","ROM","Hard Disk","SSD"],"correctAnswer":"RAM","rationale":"RAM is volatile storage that clears data once the system is powered off."},{"question":"Which of the following is a secondary storage device?","options":["RAM","Cache","Hard Disk","Register"],"correctAnswer":"Hard Disk","rationale":"Hard disks store data permanently and are classified as secondary storage."},{"question":"What is the unit of measurement for storage capacity?","options":["Hertz","Bytes","Pixels","Volts"],"correctAnswer":"Bytes","rationale":"Data storage is measured in bytes, such as kilobytes, megabytes, and gigabytes."},{"question":"Which of the following is an example of input hardware?","options":["Monitor","Printer","Keyboard","Speaker"],"correctAnswer":"Keyboard","rationale":"Keyboards are input devices used to send data into the computer."},{"question":"The part of the CPU responsible for performing calculations is:","options":["Control Unit","Arithmetic Logic Unit (ALU)","Memory Unit","Cache"],"correctAnswer":"Arithmetic Logic Unit (ALU)","rationale":"The ALU performs arithmetic and logical operations in the CPU."},{"question":"RAM is best described as:","options":["Permanent storage","Temporary storage","Input device","Output device"],"correctAnswer":"Temporary storage","rationale":"RAM holds data temporarily while the computer is running; its content is lost when power is off."},{"question":"Which storage device uses magnetic disks?","options":["Hard Disk Drive (HDD)","Solid State Drive (SSD)","Flash Drive","CD-ROM"],"correctAnswer":"Hard Disk Drive (HDD)","rationale":"HDDs store data on rotating magnetic platters."},{"question":"The main circuit board in a computer is called:","options":["Power supply","Processor","Motherboard","Chipset"],"correctAnswer":"Motherboard","rationale":"The motherboard holds the CPU, memory, and other essential components."},{"question":"Which is NOT an output device?","options":["Plotter","Printer","Scanner","Monitor"],"correctAnswer":"Scanner","rationale":"Scanners are input devices used to capture data, not output devices."},{"question":"The speed of a processor is measured in:","options":["Bits","Bytes","Hertz","Pixels"],"correctAnswer":"Hertz","rationale":"Processor speed is measured in Hertz (cycles per second)."},{"question":"Which of the following is a pointing device?","options":["Mouse","Keyboard","Monitor","Speaker"],"correctAnswer":"Mouse","rationale":"A mouse is a pointing device used to control the cursor on screen."},{"question":"Which is an example of volatile memory?","options":["Hard Disk","ROM","RAM","Flash"],"correctAnswer":"RAM","rationale":"RAM loses its content when power is switched off, making it volatile."},{"question":"BIOS is stored in:","options":["RAM","ROM","Cache","Hard disk"],"correctAnswer":"ROM","rationale":"BIOS is stored in ROM to persist even when the computer is powered off."},{"question":"An optical storage device includes:","options":["USB Flash","CD-ROM","Hard Drive","SSD"],"correctAnswer":"CD-ROM","rationale":"CD-ROM is an optical disc storage medium that uses lasers to read data."},{"question":"Which device converts digital signals to analog for internet use?","options":["Router","Switch","Modem","Hub"],"correctAnswer":"Modem","rationale":"A modem converts digital data from a computer into analog signals for transmission."},{"question":"The smallest unit of data a computer can process is:","options":["Byte","Bit","Nibble","Word"],"correctAnswer":"Bit","rationale":"A bit (binary digit) is the smallest unit of data in computing."},{"question":"Cache memory is located:","options":["In the hard disk","On the processor","In secondary storage","On the motherboard slot"],"correctAnswer":"On the processor","rationale":"Cache memory is built directly into or near the CPU for fast access."},{"question":"UPS is used to:","options":["Provide backup power","Increase processing speed","Store data permanently","Display output"],"correctAnswer":"Provide backup power","rationale":"Uninterruptible Power Supply (UPS) provides power during outages."},{"question":"Which type of computer memory is non-volatile?","options":["RAM","Cache","ROM","Registers"],"correctAnswer":"ROM","rationale":"ROM retains its contents even when the computer is powered off."},{"question":"A touch screen is an example of:","options":["Input device only","Output device only","Both input and output","Neither"],"correctAnswer":"Both input and output","rationale":"A touch screen allows user input and displays output at the same time."},{"question":"Which of the following is NOT a storage device?","options":["Hard Disk","CD","Scanner","Pen Drive"],"correctAnswer":"Scanner","rationale":"Scanners are used to input images, not store data."},{"question":"The function of the Control Unit (CU) in the CPU is to:","options":["Perform calculations","Store instructions","Direct operations of other units","Display results"],"correctAnswer":"Direct operations of other units","rationale":"The CU directs the flow of data and instructions between components."},{"question":"Which port is commonly used to connect external devices like printers and storage drives?","options":["VGA","USB","HDMI","PS/2"],"correctAnswer":"USB","rationale":"USB ports are the standard interface for connecting external devices."}]`),Gx=Object.freeze(Object.defineProperty({__proto__:null,default:cA},Symbol.toStringTag,{value:"Module"})),hA=[{question:"Which of the following best defines the Internet?",options:["A single computer system used for browsing","A global network of interconnected computers and devices","A private database for storing information","A program for creating documents"],correctAnswer:"A global network of interconnected computers and devices",rationale:"The Internet is a worldwide system of networks that connect millions of computers for communication and resource sharing."},{question:"What is the World Wide Web (WWW)?",options:["A network cable","A collection of linked documents and resources accessed via the Internet","A type of computer virus","A programming language"],correctAnswer:"A collection of linked documents and resources accessed via the Internet",rationale:"The WWW is an information system on the Internet that links documents using hyperlinks and is accessed through browsers."},{question:"Which protocol is primarily used for transferring web pages on the Internet?",options:["FTP","HTTP","SMTP","IPX"],correctAnswer:"HTTP",rationale:"Hypertext Transfer Protocol (HTTP) is the foundation for data communication on the World Wide Web."},{question:"What is the role of a web browser?",options:["To write computer programs","To store files","To retrieve and display web pages","To protect against viruses"],correctAnswer:"To retrieve and display web pages",rationale:"Browsers like Chrome, Firefox, and Edge interpret and display content from the web."},{question:"Which of the following best describes a URL?",options:["An email address","A uniform way to identify and locate resources on the web","A software used to design web pages","A type of malware"],correctAnswer:"A uniform way to identify and locate resources on the web",rationale:"URL stands for Uniform Resource Locator; it is the address used to access resources on the Internet."},{question:"Which of the following is NOT a web browser?",options:["Chrome","Firefox","Microsoft Word","Safari"],correctAnswer:"Microsoft Word",rationale:"Microsoft Word is a word processor, not a web browser."},{question:"What does ISP stand for?",options:["Internet Service Provider","Internal Software Program","Information Security Protocol","Interconnected System Platform"],correctAnswer:"Internet Service Provider",rationale:"ISPs provide users with access to the Internet, such as MTN, Airtel, or Comcast."},{question:"What is the function of DNS (Domain Name System)?",options:["To translate IP addresses into domain names","To secure websites","To store emails","To design web pages"],correctAnswer:"To translate IP addresses into domain names",rationale:"DNS converts human-readable addresses like www.google.com into numerical IP addresses."},{question:"Which of the following is an example of a search engine?",options:["Google","Facebook","Wikipedia","Zoom"],correctAnswer:"Google",rationale:"Google is a search engine used to find information on the World Wide Web."},{question:"What is the main function of a hyperlink?",options:["To send emails","To connect one web page to another","To create images","To encrypt passwords"],correctAnswer:"To connect one web page to another",rationale:"Hyperlinks allow users to navigate between documents and websites."},{question:"Which of the following is true about HTTP and HTTPS?",options:["Both are programming languages","HTTPS is a secure version of HTTP","HTTP is more secure than HTTPS","Neither is used on the web"],correctAnswer:"HTTPS is a secure version of HTTP",rationale:"HTTPS adds encryption (SSL/TLS) to secure communication."},{question:"Which device connects local networks to the Internet?",options:["Router","Scanner","Printer","Monitor"],correctAnswer:"Router",rationale:"Routers direct data traffic and connect local devices to the global Internet."},{question:"What does HTML stand for?",options:["HighText Machine Language","HyperText Markup Language","HyperTool Management Language","Hyperlink and Text Mark Language"],correctAnswer:"HyperText Markup Language",rationale:"HTML is the standard markup language for creating web pages."},{question:"Which organization assigns domain names on the Internet?",options:["UNESCO","ICANN","WHO","ISO"],correctAnswer:"ICANN",rationale:"ICANN (Internet Corporation for Assigned Names and Numbers) manages domain names and IP addresses."},{question:"What is bandwidth in Internet communication?",options:["The speed of a web browser","The amount of data transmitted in a given time","The size of a web page","The distance between networks"],correctAnswer:"The amount of data transmitted in a given time",rationale:"Bandwidth refers to the data transfer capacity of a network connection."},{question:"Which of the following is a disadvantage of the Internet?",options:["Instant access to information","Global communication","Spread of malware and cybercrime","E-commerce opportunities"],correctAnswer:"Spread of malware and cybercrime",rationale:"Despite its advantages, the Internet also allows malicious activities such as hacking and malware distribution."},{question:"Which of these is an example of cloud-based Internet service?",options:["Google Drive","Microsoft Word","Notepad","Calculator"],correctAnswer:"Google Drive",rationale:"Cloud services like Google Drive allow online storage and access to files through the Internet."},{question:"Which of the following is NOT an essential element of data communication?",options:["Message","Sender","Receiver","Compiler"],correctAnswer:"Compiler",rationale:"The essential elements are sender, message, medium, receiver, and protocol; compiler is not part of communication."},{question:"In data communication, what does 'medium' refer to?",options:["The device that sends data","The device that stores data","The channel through which data travels","The speed of transmission"],correctAnswer:"The channel through which data travels",rationale:"The medium is the physical path (like cables or air) used for transmission."},{question:"Which of the following transmission modes allows data to flow in both directions but only one direction at a time?",options:["Simplex","Half-duplex","Full-duplex","Multiplex"],correctAnswer:"Half-duplex",rationale:"Half-duplex communication allows bidirectional flow but not simultaneously."},{question:"Which device regenerates and strengthens signals in a communication system?",options:["Router","Hub","Repeater","Switch"],correctAnswer:"Repeater",rationale:"A repeater amplifies and retransmits signals to extend communication distance."},{question:"What does 'bandwidth' in data communication refer to?",options:["The distance between sender and receiver","The number of users on a network","The capacity of a channel to carry data","The amount of data stored in memory"],correctAnswer:"The capacity of a channel to carry data",rationale:"Bandwidth is the maximum rate at which data can be transmitted over a channel."}],Qx=Object.freeze(Object.defineProperty({__proto__:null,default:hA},Symbol.toStringTag,{value:"Module"})),C0=[{id:"computerSoftware",name:"Computer Software",questions:oA},{id:"database",name:"Database",questions:lA},{id:"infoSystem",name:"Information System",questions:uA},{id:"inputOutputStorage",name:"Input, Output & Storage",questions:cA},{id:"internet",name:"Internet",questions:hA}];function Wx({onSaveResult:r}){const[e,n]=He.useState(0),[s,o]=He.useState({}),[c,f]=He.useState({}),[p,g]=He.useState({}),[y,T]=He.useState(!1),w=C0[e],C=s[w.id]||{},H=c[w.id]||!1,j=p[w.id]||0,W=(ne,te)=>{o(ye=>({...ye,[w.id]:{...ye[w.id],[ne]:te}}))},G=()=>{let ne=0;const te=[];w.questions.forEach((N,S)=>{const R=C[S]||"",M=R===N.correctAnswer;te.push({questionIndex:S,selectedAnswer:R,correctAnswer:N.correctAnswer,isCorrect:M}),M&&ne++});const ye=Math.round(ne/w.questions.length*100);g(N=>({...N,[w.id]:ne})),f(N=>({...N,[w.id]:!0})),r&&(r({topicId:w.id,topicName:w.name,score:ne,totalQuestions:w.questions.length,percentage:ye,completedAt:new Date().toISOString(),answers:te}),T(!0),setTimeout(()=>{T(!1)},3e3))},le=ne=>{o(te=>({...te,[ne]:{}})),f(te=>({...te,[ne]:!1})),g(te=>({...te,[ne]:0}))},se=ne=>({padding:"14px 28px",border:"none",backgroundColor:ne?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#ffffff",color:ne?"white":"#4a5568",cursor:"pointer",borderRadius:"12px 12px 0 0",marginRight:"2px",fontSize:"14px",fontWeight:ne?"600":"500",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:ne?"0 4px 14px 0 rgba(102, 126, 234, 0.39)":"0 2px 4px 0 rgba(0, 0, 0, 0.1)",transform:ne?"translateY(-2px)":"translateY(0)",background:ne?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"#ffffff",borderBottom:ne?"none":"2px solid #e2e8f0"}),oe={border:"none",borderTop:"none",padding:"32px",borderRadius:"0 12px 12px 12px",backgroundColor:"#ffffff",minHeight:"500px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)"};return x.jsxs("div",{style:{padding:"32px",maxWidth:"1200px",margin:"auto",backgroundColor:"#f7fafc",minHeight:"100vh",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif",position:"relative"},children:[y&&x.jsxs("div",{style:{position:"fixed",top:"20px",left:"50%",transform:"translateX(-50%)",backgroundColor:"#48bb78",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 8px 25px rgba(72, 187, 120, 0.3)",zIndex:1e3,fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px",animation:"slideDown 0.3s ease-out"},children:[x.jsx("span",{children:"🎉"}),"Quiz completed! Your result has been saved to your dashboard."]}),x.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"20px",padding:"32px",marginBottom:"32px",textAlign:"center",boxShadow:"0 20px 40px rgba(102, 126, 234, 0.3)"},children:[x.jsx("h1",{style:{margin:"0",color:"white",fontSize:"2.5rem",fontWeight:"700",textShadow:"0 2px 4px rgba(0,0,0,0.1)",letterSpacing:"-0.025em"},children:"CSC 227 Practise Questions And Explanations"}),x.jsx("p",{style:{margin:"12px 0 0 0",color:"rgba(255,255,255,0.9)",fontSize:"1.1rem",fontWeight:"400"},children:"Test your knowledge across the topics taught in class."})]}),x.jsx("div",{style:{display:"flex",marginBottom:"0",flexWrap:"wrap",gap:"4px",padding:"0 4px"},children:C0.map((ne,te)=>x.jsxs("div",{style:se(e===te),onClick:()=>n(te),children:[ne.name,c[ne.id]&&x.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",backgroundColor:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"10px",fontWeight:"600"},children:["✓ ",p[ne.id],"/",ne.questions.length]})]},ne.id))}),x.jsxs("div",{style:oe,children:[x.jsxs("h2",{style:{marginBottom:"32px",color:"#2d3748",fontSize:"1.75rem",fontWeight:"600",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},children:["📚 ",w.name]}),H?x.jsxs(x.Fragment,{children:[x.jsxs("div",{style:{textAlign:"center",marginBottom:"40px",padding:"32px",background:j===w.questions.length?"linear-gradient(135deg, #48bb78 0%, #38a169 100%)":"linear-gradient(135deg, #ed8936 0%, #dd6b20 100%)",borderRadius:"20px",color:"white",boxShadow:j===w.questions.length?"0 10px 30px rgba(72, 187, 120, 0.3)":"0 10px 30px rgba(237, 137, 54, 0.3)"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:j===w.questions.length?"🎉":"📈"}),x.jsxs("h2",{style:{color:"white",margin:"0 0 12px 0",fontSize:"2rem",fontWeight:"700"},children:["Your Score: ",j," / ",w.questions.length]}),x.jsx("p",{style:{margin:"0 0 20px 0",fontSize:"1.1rem",opacity:"0.9",fontWeight:"500"},children:j===w.questions.length?"Perfect! Excellent work! �":`You scored ${Math.round(j/w.questions.length*100)}%. Keep practicing! 💪`}),x.jsx("button",{onClick:()=>le(w.id),style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"rgba(255,255,255,0.2)",color:"white",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"25px",cursor:"pointer",fontWeight:"600",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},children:"🔄 Retake Quiz"})]}),w.questions.map((ne,te)=>x.jsxs("div",{style:{marginBottom:"28px",padding:"24px",border:"none",borderRadius:"16px",backgroundColor:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.08)",borderLeft:`6px solid ${C[te]===ne.correctAnswer?"#48bb78":"#f56565"}`,transition:"all 0.3s ease"},children:[x.jsxs("p",{style:{marginBottom:"16px",fontSize:"16px",lineHeight:"1.6",color:"#2d3748",fontWeight:"500"},children:[x.jsxs("span",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"700"},children:["Q",te+1,":"]})," ",ne.question]}),x.jsx("div",{style:{marginBottom:"12px",padding:"12px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:x.jsxs("p",{style:{margin:"0",fontSize:"14px",fontWeight:"600"},children:[x.jsx("span",{style:{color:"#4a5568"},children:"Your Answer:"})," ",x.jsxs("span",{style:{color:C[te]===ne.correctAnswer?"#48bb78":"#f56565",fontWeight:"700"},children:[C[te]||"No answer",C[te]===ne.correctAnswer?" ✅":" ❌"]})]})}),x.jsx("div",{style:{marginBottom:"12px",padding:"12px",backgroundColor:"#edf2f7",borderRadius:"8px"},children:x.jsxs("p",{style:{margin:"0",fontSize:"14px",fontWeight:"600"},children:[x.jsx("span",{style:{color:"#4a5568"},children:"Correct Answer:"})," ",x.jsxs("span",{style:{color:"#48bb78",fontWeight:"700"},children:[ne.correctAnswer," ✅"]})]})}),x.jsx("div",{style:{padding:"16px",backgroundColor:"#f0f4f8",borderRadius:"12px",borderLeft:"4px solid #667eea"},children:x.jsxs("p",{style:{margin:"0",fontSize:"14px",lineHeight:"1.5",color:"#4a5568"},children:[x.jsx("span",{style:{fontWeight:"700",color:"#2d3748"},children:"💡 Explanation:"}),x.jsx("br",{}),ne.rationale]})})]},te))]}):x.jsxs(x.Fragment,{children:[w.questions.map((ne,te)=>x.jsxs("div",{style:{marginBottom:"28px",padding:"24px",border:"none",borderRadius:"16px",backgroundColor:"#ffffff",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",transition:"all 0.3s ease",borderLeft:"4px solid #667eea"},children:[x.jsxs("p",{style:{marginBottom:"12px",fontSize:"15px",lineHeight:"1.5",color:"#2d3748",fontWeight:"500",textAlign:"left",wordBreak:"break-word"},children:[x.jsxs("span",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",fontWeight:"700"},children:["Q",te+1,":"]})," ",ne.question]}),x.jsx("div",{style:{marginLeft:"0"},children:ne.options.map((ye,N)=>x.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"12px",cursor:"pointer",padding:"12px 16px",borderRadius:"12px",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",backgroundColor:C[te]===ye?"#e6f3ff":"#f8fafc",border:`2px solid ${C[te]===ye?"#667eea":"#e2e8f0"}`,transform:"scale(1)"},onMouseEnter:S=>{const R=S.target;C[te]!==ye&&(R.style.backgroundColor="#f0f4f8",R.style.transform="translateY(-1px)",R.style.boxShadow="0 4px 8px rgba(0,0,0,0.1)")},onMouseLeave:S=>{const R=S.target;C[te]!==ye&&(R.style.backgroundColor="#f8fafc",R.style.transform="translateY(0)",R.style.boxShadow="none")},children:[x.jsx("input",{type:"radio",name:`question-${w.id}-${te}`,value:ye,checked:C[te]===ye,onChange:()=>W(te,ye),style:{marginRight:"12px",transform:"scale(1.2)",accentColor:"#667eea"}}),x.jsx("span",{style:{fontSize:"15px",color:"#4a5568",fontWeight:"500"},children:ye})]},N))})]},te)),x.jsx("div",{style:{textAlign:"center",marginTop:"40px"},children:x.jsxs("button",{onClick:G,style:{padding:"16px 40px",fontSize:"16px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"50px",cursor:"pointer",fontWeight:"600",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",boxShadow:"0 8px 20px rgba(102, 126, 234, 0.3)",transform:"translateY(0)",letterSpacing:"0.5px"},onMouseEnter:ne=>{const te=ne.target;te.style.transform="translateY(-2px)",te.style.boxShadow="0 12px 25px rgba(102, 126, 234, 0.4)"},onMouseLeave:ne=>{const te=ne.target;te.style.transform="translateY(0)",te.style.boxShadow="0 8px 20px rgba(102, 126, 234, 0.3)"},children:["🎯 Submit ",w.name," Quiz"]})})]})]}),x.jsx("style",{children:`
        @keyframes slideDown {
          0% {
            transform: translateX(-50%) translateY(-20px);
            opacity: 0;
          }
          100% {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
          }
        }
      `})]})}class Kx{async saveQuizResult(e){try{const n=Qi.currentUser;if(!n)return{result:null,error:"User not authenticated"};const s=n.displayName||"Unknown",o=Math.round(e.score/e.totalQuestions*100),c={studentId:n.uid,matricNumber:s,topic:e.topic,score:e.score,totalQuestions:e.totalQuestions,percentage:o,answers:e.answers,completedAt:ax(),timeSpent:e.timeSpent||0},p={id:(await rx(Fc(Yi,"quizResults"),c)).id,...c,completedAt:new Date().toISOString()};return console.log("✅ Quiz result saved to Firestore:",p.id),{result:p,error:null}}catch(n){return console.error("❌ Error saving quiz result to Firestore:",n),{result:null,error:n.message}}}async getStudentResults(){try{const e=Qi.currentUser;if(!e)return{results:[],error:"User not authenticated"};const n=Rp(Fc(Yi,"quizResults"),JE("studentId","==",e.uid)),o=(await Ip(n)).docs.map(c=>({id:c.id,...c.data(),completedAt:c.data().completedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));return o.sort((c,f)=>new Date(f.completedAt).getTime()-new Date(c.completedAt).getTime()),console.log(`📊 Loaded ${o.length} quiz results from Firestore`),{results:o,error:null}}catch(e){return console.error("❌ Error getting student results from Firestore:",e),{results:[],error:e.message}}}async getStudentStats(){try{const{results:e,error:n}=await this.getStudentResults();if(n)return{stats:null,error:n};if(e.length===0)return{stats:{totalQuizzes:0,averageScore:0,bestScore:0,topicStats:[]},error:null};const s=e.length,o=Math.round(e.reduce((y,T)=>y+T.percentage,0)/s),c=Math.max(...e.map(y=>y.percentage)),f=e.reduce((y,T)=>(y[T.topic]||(y[T.topic]=[]),y[T.topic].push(T),y),{}),p=Object.entries(f).map(([y,T])=>{const w=T[0],C=T.length,H=Math.max(...T.map(j=>j.percentage));return{topic:y,score:w.score,percentage:H,attempts:C,lastAttempt:w.completedAt}}),g={totalQuizzes:s,averageScore:o,bestScore:c,topicStats:p};return console.log("📈 Calculated student stats:",g),{stats:g,error:null}}catch(e){return console.error("❌ Error calculating student stats:",e),{stats:{totalQuizzes:0,averageScore:0,bestScore:0,topicStats:[]},error:e.message}}}async getAllResults(){try{const e=Rp(Fc(Yi,"quizResults")),s=(await Ip(e)).docs.map(o=>({id:o.id,...o.data(),completedAt:o.data().completedAt?.toDate?.()?.toISOString()||new Date().toISOString()}));return s.sort((o,c)=>new Date(c.completedAt).getTime()-new Date(o.completedAt).getTime()),{results:s,error:null}}catch(e){return{results:[],error:e.message}}}}const Wc=new Kx;function Yx(){const[r,e]=He.useState("dashboard"),[n,s]=He.useState(null),[o,c]=He.useState([]),[f,p]=He.useState(null),[g,y]=He.useState(!0),[T,w]=He.useState(null),[C,H]=He.useState(!1),[j,W]=He.useState({}),[G,le]=He.useState(null),se=async()=>{try{const b=[{key:"Topic 1: Problem Solving and Algorithm Design",file:"topic1"},{key:"Topic 2: Programming Basics and Syntax",file:"topic2"},{key:"Topic 3: Control Structures and Functions",file:"topic3"},{key:"Topic 4: Data Structures and File Handling",file:"topic4"}],Ce={};for(const we of b)try{const Q=await qx(Object.assign({"../json/ComputerSoftware.json":()=>Gi(()=>Promise.resolve().then(()=>Bx),void 0),"../json/Database.json":()=>Gi(()=>Promise.resolve().then(()=>Hx),void 0),"../json/InfoSystem.json":()=>Gi(()=>Promise.resolve().then(()=>Fx),void 0),"../json/inputoutputstorage.json":()=>Gi(()=>Promise.resolve().then(()=>Gx),void 0),"../json/internet.json":()=>Gi(()=>Promise.resolve().then(()=>Qx),void 0),"../json/students.json":()=>Gi(()=>Promise.resolve().then(()=>Lx),void 0)}),`../json/${we.file}.json`,3);Ce[we.key]=Q.default,Ce[we.file]=Q.default}catch{}W(Ce)}catch{}},oe=b=>{w(b),H(!0)},ne=()=>{w(null),H(!1)};He.useEffect(()=>{te(),se()},[]);const te=async()=>{try{y(!0);const{auth:b}=await Gi(async()=>{const{auth:D}=await Promise.resolve().then(()=>wm);return{auth:D}},void 0),Ce=b.currentUser;le(Ce),console.log("Firebase user:",Ce?.displayName,Ce?.email);const we=await Fl.getCurrentUserProfile();we.profile?(s(we.profile),console.log("Profile loaded:",we.profile)):we.error&&console.log("Profile error:",we.error);const{results:Q,error:re}=await Wc.getStudentResults();re||c(Q);const{stats:fe,error:je}=await Wc.getStudentStats();je||p(fe)}catch{}finally{y(!1)}},ye=async b=>{try{const{result:Ce,error:we}=await Wc.saveQuizResult({topic:b.topicName,score:b.score,totalQuestions:b.totalQuestions,answers:b.answers,timeSpent:0});we||(await te(),setTimeout(()=>{e("dashboard")},2e3))}catch{}},N=async()=>{await Fl.logout()},S=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),R=b=>b>=90?"#48bb78":b>=80?"#38b2ac":b>=70?"#ed8936":b>=60?"#ecc94b":"#f56565",M=b=>b>=90?"A":b>=80?"B":b>=70?"C":b>=60?"D":"F",V=(()=>{if(!f||o.length===0)return{averageScore:0,totalQuizzes:0,bestScore:0};const b=o.length>0?Math.max(...o.map(Ce=>Math.round(Ce.score/Ce.totalQuestions*100))):0;return{averageScore:f.averageScore||0,totalQuizzes:f.totalQuizzes||0,bestScore:b}})();return g?x.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[x.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),x.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):r==="quiz"?x.jsxs("div",{style:{position:"relative"},children:[x.jsxs("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:1e3,display:"flex",gap:"12px"},children:[x.jsx("button",{onClick:()=>e("dashboard"),style:{padding:"12px 20px",backgroundColor:"#4299e1",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",boxShadow:"0 4px 12px rgba(66, 153, 225, 0.3)"},children:"📊 Back to Dashboard"}),x.jsx("button",{onClick:N,style:{padding:"12px 20px",backgroundColor:"#f56565",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",boxShadow:"0 4px 12px rgba(245, 101, 101, 0.3)"},children:"🚪 Logout"})]}),x.jsx(Wx,{onSaveResult:ye})]}):x.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"#f7fafc",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif"},children:[x.jsx("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"24px 32px",color:"white",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)"},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},children:[x.jsxs("div",{children:[x.jsx("h1",{style:{margin:"0 0 4px 0",fontSize:"28px",fontWeight:"700"},children:"🎓Dashboard"}),x.jsxs("p",{style:{margin:"0",fontSize:"16px",opacity:"0.9"},children:["Welcome back, ",x.jsx("strong",{children:n?.matricNumber||n?.fullName||G?.displayName||G?.email||"Student"})]})]}),x.jsxs("div",{style:{display:"flex",gap:"12px"},children:[x.jsx("button",{onClick:()=>e("quiz"),style:{padding:"12px 24px",backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid rgba(255, 255, 255, 0.3)",borderRadius:"25px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease",backdropFilter:"blur(10px)"},children:"📝 Take Quiz"}),x.jsx("button",{onClick:N,style:{padding:"12px 24px",backgroundColor:"rgba(245, 101, 101, 0.9)",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease"},children:"🚪 Logout"})]})]})}),x.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px"},children:[x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px"},children:[x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #48bb78"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"📊"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Average Score"})]}),x.jsxs("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#48bb78"},children:[V.averageScore,"%"]})]}),x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #4299e1"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"📚"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Quizzes Completed"})]}),x.jsxs("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#4299e1"},children:[f?.totalQuizzes||0,"/20"]})]}),x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #ed8936"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"🏆"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Best Score"})]}),x.jsxs("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#ed8936"},children:[V.bestScore,"%"]})]})]}),x.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",overflow:"hidden"},children:[x.jsx("div",{style:{padding:"24px 32px",borderBottom:"1px solid #e2e8f0",background:"linear-gradient(90deg, #f8fafc 0%, #ffffff 100%)"},children:x.jsx("h2",{style:{margin:"0",color:"#2d3748",fontSize:"24px",fontWeight:"700"},children:"📈 Quiz Results History"})}),o.length===0?x.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",color:"#718096"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📝"}),x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#4a5568"},children:"No Quiz Results Yet"}),x.jsx("p",{style:{margin:"0",fontSize:"16px"},children:"Take your first quiz to see your results here!"}),x.jsx("button",{onClick:()=>e("quiz"),style:{marginTop:"20px",padding:"12px 24px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontWeight:"600",fontSize:"16px"},children:"🚀 Start First Quiz"})]}):x.jsx("div",{style:{padding:"0"},children:o.map((b,Ce)=>x.jsx("div",{onClick:()=>oe(b),style:{padding:"24px 32px",borderBottom:Ce<o.length-1?"1px solid #f1f5f9":"none",transition:"all 0.2s ease",cursor:"pointer"},onMouseEnter:we=>{we.currentTarget.style.backgroundColor="#f8fafc",we.currentTarget.style.transform="translateX(4px)"},onMouseLeave:we=>{we.currentTarget.style.backgroundColor="transparent",we.currentTarget.style.transform="translateX(0)"},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"16px"},children:[x.jsxs("div",{style:{flex:"1",minWidth:"250px"},children:[x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#2d3748",fontSize:"18px",fontWeight:"600"},children:b.topic}),x.jsxs("p",{style:{margin:"0",color:"#718096",fontSize:"14px"},children:["Completed on ",S(b.completedAt)," • Click for details"]})]}),"                    ",x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[x.jsxs("div",{style:{textAlign:"center",minWidth:"80px"},children:[x.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:R(Math.round(b.score/b.totalQuestions*100)),marginBottom:"4px"},children:[b.score,"/",b.totalQuestions]}),x.jsxs("div",{style:{fontSize:"12px",color:"#718096",fontWeight:"500"},children:[Math.round(b.score/b.totalQuestions*100),"%"]})]}),x.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:R(Math.round(b.score/b.totalQuestions*100)),display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px",fontWeight:"700"},children:M(Math.round(b.score/b.totalQuestions*100))})]})]})},b.id))})]}),x.jsxs("div",{style:{marginTop:"32px",textAlign:"center",padding:"32px",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)"},children:[x.jsx("h3",{style:{margin:"0 0 16px 0",color:"#2d3748",fontSize:"20px",fontWeight:"600"},children:"🎯 Ready for More Practice?"}),x.jsx("button",{onClick:()=>e("quiz"),style:{padding:"16px 32px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontWeight:"600",fontSize:"16px",transition:"all 0.3s ease",boxShadow:"0 8px 20px rgba(102, 126, 234, 0.3)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-2px)",b.currentTarget.style.boxShadow="0 12px 25px rgba(102, 126, 234, 0.4)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 20px rgba(102, 126, 234, 0.3)"},children:"🚀 Take Quiz Now"})]})]}),C&&T&&x.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:x.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"hidden",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.3)"},children:[x.jsxs("div",{style:{padding:"24px 32px",borderBottom:"1px solid #e2e8f0",background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{children:[x.jsxs("h2",{style:{margin:"0",fontSize:"24px",fontWeight:"700"},children:["📊 ",T.topic," - Detailed Results"]}),x.jsxs("p",{style:{margin:"8px 0 0 0",opacity:.9,fontSize:"14px"},children:["Score: ",T.score,"/",T.totalQuestions," (",Math.round(T.score/T.totalQuestions*100),"%) • ",S(T.completedAt)]})]}),x.jsx("button",{onClick:ne,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",fontSize:"24px",width:"40px",height:"40px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:"✕"})]}),x.jsx("div",{style:{padding:"0",maxHeight:"calc(90vh - 120px)",overflowY:"auto"},children:T.answers&&T.answers.length>0?T.answers.map((b,Ce)=>{const we=j[T.topic]||j.topic1||j.topic2||j.topic3||j.topic4||[],Q=we[b.questionIndex]||we[Ce];return x.jsx("div",{style:{padding:"24px 32px",borderBottom:Ce<T.answers.length-1?"1px solid #f1f5f9":"none"},children:x.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px",marginBottom:"16px"},children:[x.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:b.isCorrect?"#48bb78":"#f56565",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"700",fontSize:"14px",flexShrink:0},children:Ce+1}),x.jsxs("div",{style:{flex:1},children:[x.jsx("h4",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"600",color:"#2d3748",lineHeight:"1.5"},children:Q?.question||`Question ${Ce+1}`}),x.jsxs("div",{style:{marginBottom:"16px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[x.jsx("span",{style:{fontSize:"14px",color:"#718096",fontWeight:"500"},children:"Your Answer:"}),x.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:b.isCorrect?"#48bb78":"#f56565"},children:b.selectedAnswer}),x.jsx("span",{style:{fontSize:"12px",color:b.isCorrect?"#48bb78":"#f56565",fontWeight:"600"},children:b.isCorrect?"✓ Correct":"✗ Incorrect"})]}),!b.isCorrect&&x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[x.jsx("span",{style:{fontSize:"14px",color:"#718096",fontWeight:"500"},children:"Correct Answer:"}),x.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"#48bb78"},children:b.correctAnswer})]})]}),Q?.rationale&&x.jsxs("div",{style:{backgroundColor:"#f8fafc",padding:"12px 16px",borderRadius:"8px",borderLeft:"4px solid #4299e1"},children:[x.jsx("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"6px"},children:x.jsx("span",{style:{fontSize:"12px",color:"#4299e1",fontWeight:"600"},children:"💡 EXPLANATION:"})}),x.jsx("p",{style:{margin:"0",fontSize:"14px",color:"#4a5568",lineHeight:"1.5"},children:Q.rationale})]})]})]})},Ce)}):x.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",color:"#718096"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📝"}),x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#4a5568"},children:"No detailed answers available"}),x.jsx("p",{style:{margin:"0",fontSize:"16px"},children:"This quiz result doesn't contain detailed answer information."})]})})]})})]})}function Xx(){const[r,e]=He.useState([]),[n,s]=He.useState(!0),[o,c]=He.useState("matricNumber"),[f,p]=He.useState("asc");He.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const{results:j,error:W}=await Wc.getAllResults();if(W)return;const G=new Map;for(const se of j)G.has(se.matricNumber)||G.set(se.matricNumber,{matricNumber:se.matricNumber,fullName:se.studentId||se.matricNumber,attempts:[],totalAttempts:0,averageScore:0}),G.get(se.matricNumber).attempts.push({topic:se.topic,score:se.score,totalQuestions:se.totalQuestions,percentage:Math.round(se.score/se.totalQuestions*100),completedAt:se.completedAt});const le=Array.from(G.values()).map(se=>(se.totalAttempts=se.attempts.length,se.averageScore=se.attempts.length>0?Math.round(se.attempts.reduce((oe,ne)=>oe+ne.percentage,0)/se.attempts.length):0,se.attempts.sort((oe,ne)=>new Date(ne.completedAt).getTime()-new Date(oe.completedAt).getTime()),se));e(le)}catch{}finally{s(!1)}},y=j=>{o===j?p(f==="asc"?"desc":"asc"):(c(j),p("asc"))},T=[...r].sort((j,W)=>{let G,le;switch(o){case"matricNumber":G=j.matricNumber,le=W.matricNumber;break;case"averageScore":G=j.averageScore,le=W.averageScore;break;case"totalAttempts":G=j.totalAttempts,le=W.totalAttempts;break;default:G=j.matricNumber,le=W.matricNumber}return typeof G=="string"&&typeof le=="string"?f==="asc"?G.localeCompare(le):le.localeCompare(G):f==="asc"?G-le:le-G}),w=j=>new Date(j).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=j=>j>=80?"#48bb78":j>=70?"#ed8936":j>=60?"#ecc94b":"#f56565",H=async()=>{await Fl.logout()};return n?x.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:x.jsxs("div",{style:{backgroundColor:"white",padding:"32px",borderRadius:"16px",textAlign:"center",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📊"}),x.jsx("h2",{style:{margin:"0",color:"#2d3748"},children:"Loading Admin Dashboard..."})]})}):x.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[x.jsx("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.2)",padding:"20px 0"},children:x.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsxs("div",{children:[x.jsx("h1",{style:{margin:"0",color:"#2d3748",fontSize:"28px",fontWeight:"700"},children:"🎓 Admin Dashboard"}),x.jsx("p",{style:{margin:"4px 0 0 0",color:"#718096",fontSize:"16px"},children:"Student Quiz Results Overview"})]}),x.jsx("button",{onClick:H,style:{padding:"12px 24px",backgroundColor:"#e53e3e",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"600",fontSize:"14px",transition:"all 0.3s ease"},children:"🚪 Logout"})]})}),x.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"32px"},children:[x.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"24px",marginBottom:"32px"},children:[x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #4299e1"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"👥"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Total Students"})]}),x.jsx("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#4299e1"},children:r.length})]}),x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #48bb78"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"📝"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Total Attempts"})]}),x.jsx("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#48bb78"},children:r.reduce((j,W)=>j+W.totalAttempts,0)})]}),x.jsxs("div",{style:{backgroundColor:"white",padding:"24px",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",borderLeft:"4px solid #ed8936"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"12px"},children:[x.jsx("span",{style:{fontSize:"24px",marginRight:"12px"},children:"📊"}),x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px"},children:"Overall Average"})]}),x.jsxs("p",{style:{margin:"0",fontSize:"32px",fontWeight:"700",color:"#ed8936"},children:[r.length>0?Math.round(r.reduce((j,W)=>j+W.averageScore,0)/r.length):0,"%"]})]})]}),x.jsxs("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05)",overflow:"hidden"},children:[x.jsx("div",{style:{padding:"24px 32px",borderBottom:"1px solid #e2e8f0",background:"linear-gradient(90deg, #f8fafc 0%, #ffffff 100%)"},children:x.jsxs("h2",{style:{margin:"0",color:"#2d3748",fontSize:"24px",fontWeight:"700"},children:["📈 Student Quiz Results (",r.length," students)"]})}),x.jsxs("div",{style:{padding:"16px 32px",borderBottom:"1px solid #e2e8f0",backgroundColor:"#f8fafc",display:"flex",gap:"12px",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:"14px",color:"#718096",fontWeight:"500"},children:"Sort by:"}),["matricNumber","averageScore","totalAttempts"].map(j=>x.jsxs("button",{onClick:()=>y(j),style:{padding:"6px 12px",backgroundColor:o===j?"#667eea":"white",color:o===j?"white":"#4a5568",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500",display:"flex",alignItems:"center",gap:"4px"},children:[j==="matricNumber"&&"Matric Number",j==="averageScore"&&"Average Score",j==="totalAttempts"&&"Attempts",o===j&&x.jsx("span",{style:{fontSize:"10px"},children:f==="asc"?"↑":"↓"})]},j))]}),T.length===0?x.jsxs("div",{style:{padding:"48px 32px",textAlign:"center",color:"#718096"},children:[x.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"📝"}),x.jsx("h3",{style:{margin:"0 0 8px 0",color:"#4a5568"},children:"No Student Results Found"}),x.jsx("p",{style:{margin:"0",fontSize:"16px"},children:"No students have taken any quizzes yet."})]}):x.jsx("div",{style:{padding:"0"},children:T.map((j,W)=>x.jsxs("div",{style:{padding:"24px 32px",borderBottom:W<T.length-1?"1px solid #f1f5f9":"none"},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[x.jsxs("div",{children:[x.jsx("h3",{style:{margin:"0",color:"#2d3748",fontSize:"18px",fontWeight:"600"},children:j.matricNumber}),x.jsxs("p",{style:{margin:"4px 0 0 0",color:"#718096",fontSize:"14px"},children:[j.totalAttempts," attempt",j.totalAttempts!==1?"s":""," • ",j.averageScore,"% average"]})]}),x.jsxs("div",{style:{padding:"8px 16px",backgroundColor:C(j.averageScore),color:"white",borderRadius:"20px",fontSize:"14px",fontWeight:"600"},children:[j.averageScore,"%"]})]}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:j.attempts.map((G,le)=>x.jsxs("div",{style:{padding:"16px",backgroundColor:"#f8fafc",borderRadius:"8px",borderLeft:`4px solid ${C(G.percentage)}`},children:[x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[x.jsx("h4",{style:{margin:"0",fontSize:"14px",fontWeight:"600",color:"#2d3748",lineHeight:"1.3"},children:G.topic}),x.jsxs("span",{style:{fontSize:"16px",fontWeight:"700",color:C(G.percentage)},children:[G.score,"/",G.totalQuestions]})]}),x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[x.jsx("span",{style:{fontSize:"12px",color:"#718096"},children:w(G.completedAt)}),x.jsxs("span",{style:{fontSize:"12px",fontWeight:"600",color:C(G.percentage)},children:[G.percentage,"%"]})]})]},le))})]},j.matricNumber))})]})]})]})}function $x(){const[r,e]=He.useState(null),[n,s]=He.useState(!0),o=c=>c?.displayName==="24242424";return He.useEffect(()=>{localStorage.removeItem("quizResults"),localStorage.removeItem("currentUser");const c=Fl.onAuthStateChange(p=>{e(p),s(!1)});return(async()=>{try{const{auth:p}=await Gi(async()=>{const{auth:y}=await Promise.resolve().then(()=>wm);return{auth:y}},void 0),g=p.currentUser;g&&!r&&e(g),s(!1)}catch{s(!1)}})(),()=>c()},[]),n?x.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[x.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid rgba(255,255,255,0.3)",borderTop:"4px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),x.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):r?o(r)?x.jsx(Xx,{}):x.jsx("div",{style:{maxWidth:"480px",margin:"0 auto",minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"16px",boxSizing:"border-box",display:"flex",flexDirection:"column",alignItems:"center"},children:x.jsx(Yx,{})}):x.jsx(jx,{})}Gb.createRoot(document.getElementById("root")).render(x.jsx(He.StrictMode,{children:x.jsx($x,{})}));
